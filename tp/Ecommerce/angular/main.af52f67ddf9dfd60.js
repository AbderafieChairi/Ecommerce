"use strict";(self.webpackChunkEcommerce=self.webpackChunkEcommerce||[]).push([[179],{2313:(Jt,Ze,U)=>{U.d(Ze,{nm:()=>Fe});var m=U(462),Ie=(U(4650),U(3692),U(259),U(5861)),Pe=U(9681),ue=U(4859),Me=U(2090),Ue=U(1877);const he=new Map,fe={activated:!1,tokenObservers:[]},be={initialized:!1,enabled:!1};function Ge(ke){return he.get(ke)||Object.assign({},fe)}function Ke(){return be}class Se{constructor(De,$e,ht,yt,tn){if(this.operation=De,this.retryPolicy=$e,this.getWaitDuration=ht,this.lowerBound=yt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=yt,yt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(De){var $e=this;return(0,Ie.Z)(function*(){$e.stop();try{$e.pending=new Me.BH,yield function Je(ke){return new Promise(De=>{setTimeout(De,ke)})}($e.getNextRun(De)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new Me.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(ht){$e.retryPolicy(ht)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(De){if(De)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const Oe=new Me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(ke){if(!Ge(ke).activated)throw Oe.create("use-before-activation",{appName:ke.name})}function nt(ke,De){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,Ie.Z)(function*({url:ke,body:De},$e){const ht={"Content-Type":"application/json"},yt=$e.getImmediate({optional:!0});if(yt){const ri=yield yt.getHeartbeatsHeader();ri&&(ht["X-Firebase-Client"]=ri)}const tn={method:"POST",body:JSON.stringify(De),headers:ht};let xn,kr;try{xn=yield fetch(ke,tn)}catch(ri){throw Oe.create("fetch-network-error",{originalErrorMessage:ri?.message})}if(200!==xn.status)throw Oe.create("fetch-status-error",{httpStatus:xn.status});try{kr=yield xn.json()}catch(ri){throw Oe.create("fetch-parse-error",{originalErrorMessage:ri?.message})}const hr=kr.ttl.match(/^([\d.]+)(s)$/);if(!hr||!hr[2]||isNaN(Number(hr[1])))throw Oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kr.ttl}`});const qr=1e3*Number(hr[1]),Ni=Date.now();return{token:kr.token,expireTimeMillis:Ni+qr,issuedAtTimeMillis:Ni}})).apply(this,arguments)}function qt(ke,De){const{projectId:$e,appId:ht,apiKey:yt}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${$e}/apps/${ht}:exchangeDebugToken?key=${yt}`,body:{debug_token:De}}}const bt="firebase-app-check-store";let er=null;function Zn(){return er||(er=new Promise((ke,De)=>{try{const $e=indexedDB.open("firebase-app-check-database",1);$e.onsuccess=ht=>{ke(ht.target.result)},$e.onerror=ht=>{var yt;De(Oe.create("storage-open",{originalErrorMessage:null===(yt=ht.target.error)||void 0===yt?void 0:yt.message}))},$e.onupgradeneeded=ht=>{0===ht.oldVersion&&ht.target.result.createObjectStore(bt,{keyPath:"compositeKey"})}}catch($e){De(Oe.create("storage-open",{originalErrorMessage:$e?.message}))}}),er)}function Wr(){return(Wr=(0,Ie.Z)(function*(ke,De){const ht=(yield Zn()).transaction(bt,"readwrite"),tn=ht.objectStore(bt).put({compositeKey:ke,value:De});return new Promise((xn,kr)=>{tn.onsuccess=hr=>{xn()},ht.onerror=hr=>{var qr;kr(Oe.create("storage-set",{originalErrorMessage:null===(qr=hr.target.error)||void 0===qr?void 0:qr.message}))}})})).apply(this,arguments)}const Rn=new Ue.Yd("@firebase/app-check");function Ir(ke,De){return(0,Me.hl)()?function Fn(ke,De){return function Ar(ke,De){return Wr.apply(this,arguments)}(function $n(ke){return`${ke.options.appId}-${ke.name}`}(ke),De)}(ke,De).catch($e=>{Rn.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function Hr(){return Ke().enabled}function cr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Ie.Z)(function*(){const ke=Ke();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fr={error:"UNKNOWN_ERROR"};function or(ke){return Me.US.encodeString(JSON.stringify(ke),!1)}function Wn(ke){return rn.apply(this,arguments)}function rn(){return(rn=(0,Ie.Z)(function*(ke,De=!1){const $e=ke.app;at($e);const ht=Ge($e);let tn,yt=ht.token;if(yt&&!Tt(yt)&&(ht.token=void 0,yt=void 0),!yt){const hr=yield ht.cachedTokenPromise;hr&&(Tt(hr)?yt=hr:yield Ir($e,void 0))}if(!De&&yt&&Tt(yt))return{token:yt.token};let kr,xn=!1;if(Hr()){ht.exchangeTokenPromise||(ht.exchangeTokenPromise=nt(qt($e,yield cr()),ke.heartbeatServiceProvider).finally(()=>{ht.exchangeTokenPromise=void 0}),xn=!0);const hr=yield ht.exchangeTokenPromise;return yield Ir($e,hr),ht.token=hr,{token:hr.token}}try{ht.exchangeTokenPromise||(ht.exchangeTokenPromise=ht.provider.getToken().finally(()=>{ht.exchangeTokenPromise=void 0}),xn=!0),yt=yield Ge($e).exchangeTokenPromise}catch(hr){"appCheck/throttled"===hr.code?Rn.warn(hr.message):Rn.error(hr),tn=hr}return yt?tn?kr=Tt(yt)?{token:yt.token,internalError:tn}:_r(tn):(kr={token:yt.token},ht.token=yt,yield Ir($e,yt)):kr=_r(tn),xn&&wr($e,kr),kr})).apply(this,arguments)}function gn(ke,De){const $e=Ge(ke),ht=$e.tokenObservers.filter(yt=>yt.next!==De);0===ht.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),$e.tokenObservers=ht}function dr(ke){const{app:De}=ke,$e=Ge(De);let ht=$e.tokenRefresher;ht||(ht=function pr(ke){const{app:De}=ke;return new Se((0,Ie.Z)(function*(){let ht;if(ht=Ge(De).token?yield Wn(ke,!0):yield Wn(ke),ht.error)throw ht.error;if(ht.internalError)throw ht.internalError}),()=>!0,()=>{const $e=Ge(De);if($e.token){let ht=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return ht=Math.min(ht,$e.token.expireTimeMillis-3e5),Math.max(0,ht-Date.now())}return 0},3e4,96e4)}(ke),$e.tokenRefresher=ht),!ht.isRunning()&&$e.isTokenAutoRefreshEnabled&&ht.start()}function wr(ke,De){const $e=Ge(ke).tokenObservers;for(const ht of $e)try{"EXTERNAL"===ht.type&&null!=De.error?ht.error(De.error):ht.next(De)}catch{}}function Tt(ke){return ke.expireTimeMillis-Date.now()>0}function _r(ke){return{token:or(fr),error:ke}}class qn{constructor(De,$e){this.app=De,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:De}=Ge(this.app);for(const $e of De)gn(this.app,$e.next);return Promise.resolve()}}const Cn="app-check-internal";!function Mr(){(0,Pe.Xd)(new ue.wA("app-check",ke=>function Ur(ke,De){return new qn(ke,De)}(ke.getProvider("app").getImmediate(),ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,De,$e)=>{ke.getProvider(Cn).initialize()})),(0,Pe.Xd)(new ue.wA(Cn,ke=>function Un(ke){return{getToken:De=>Wn(ke,De),addTokenListener:De=>function Ht(ke,De,$e,ht){const{app:yt}=ke,tn=Ge(yt);if(tn.tokenObservers=[...tn.tokenObservers,{next:$e,error:ht,type:De}],tn.token&&Tt(tn.token)){const kr=tn.token;Promise.resolve().then(()=>{$e({token:kr.token}),dr(ke)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>dr(ke))}(ke,"INTERNAL",De),removeTokenListener:De=>gn(ke.app,De)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.KN)("@firebase/app-check","0.6.0")}();class Fe{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(Jt,Ze,U)=>{U.d(Ze,{Ot:()=>Ee,ZF:()=>gt,hX:()=>Ge,z6:()=>Ie});var m=U(259),F=U(4650),ae=U(462);class Ee{constructor(Se){return Se}}class Ie{constructor(){return(0,m.C6)()}}const Me=new F.OlP("angularfire2._apps"),Ue={provide:Ee,useFactory:function ue(Be){return Be&&1===Be.length?Be[0]:new Ee((0,m.Mq)())},deps:[[new F.FiY,Me]]},he={provide:Ie,deps:[[new F.FiY,Me]]};function fe(Be){return(Se,Je)=>{const At=Se.runOutsideAngular(()=>Be(Je));return new Ee(At)}}let be=(()=>{class Be{constructor(Je){(0,m.KN)("angularfire",ae.q4.full,"core"),(0,m.KN)("angularfire",ae.q4.full,"app"),(0,m.KN)("angular",F.q4F.full,Je.toString())}}return Be.\u0275fac=function(Je){return new(Je||Be)(F.LFG(F.Lbi))},Be.\u0275mod=F.oAB({type:Be}),Be.\u0275inj=F.cJS({providers:[Ue,he]}),Be})();function Ge(Be,...Se){return{ngModule:be,providers:[{provide:Me,useFactory:fe(Be),multi:!0,deps:[F.R0b,F.zs3,ae.HU,...Se]}]}}const gt=(0,ae.u3)(m.ZF,!0)},7323:(Jt,Ze,U)=>{U.d(Ze,{gx:()=>be,dh:()=>Ge,fD:()=>Se,Xb:()=>nt,v0:()=>qt,AR:()=>Be,e5:()=>or,rh:()=>Ht,w7:()=>dr});var m=U(462),F=U(4650),ae=U(3692),Ee=U(259),Ie=U(2313),Pe=U(7946),ue=U(9751);function Me(Dt){return new ue.y(function(qe){return{unsubscribe:(0,Pe.Aj)(Dt,qe.next.bind(qe),qe.error.bind(qe),qe.complete.bind(qe))}})}class be{constructor(qe){return qe}}class Ge{constructor(){return(0,m.vb)("auth")}}const Ke=new F.OlP("angularfire2.auth-instances");function gt(Dt){return(qe,Ct)=>{const cn=qe.runOutsideAngular(()=>Dt(Ct));return new be(cn)}}const st={provide:Ge,deps:[[new F.FiY,Ke]]},Kt={provide:be,useFactory:function He(Dt,qe){const Ct=(0,m.JM)("auth",Dt,qe);return Ct&&new be(Ct)},deps:[[new F.FiY,Ke],ae.Ot]};let en=(()=>{class Dt{constructor(){(0,Ee.KN)("angularfire",m.q4.full,"auth")}}return Dt.\u0275fac=function(Ct){return new(Ct||Dt)},Dt.\u0275mod=F.oAB({type:Dt}),Dt.\u0275inj=F.cJS({providers:[Kt,st]}),Dt})();function Be(Dt,...qe){return{ngModule:en,providers:[{provide:Ke,useFactory:gt(Dt),multi:!0,deps:[F.R0b,F.zs3,m.HU,ae.z6,[new F.FiY,Ie.nm],...qe]}]}}const Se=(0,m.u3)(Me,!0),nt=(0,m.u3)(Pe.Xb,!0),qt=(0,m.u3)(Pe.v0,!0),or=(0,m.u3)(Pe.e5,!0),Ht=(0,m.u3)(Pe.rh,!0),dr=(0,m.u3)(Pe.w7,!0)},1566:(Jt,Ze,U)=>{U.d(Ze,{ET:()=>cl,hJ:()=>gE,B$:()=>Mp,JU:()=>rr,QT:()=>Ah,PL:()=>Sm,ad:()=>Am,Cm:()=>bm,IO:()=>B_,pl:()=>G_,ar:()=>Mm});var Te,m=U(462),F=U(4650),ae=U(7323),Ee=U(3692),Ie=U(259),Pe=U(2313),ue=U(5861),Me=U(9681),Ue=U(4859),he=U(1877),fe=U(2090),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge={},Ke=Ke||{},He=be||self;function gt(){}function st(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),Se=0;function Je(i,e,t){return i.call.apply(i.bind,arguments)}function At(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Oe(i,e,t){return(Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:At).apply(null,arguments)}function ze(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function at(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,c){for(var g=Array(arguments.length-2),C=2;C<arguments.length;C++)g[C-2]=arguments[C];return e.prototype[u].apply(o,g)}}function Re(){this.s=this.s,this.o=this.o}Re.prototype.s=!1,Re.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function en(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++Se)}(this)},Re.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ve(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function _t(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(st(o)){const u=i.length||0,c=o.length||0;i.length=u+c;for(let g=0;g<c;g++)i[u+g]=o[g]}else i.push(o)}}function ct(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{He.addEventListener("test",gt,e),He.removeEventListener("test",gt,e)}catch{}return i}();function Bn(i){return/^[\s\xa0]*$/.test(i)}var _n=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function bt(i,e){return i<e?-1:i>e?1:0}function In(){var i=He.navigator;return i&&(i=i.userAgent)?i:""}function er(i){return-1!=In().indexOf(i)}function Zn(i){return Zn[" "](i),i}Zn[" "]=gt;var $n,i,Fn=er("Opera"),ln=er("Trident")||er("MSIE"),on=er("Edge"),Ar=on||ln,Wr=er("Gecko")&&!(-1!=In().toLowerCase().indexOf("webkit")&&!er("Edge"))&&!(er("Trident")||er("MSIE"))&&!er("Edge"),nr=-1!=In().toLowerCase().indexOf("webkit")&&!er("Edge");function lr(){var i=He.document;return i?i.documentMode:void 0}e:{var Rn="",sr=(i=In(),Wr?/rv:([^\);]+)(\)|;)/.exec(i):on?/Edge\/([\d\.]+)/.exec(i):ln?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nr?/WebKit\/(\S+)/.exec(i):Fn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(sr&&(Rn=sr?sr[1]:""),ln){var Vr=lr();if(null!=Vr&&Vr>parseFloat(Rn)){$n=String(Vr);break e}}$n=Rn}var Ir={};var cr=He.document&&ln&&(lr()||parseInt($n,10))||void 0;function Cr(i,e){if(ct.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Wr){e:{try{Zn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ti[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Cr.X.h.call(this)}}at(Cr,ct);var ti={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fr="closure_listenable_"+(1e6*Math.random()|0),or=0;function Wn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++or,this.ba=this.ea=!1}function rn(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Ht(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function gn(i){const e={};for(const t in i)e[t]=i[t];return e}const dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pr(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let c=0;c<dr.length;c++)t=dr[c],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function wr(i){this.src=i,this.g={},this.h=0}function Tt(i,e){var t=e.type;if(t in i.g){var c,o=i.g[t],u=nt(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(rn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function _r(i,e,t,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==o)return u}return-1}wr.prototype.add=function(i,e,t,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var g=_r(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new Wn(e,this.src,c,!!o,u)).ea=t,i.push(e)),e};var qn="closure_lm_"+(1e6*Math.random()|0),Ur={};function Un(i,e,t,o,u){if(o&&o.once)return Dt(i,e,t,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Un(i,e[c],t,o,u);return null}return t=ce(t),i&&i[fr]?i.N(e,t,Kt(o)?!!o.capture:!!o,u):tr(i,e,t,!1,o,u)}function tr(i,e,t,o,u,c){if(!e)throw Error("Invalid event type");var g=Kt(u)?!!u.capture:!!u,C=An(i);if(C||(i[qn]=C=new wr(i)),(t=C.add(e,t,o,g,c)).proxy)return t;if(o=function Dr(){const e=$t;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)qt||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(cn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Dt(i,e,t,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Dt(i,e[c],t,o,u);return null}return t=ce(t),i&&i[fr]?i.O(e,t,Kt(o)?!!o.capture:!!o,u):tr(i,e,t,!0,o,u)}function qe(i,e,t,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)qe(i,e[c],t,o,u);else o=Kt(o)?!!o.capture:!!o,t=ce(t),i&&i[fr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=_r(c=i.g[e],t,o,u))&&(rn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=An(i))&&(e=i.g[e.toString()],i=-1,e&&(i=_r(e,t,o,u)),(t=-1<i?e[i]:null)&&Ct(t))}function Ct(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[fr])Tt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(cn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=An(e))?(Tt(t,i),0==t.h&&(t.src=null,e[qn]=null)):rn(i)}}}function cn(i){return i in Ur?Ur[i]:Ur[i]="on"+i}function $t(i,e){if(i.ba)i=!0;else{e=new Cr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Ct(i),i=t.call(o,e)}return i}function An(i){return(i=i[qn])instanceof wr?i:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(i){return"function"==typeof i?i:(i[pe]||(i[pe]=function(e){return i.handleEvent(e)}),i[pe])}function K(){Re.call(this),this.i=new wr(this),this.P=this,this.I=null}function ge(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ct(e,i);else if(e instanceof ct)e.target=e.target||i;else{var u=e;pr(e=new ct(o,i),u)}if(u=!0,t)for(var c=t.length-1;0<=c;c--){var g=e.g=t[c];u=se(g,o,!0,e)&&u}if(u=se(g=e.g=i,o,!0,e)&&u,u=se(g,o,!1,e)&&u,t)for(c=0;c<t.length;c++)u=se(g=e.g=t[c],o,!1,e)&&u}function se(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var g=e[c];if(g&&!g.ba&&g.capture==t){var C=g.listener,L=g.ha||g.src;g.ea&&Tt(i.i,g),u=!1!==C.call(L,o)&&u}}return u&&!o.defaultPrevented}at(K,Re),K.prototype[fr]=!0,K.prototype.removeEventListener=function(i,e,t,o){qe(this,i,e,t,o)},K.prototype.M=function(){if(K.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)rn(t[o]);delete i.g[e],i.h--}}this.I=null},K.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},K.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var We=He.JSON.stringify;function ut(){var i=Ot;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Q,Yt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Zt,i=>i.reset());class Zt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ie(i){He.setTimeout(()=>{throw i},0)}function X(i,e){Q||function Ae(){var i=He.Promise.resolve(void 0);Q=function(){i.then(mn)}}(),lt||(Q(),lt=!0),Ot.add(i,e)}var lt=!1,Ot=new class Vt{constructor(){this.h=this.g=null}add(e,t){const o=Yt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function mn(){for(var i;i=ut();){try{i.h.call(i.g)}catch(t){ie(t)}var e=Yt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}lt=!1}function Cn(i,e){K.call(this),this.h=i||1,this.g=e||He,this.j=Oe(this.lb,this),this.l=Date.now()}function Mr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function bi(i,e,t){if("function"==typeof i)t&&(i=Oe(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Oe(i.handleEvent,i)}return 2147483647<Number(e)?-1:He.setTimeout(i,e||0)}function an(i){i.g=bi(()=>{i.g=null,i.i&&(i.i=!1,an(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}at(Cn,K),(Te=Cn.prototype).ca=!1,Te.R=null,Te.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ge(this,"tick"),this.ca&&(Mr(this),this.start()))}},Te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){Cn.X.M.call(this),Mr(this),delete this.g};class Fe extends Re{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:an(this)}M(){super.M(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(i){Re.call(this),this.h=i,this.g={}}at(tt,Re);var wt=[];function Qt(i,e,t,o){Array.isArray(t)||(t&&(wt[0]=t.toString()),t=wt);for(var u=0;u<t.length;u++){var c=Un(e,t[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Pn(i){Ht(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ct(e)},i),i.g={}}function Kn(){this.g=!0}function Xr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ur(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<u.length;g++)u[g]=""}}}return We(t)}catch{return e}}(i,t)+(o?" "+o:"")})}tt.prototype.M=function(){tt.X.M.call(this),Pn(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kn.prototype.Aa=function(){this.g=!1},Kn.prototype.info=function(){};var ws={},qi=null;function Rr(){return qi=qi||new K}function Pi(i){ct.call(this,ws.Pa,i)}function ni(i){const e=Rr();ge(e,new Pi(e))}function ke(i,e){ct.call(this,ws.STAT_EVENT,i),this.stat=e}function De(i){const e=Rr();ge(e,new ke(e,i))}function $e(i,e){ct.call(this,ws.Qa,i),this.size=e}function ht(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){i()},e)}ws.Pa="serverreachability",at(Pi,ct),ws.STAT_EVENT="statevent",at(ke,ct),ws.Qa="timingevent",at($e,ct);var yt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},tn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xn(){}function hr(){}xn.prototype.h=null;var Ki,qr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ni(){ct.call(this,"d")}function ri(){ct.call(this,"c")}function Ui(){}function Oi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new tt(this),this.O=Vo,this.T=new Cn(i=Ar?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}at(Ni,ct),at(ri,ct),at(Ui,xn),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},Ki=new Ui;var Vo=45e3,Ns={},Ds={};function Is(i,e,t){i.K=1,i.v=Ws(Zi(e)),i.s=t,i.P=!0,Xs(i,null)}function Xs(i,e){i.F=Date.now(),Fi(i),i.A=Zi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),oi(t.i,"t",o),i.C=0,t=i.l.H,i.h=new ki,i.g=rt(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Fe(Oe(i.La,i,i.g),i.N)),Qt(i.S,i.g,"readystatechange",i.ib),e=i.H?gn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ni(),function xr(i,e,t,o,u,c){i.info(function(){if(i.g)if(c)for(var g="",C=c.split("&"),L=0;L<C.length;L++){var H=C[L].split("=");if(1<H.length){var te=H[0];H=H[1];var we=te.split("_");g=2<=we.length&&"type"==we[1]?g+(te+"=")+H+"&":g+(te+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function zs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Os(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=ks(i,t),u==Ds){4==e&&(i.o=4,De(14),o=!1),Xr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ns){i.o=4,De(15),Xr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Xr(i.j,i.m,u,null),ci(i,u)}zs(i)&&u!=Ds&&u!=Ns&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,De(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),bo(e),e.K=!0,De(11))):(Xr(i.j,i.m,t,"[Invalid Chunked Response]"),Ls(i),Yi(i))}function ks(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ds:(t=Number(e.substring(t,o)),isNaN(t)?Ns:(o+=1)+t>e.length?Ds:(e=e.substr(o,t),i.C=o+t,e))}function Fi(i){i.V=Date.now()+i.O,rs(i,i.O)}function rs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ht(Oe(i.gb,i),e)}function Fs(i){i.B&&(He.clearTimeout(i.B),i.B=null)}function Yi(i){0==i.l.G||i.I||A(i.l,i)}function Ls(i){Fs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Mr(i.T),Pn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ci(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||zi(t.h,i)))if(!i.J&&zi(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;To(t),hi(t)}Ss(t),De(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ht(Oe(t.cb,t),6e3));if(1>=yo(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else R(t,11)}else if((i.J||t.g==i)&&To(t),!Bn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const te=H[3];null!=te&&(t.ma=te,t.j.info("VER="+t.ma));const we=H[4];null!=we&&(t.Ca=we,t.j.info("SVER="+t.Ca));const Qe=H[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.J=o=1.5*Qe,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const It=i.g;if(It){const Ut=It.g?It.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var c=o.h;c.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Cs(c,c.h),c.h=null))}if(o.D){const yn=It.g?It.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(o.za=yn,Br(o.F,o.D,yn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=ye(o,o.H?o.ka:null,o.V),g.J){ii(o.h,g);var C=g,L=o.J;L&&C.setTimeout(L),C.B&&(Fs(C),Fi(C)),o.g=g}else _o(o);0<t.i.length&&Jr(t)}else"stop"!=H[0]&&"close"!=H[0]||R(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?R(t,7):Ci(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}ni()}catch{}}function bs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(st(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function mo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(st(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Js(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(st(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,c=0;c<u;c++)e.call(void 0,o[c],t&&t[c],i)}(Te=Oi.prototype).setTimeout=function(i){this.O=i},Te.ib=function(i){i=i.target;const e=this.L;e&&3==Ft(i)?e.l():this.La(i)},Te.La=function(i){try{if(i==this.g)e:{const te=Ft(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>te)&&(3!=te||Ar||this.g&&(this.h.h||this.g.fa()||nn(this.g)))){this.I||4!=te||7==e||ni(),Fs(this);var t=this.g.aa();this.Y=t;t:if(zs(this)){var o=nn(this.g);i="";var u=o.length,c=4==Ft(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),Yi(this);var g="";break t}this.h.i=new He.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function ar(i,e,t,o,u,c,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+c+" "+g})}(this.j,this.u,this.A,this.m,this.U,te,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(C)){var H=C;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,De(12),Ls(this),Yi(this);break e}Xr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ci(this,t)}this.P?(Os(this,te,g),Ar&&this.i&&3==te&&(Qt(this.S,this.T,"tick",this.hb),this.T.start())):(Xr(this.j,this.m,g,null),ci(this,g)),4==te&&Ls(this),this.i&&!this.I&&(4==te?A(this.l,this):(this.i=!1,Fi(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,De(12)):(this.o=0,De(13)),Ls(this),Yi(this)}}}catch{}},Te.hb=function(){if(this.g){var i=Ft(this.g),e=this.g.fa();this.C<e.length&&(Fs(this),Os(this,i,e),this.i&&4!=i&&Fi(this))}},Te.cancel=function(){this.I=!0,Ls(this)},Te.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Ri(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ni(),De(17)),Ls(this),this.o=2,Yi(this)):rs(this,this.V-i)};var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Hi){this.h=void 0!==e?e:i.h,Vs(this,i.j),this.s=i.s,this.g=i.g,hs(this,i.m),this.l=i.l,e=i.i;var t=new Fr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ts(this,t),this.o=i.o}else i&&(t=String(i).match(si))?(this.h=!!e,Vs(this,t[1]||"",!0),this.s=Gi(t[2]||""),this.g=Gi(t[3]||"",!0),hs(this,t[4]),this.l=Gi(t[5]||"",!0),Ts(this,t[6]||"",!0),this.o=Gi(t[7]||"")):(this.h=!!e,this.i=new Fr(null,this.h))}function Zi(i){return new Hi(i)}function Vs(i,e,t){i.j=t?Gi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function hs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ts(i,e,t){e instanceof Fr?(i.i=e,function Ks(i,e){e&&!i.j&&(fs(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(so(this,o),oi(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Us(e,ss)),i.i=new Fr(e,i.h))}function Br(i,e,t){i.i.set(e,t)}function Ws(i){return Br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Us(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,di),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function di(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Hi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Us(e,is,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Us(e,is,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Us(t,"/"==t.charAt(0)?qs:Ti,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Us(t,Io)),i.join("")};var is=/[#\/\?@]/g,Ti=/[#\?:]/g,qs=/[#\?]/g,ss=/[#\?@]/g,Io=/#/g;function Fr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function fs(i){i.g||(i.g=new Map,i.h=0,i.i&&function ds(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var c=i[t].substring(0,o);u=i[t].substring(o+1)}else c=i[t];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function so(i,e){fs(i),e=ai(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function _i(i,e){return fs(i),e=ai(i,e),i.g.has(e)}function oi(i,e,t){so(i,e),0<t.length&&(i.i=null,i.g.set(ai(i,e),Ve(t)),i.h+=t.length)}function ai(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function vr(i){this.l=i||ps,i=He.PerformanceNavigationTiming?0<(i=He.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(He.g&&He.g.Ga&&He.g.Ga()&&He.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=Fr.prototype).add=function(i,e){fs(this),this.i=null,i=ai(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Te.forEach=function(i,e){fs(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},Te.oa=function(){fs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let c=0;c<u.length;c++)t.push(e[o])}return t},Te.W=function(i){fs(this);let e=[];if("string"==typeof i)_i(this,i)&&(e=e.concat(this.g.get(ai(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Te.set=function(i,e){return fs(this),this.i=null,_i(this,i=ai(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Te.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const c=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=c;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var ps=10;function gs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function yo(i){return i.h?1:i.g?i.g.size:0}function zi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Cs(i,e){i.g?i.g.add(e):i.h=e}function ii(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function jn(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ve(i.i)}function J(){}function ne(){this.g=new J}function Ce(i,e,t){const o=t||"";try{bs(i,function(u,c){let g=u;Kt(u)&&(g=We(u)),e.push(o+c+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function vt(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function kt(i){this.l=i.ac||null,this.j=i.jb||!1}function Tn(i,e){K.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=br,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},J.prototype.stringify=function(i){return He.JSON.stringify(i,void 0)},J.prototype.parse=function(i){return He.JSON.parse(i,void 0)},at(kt,xn),kt.prototype.g=function(){return new Tn(this.l,this.j)},kt.prototype.i=function(i){return function(){return i}}({}),at(Tn,K);var br=0;function dt(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function fn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Pr(i)}function Pr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Te=Tn.prototype).open=function(i,e){if(this.readyState!=br)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Pr(this)},Te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||He).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fn(this)),this.readyState=br},Te.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dt(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Te.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?fn(this):Pr(this),3==this.readyState&&dt(this)}},Te.Va=function(i){this.g&&(this.response=this.responseText=i,fn(this))},Te.Ua=function(i){this.g&&(this.response=i,fn(this))},Te.ga=function(){this.g&&fn(this)},Te.setRequestHeader=function(i,e){this.v.append(i,e)},Te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Yn=He.JSON.parse;function Vn(i){K.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=k,this.K=this.L=!1}at(Vn,K);var k="",O=/^https?$/i,f=["POST","PUT"];function G(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,re(i),ft(i)}function re(i){i.D||(i.D=!0,ge(i,"complete"),ge(i,"error"))}function Ne(i){if(i.h&&typeof Ke<"u"&&(!i.C[1]||4!=Ft(i)||2!=i.aa()))if(i.v&&4==Ft(i))bi(i.Ha,0,i);else if(ge(i,"readystatechange"),4==Ft(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var u=String(i.H).match(si)[1]||null;if(!u&&He.self&&He.self.location){var c=He.self.location.protocol;u=c.substr(0,c.length-1)}o=!O.test(u?u.toLowerCase():"")}t=o}if(t)ge(i,"complete"),ge(i,"success");else{i.m=6;try{var g=2<Ft(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",re(i)}}finally{ft(i)}}}function ft(i,e){if(i.g){Mt(i);const t=i.g,o=i.C[0]?gt:null;i.g=null,i.C=null,e||ge(i,"ready");try{t.onreadystatechange=o}catch{}}}function Mt(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(He.clearTimeout(i.A),i.A=null)}function Ft(i){return i.g?i.g.readyState:0}function nn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case k:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Qn(i){let e="";return Ht(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function mr(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Qn(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Br(i,e,t))}function Gr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function vi(i){this.Ca=0,this.i=[],this.j=new Kn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gr("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gr("baseRetryDelayMs",5e3,i),this.bb=Gr("retryDelaySeedMs",1e4,i),this.$a=Gr("forwardChannelMaxRetries",2,i),this.ta=Gr("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new vr(i&&i.concurrentRequestLimit),this.Fa=new ne,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ci(i){if(Bs(i),3==i.G){var e=i.U++,t=Zi(i.F);Br(t,"SID",i.I),Br(t,"RID",e),Br(t,"TYPE","terminate"),fi(i,t),(e=new Oi(i,i.j,e,void 0)).K=2,e.v=Ws(Zi(t)),t=!1,He.navigator&&He.navigator.sendBeacon&&(t=He.navigator.sendBeacon(e.v.toString(),"")),!t&&He.Image&&((new Image).src=e.v,t=!0),t||(e.g=rt(e.l,null),e.g.da(e.v)),e.F=Date.now(),Fi(e)}q(i)}function hi(i){i.g&&(bo(i),i.g.cancel(),i.g=null)}function Bs(i){hi(i),i.u&&(He.clearTimeout(i.u),i.u=null),To(i),i.h.cancel(),i.m&&("number"==typeof i.m&&He.clearTimeout(i.m),i.m=null)}function Jr(i){gs(i.h)||i.m||(i.m=!0,X(i.Ja,i),i.C=0)}function Ji(i,e){var t;t=e?e.m:i.U++;const o=Zi(i.F);Br(o,"SID",i.I),Br(o,"RID",t),Br(o,"AID",i.T),fi(i,o),i.o&&i.s&&mr(o,i.o,i.s),t=new Oi(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=pi(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Cs(i.h,t),Is(t,o,e)}function fi(i,e){i.ia&&Ht(i.ia,function(t,o){Br(e,o,t)}),i.l&&bs({},function(t,o){Br(e,o,t)})}function pi(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Oe(i.l.Ra,i.l,i):null;e:{var u=i.i;let c=-1;for(;;){const g=["count="+t];-1==c?0<t?(c=u[0].h,g.push("ofs="+c)):c=0:g.push("ofs="+c);let C=!0;for(let L=0;L<t;L++){let H=u[L].h;const te=u[L].g;if(H-=c,0>H)c=Math.max(0,u[L].h-100),C=!1;else try{Ce(te,g,"req"+H+"_")}catch{o&&o(te)}}if(C){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function _o(i){i.g||i.u||(i.Z=1,X(i.Ia,i),i.A=0)}function Ss(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ht(Oe(i.Ia,i),$(i,i.A)),i.A++,0))}function bo(i){null!=i.B&&(He.clearTimeout(i.B),i.B=null)}function js(i){i.g=new Oi(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Zi(i.sa);Br(e,"RID","rpc"),Br(e,"SID",i.I),Br(e,"CI",i.L?"0":"1"),Br(e,"AID",i.T),Br(e,"TYPE","xmlhttp"),fi(i,e),i.o&&i.s&&mr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ws(Zi(e)),t.s=null,t.P=!0,Xs(t,i)}function To(i){null!=i.v&&(He.clearTimeout(i.v),i.v=null)}function A(i,e){var t=null;if(i.g==e){To(i),bo(i),i.g=null;var o=2}else{if(!zi(i.h,e))return;t=e.D,ii(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;ge(o=Rr(),new $e(o,t)),Jr(i)}else _o(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function $s(i,e){return!(yo(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ht(Oe(i.Ja,i,e),$(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ss(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:R(i,5);break;case 4:R(i,10);break;case 3:R(i,6);break;default:R(i,2)}}function $(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function R(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Oe(i.kb,i);t||(t=new Hi("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||Vs(t,"https"),Ws(t)),function et(i,e){const t=new Kn;if(He.Image){const o=new Image;o.onload=ze(vt,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ze(vt,t,o,"TestLoadImage: error",!1,e),o.onabort=ze(vt,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ze(vt,t,o,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else De(2);i.G=0,i.l&&i.l.va(e),q(i),Bs(i)}function q(i){if(i.G=0,i.la=[],i.l){const e=jn(i.h);(0!=e.length||0!=i.i.length)&&(_t(i.la,e),_t(i.la,i.i),i.h.i.length=0,Ve(i.i),i.i.length=0),i.l.ua()}}function ye(i,e,t){var o=t instanceof Hi?Zi(t):new Hi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),hs(o,o.m);else{var u=He.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var c=new Hi(null,void 0);o&&Vs(c,o),e&&(c.g=e),u&&hs(c,u),t&&(c.l=t),o=c}return e=i.za,(t=i.D)&&e&&Br(o,t,e),Br(o,"VER",i.ma),fi(i,o),o}function rt(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(t&&i.Da&&!i.ra?new kt({jb:!0}):i.ra)).Ka(i.H),e}function pt(){}function dn(){if(ln&&!(10<=Number(cr)))throw Error("Environmental error: no available transport.")}function Xn(i,e){K.call(this),this.g=new vi(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Bn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Er(this)}function Nr(i){Ni.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Kr(){ri.call(this),this.status=1}function Er(i){this.g=i}(Te=Vn.prototype).Ka=function(i){this.L=i},Te.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ki.g(),this.C=function kr(i){return i.h||(i.h=i.i())}(this.u?this.u:Ki),this.g.onreadystatechange=Oe(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void G(this,c)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const c of o.keys())t.set(c,o.get(c))}o=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),u=He.FormData&&i instanceof He.FormData,!(0<=nt(f,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,g]of t)this.g.setRequestHeader(c,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mt(this),0<this.B&&((this.K=function I(i){return ln&&function Bt(){return function zn(i){var e=Ir;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=_n(String($n)).split("."),t=_n("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",c=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=bt(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||bt(0==u[2].length,0==c[2].length)||bt(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.qa,this)):this.A=bi(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){G(this,c)}},Te.qa=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ge(this,"timeout"),this.abort(8))},Te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ge(this,"complete"),ge(this,"abort"),ft(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ft(this,!0)),Vn.X.M.call(this)},Te.Ha=function(){this.s||(this.F||this.v||this.l?Ne(this):this.fb())},Te.fb=function(){Ne(this)},Te.aa=function(){try{return 2<Ft(this)?this.g.status:-1}catch{return-1}},Te.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Te.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Yn(e)}},Te.Ea=function(){return this.m},Te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=vi.prototype).ma=8,Te.G=1,Te.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Oi(this,this.j,i,void 0);let c=this.s;if(this.S&&(c?(c=gn(c),pr(c,this.S)):c=this.S),null!==this.o||this.N||(u.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pi(this,u,e),Br(t=Zi(this.F),"RID",i),Br(t,"CVER",22),this.D&&Br(t,"X-HTTP-Session-Id",this.D),fi(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Qn(c)))+"&"+e:this.o&&mr(t,this.o,c)),Cs(this.h,u),this.Ya&&Br(t,"TYPE","init"),this.O?(Br(t,"$req",e),Br(t,"SID","null"),u.Z=!0,Is(u,t,null)):Is(u,t,e),this.G=2}}else 3==this.G&&(i?Ji(this,i):0==this.i.length||gs(this.h)||Ji(this))},Te.Ia=function(){if(this.u=null,js(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ht(Oe(this.eb,this),i)}},Te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,De(10),hi(this),js(this))},Te.cb=function(){null!=this.v&&(this.v=null,hi(this),Ss(this),De(19))},Te.kb=function(i){i?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},(Te=pt.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Ra=function(){},dn.prototype.g=function(i,e){return new Xn(i,e)},at(Xn,K),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;De(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ye(i,null,i.V),Jr(i)},Xn.prototype.close=function(){Ci(this.g)},Xn.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=We(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Jr(e)},Xn.prototype.M=function(){this.g.l=null,delete this.j,Ci(this.g),delete this.g,Xn.X.M.call(this)},at(Nr,Ni),at(Kr,ri),at(Er,pt),Er.prototype.xa=function(){ge(this.g,"a")},Er.prototype.wa=function(i){ge(this.g,new Nr(i))},Er.prototype.va=function(i){ge(this.g,new Kr)},Er.prototype.ua=function(){ge(this.g,"b")},dn.prototype.createWebChannel=dn.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,tn.COMPLETE="complete",hr.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",K.prototype.listen=K.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.Oa,Vn.prototype.getLastErrorCode=Vn.prototype.Ea,Vn.prototype.getStatus=Vn.prototype.aa,Vn.prototype.getResponseJson=Vn.prototype.Sa,Vn.prototype.getResponseText=Vn.prototype.fa,Vn.prototype.send=Vn.prototype.da,Vn.prototype.setWithCredentials=Vn.prototype.Ka;var Wi=Ge.createWebChannelTransport=function(){return new dn},Yr=Ge.getStatEventTarget=function(){return Rr()},Si=Ge.ErrorCode=yt,As=Ge.EventType=tn,eo=Ge.Event=ws,to=Ge.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},oo=Ge.FetchXmlHttpFactory=kt,Bi=Ge.WebChannel=hr,Ms=Ge.XhrIo=Vn;const zo="@firebase/firestore";class xs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xs.UNAUTHENTICATED=new xs(null),xs.GOOGLE_CREDENTIALS=new xs("google-credentials-uid"),xs.FIRST_PARTY=new xs("first-party-uid"),xs.MOCK_USER=new xs("mock-user");let ao="9.15.0";const Co=new he.Yd("@firebase/firestore");function Ga(){return Co.logLevel}function Lt(i,...e){if(Co.logLevel<=he.in.DEBUG){const t=e.map(aa);Co.debug(`Firestore (${ao}): ${i}`,...t)}}function es(i,...e){if(Co.logLevel<=he.in.ERROR){const t=e.map(aa);Co.error(`Firestore (${ao}): ${i}`,...t)}}function uo(i,...e){if(Co.logLevel<=he.in.WARN){const t=e.map(aa);Co.warn(`Firestore (${ao}): ${i}`,...t)}}function aa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function En(i="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+i;throw es(e),new Error(e)}function wn(i,e){i||En()}function sn(i,e){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ea{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xs.UNAUTHENTICATED))}shutdown(){}}class va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fu{constructor(e){this.t=e,this.currentUser=xs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const c=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let g=new li;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new li,e.enqueueRetryable(()=>c(this.currentUser))};const C=()=>{const H=g;e.enqueueRetryable((0,ue.Z)(function*(){yield H.promise,yield c(o.currentUser)}))},L=H=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new li)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(wn("string"==typeof o.accessToken),new ea(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new xs(e)}}class Qi{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=xs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class la{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Qi(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(xs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ys{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ea{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=c=>{null!=c.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const g=c.token!==this.A;return this.A=c.token,Lt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?u(c):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.A=t.token,new Ys(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ca(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ta{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ca(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<t&&(o+=e.charAt(u[c]%e.length))}return o}}function Gn(i,e){return i<e?-1:i>e?1:0}function No(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class gi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gi.fromMillis(Date.now())}static fromDate(e){return gi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new gi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new gi(0,0))}static max(){return new bn(new gi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oo{constructor(e,t,o){void 0===t?t=0:t>e.length&&En(),void 0===o?o=e.length-t:o>e.length-t&&En(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Oo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const c=e.get(u),g=t.get(u);if(c<g)return-1;if(c>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $r extends Oo{construct(e,t,o){return new $r(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new xt(ot.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new $r(t)}static emptyPath(){return new $r([])}}const Wa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Oo{construct(e,t,o){return new mi(e,t,o)}static isValidIdentifier(e){return Wa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const c=()=>{if(0===o.length)throw new xt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new xt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new xt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===C?(g=!g,u++):"."!==C||g?(o+=C,u++):(c(),u++)}if(c(),g)throw new xt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt($r.fromString(e))}static fromName(e){return new Rt($r.fromString(e).popFirst(5))}static empty(){return new Rt($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new $r(e.slice()))}}function N(i){return new j(i.readTime,i.key,-1)}class j{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new j(bn.min(),Rt.empty(),-1)}static max(){return new j(bn.max(),Rt.empty(),-1)}}function Z(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(i.documentKey,e.documentKey),0!==t?t:Gn(i.largestBatchId,e.largestBatchId))}const me="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function je(i){return mt.apply(this,arguments)}function mt(){return mt=(0,ue.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==me)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),mt.apply(this,arguments)}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(t,c).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,o)=>{t(e)})}static reject(e){return new ve((t,o)=>{o(e)})}static waitFor(e){return new ve((t,o)=>{let u=0,c=0,g=!1;e.forEach(C=>{++u,C.next(()=>{++c,g&&c===u&&t()},L=>o(L))}),g=!0,c===u&&t()})}static or(e){let t=ve.resolve(!1);for(const o of e)t=t.next(u=>u?ve.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,c)=>{o.push(t.call(this,u,c))}),this.waitFor(o)}static mapArray(e,t){return new ve((o,u)=>{const c=e.length,g=new Array(c);let C=0;for(let L=0;L<c;L++){const H=L;t(e[H]).next(te=>{g[H]=te,++C,C===c&&o(g)},te=>u(te))}})}static doWhile(e,t){return new ve((o,u)=>{const c=()=>{!0===e()?t().next(()=>{c()},u):o()};c()})}}function Dn(i){return"IndexedDbTransactionError"===i.name}let Ai=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class co{constructor(e,t,o,u,c,g,C,L){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.useFetchStreams=L}}class zr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zr&&e.projectId===this.projectId&&e.database===this.database}}function Zs(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function os(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Da(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $o(i){return null==i}function wi(i){return 0===i&&1/i==-1/0}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nn(i){if(wn(!!i),"string"==typeof i){let e=0;const t=Sn.exec(i);if(wn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ln(i.seconds),nanos:Ln(i.nanos)}}function Ln(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function w(i){return"string"==typeof i?zt.fromBase64String(i):zt.fromUint8Array(i)}function D(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function v(i){const e=i.mapValue.fields.__previous_value__;return D(e)?v(e):e}function M(i){const e=Nn(i.mapValue.fields.__local_write_time__.timestampValue);return new gi(e.seconds,e.nanos)}const P_mapValue={fields:{__type__:{stringValue:"__max__"}}};function le(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?D(i)?4:qa(i)?9007199254740991:10:En()}function de(i,e){if(i===e)return!0;const t=le(i);if(t!==le(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return M(i).isEqual(M(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Nn(o.timestampValue),g=Nn(u.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,w(i.bytesValue).isEqual(w(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ln(o.geoPointValue.latitude)===Ln(u.geoPointValue.latitude)&&Ln(o.geoPointValue.longitude)===Ln(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ln(o.integerValue)===Ln(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ln(o.doubleValue),g=Ln(u.doubleValue);return c===g?wi(c)===wi(g):isNaN(c)&&isNaN(g)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],de);case 10:return function(o,u){const c=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Zs(c)!==Zs(g))return!1;for(const C in c)if(c.hasOwnProperty(C)&&(void 0===g[C]||!de(c[C],g[C])))return!1;return!0}(i,e);default:return En()}var u}function it(i,e){return void 0!==(i.values||[]).find(t=>de(t,e))}function Nt(i,e){if(i===e)return 0;const t=le(i),o=le(e);if(t!==o)return Gn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(i.booleanValue,e.booleanValue);case 2:return function(u,c){const g=Ln(u.integerValue||u.doubleValue),C=Ln(c.integerValue||c.doubleValue);return g<C?-1:g>C?1:g===C?0:isNaN(g)?isNaN(C)?0:-1:1}(i,e);case 3:return Jn(i.timestampValue,e.timestampValue);case 4:return Jn(M(i),M(e));case 5:return Gn(i.stringValue,e.stringValue);case 6:return function(u,c){const g=w(u),C=w(c);return g.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const g=u.split("/"),C=c.split("/");for(let L=0;L<g.length&&L<C.length;L++){const H=Gn(g[L],C[L]);if(0!==H)return H}return Gn(g.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const g=Gn(Ln(u.latitude),Ln(c.latitude));return 0!==g?g:Gn(Ln(u.longitude),Ln(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const g=u.values||[],C=c.values||[];for(let L=0;L<g.length&&L<C.length;++L){const H=Nt(g[L],C[L]);if(H)return H}return Gn(g.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===P_mapValue&&c===P_mapValue)return 0;if(u===P_mapValue)return 1;if(c===P_mapValue)return-1;const g=u.fields||{},C=Object.keys(g),L=c.fields||{},H=Object.keys(L);C.sort(),H.sort();for(let te=0;te<C.length&&te<H.length;++te){const we=Gn(C[te],H[te]);if(0!==we)return we;const Qe=Nt(g[C[te]],L[H[te]]);if(0!==Qe)return Qe}return Gn(C.length,H.length)}(i.mapValue,e.mapValue);default:throw En()}}function Jn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Gn(i,e);const t=Nn(i),o=Nn(e),u=Gn(t.seconds,o.seconds);return 0!==u?u:Gn(t.nanos,o.nanos)}function un(i){return Zr(i)}function Zr(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Nn(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?w(i.bytesValue).toBase64():"referenceValue"in i?Rt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const g of o.values||[])c?c=!1:u+=",",u+=Zr(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",g=!0;for(const C of u)g?g=!1:c+=",",c+=`${C}:${Zr(o.fields[C])}`;return c+"}"}(i.mapValue):En();var e}function ys(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vo(i){return!!i&&"integerValue"in i}function no(i){return!!i&&"arrayValue"in i}function ro(i){return!!i&&"nullValue"in i}function ba(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mo(i){return!!i&&"mapValue"in i}function ha(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return os(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ha(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ha(i.arrayValue.values[t]);return e}return Object.assign({},i)}function qa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fo{constructor(e,t){this.position=e,this.inclusive=t}}function Ta(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],g=i.position[u];if(o=c.field.isKeyField()?Rt.comparator(Rt.fromName(g.referenceValue),t.key):Nt(g,t.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function Fh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!de(i.position[t],e.position[t]))return!1;return!0}class _s{}class jr extends _s{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Ka(e,t,o):"array-contains"===t?new gl(e,o):"in"===t?new ml(e,o):"not-in"===t?new fd(e,o):"array-contains-any"===t?new Vh(e,o):new jr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new hd(e,o):new pl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nt(t,this.value)):null!==t&&le(this.value)===le(t)&&this.matchesComparison(Nt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends _s{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Di(e,t)}matches(e){return Ca(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ca(i){return"and"===i.op}function Lh(i){return function dd(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}(i)&&Ca(i)}function hl(i){if(i instanceof jr)return i.field.canonicalString()+i.op.toString()+un(i.value);{const e=i.filters.map(t=>hl(t)).join(",");return`${i.op}(${e})`}}function sc(i,e){return i instanceof jr?(t=i,(o=e)instanceof jr&&t.op===o.op&&t.field.isEqual(o.field)&&de(t.value,o.value)):i instanceof Di?function(t,o){return o instanceof Di&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,c,g)=>u&&sc(c,o.filters[g]),!0)}(i,e):void En();var t,o}function fl(i){return i instanceof jr?`${(e=i).field.canonicalString()} ${e.op} ${un(e.value)}`:i instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(fl).join(" ,")+"}"}(i):"Filter";var e}class Ka extends jr{constructor(e,t,o){super(e,t,o),this.key=Rt.fromName(o.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class hd extends jr{constructor(e,t){super(e,"in",t),this.keys=pu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pl extends jr{constructor(e,t){super(e,"not-in",t),this.keys=pu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Rt.fromName(o.referenceValue))}class gl extends jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return no(t)&&it(t.arrayValue,this.value)}}class ml extends jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&it(this.value.arrayValue,t)}}class fd extends jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(it(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!it(this.value.arrayValue,t)}}class Vh extends jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!no(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>it(this.value.arrayValue,o))}}class qo{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ya(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class as{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new as(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new as(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?o(e.key,t):1,t&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,o,u,c){this.key=e,this.value=t,this.color=o??Qs.RED,this.left=u??Qs.EMPTY,this.right=c??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,c){return new Qs(e??this.key,t??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===c?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Qs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Qs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new as(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class Uh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xo{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new xo([])}unionWith(e){let t=new yi(mi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new xo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Mo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(t)}setAll(e){let t=mi.emptyPath(),o={},u=[];e.forEach((g,C)=>{if(!t.isImmediateParentOf(C)){const L=this.getFieldsMap(t);this.applyChanges(L,o,u),o={},u=[],t=C.popLast()}g?o[C.lastSegment()]=ha(g):u.push(C.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,o,u)}delete(e){const t=this.field(e.popLast());Mo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return de(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Mo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){os(t,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new io(ha(this.value))}}function Aa(i){const e=[];return os(i.fields,(t,o)=>{const u=new mi([t]);if(Mo(o)){const c=Aa(o.mapValue).fields;if(0===c.length)e.push(u);else for(const g of c)e.push(u.child(g))}else e.push(u)}),new xo(e)}class $i{constructor(e,t,o,u,c,g,C){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=c,this.data=g,this.documentState=C}static newInvalidDocument(e){return new $i(e,0,bn.min(),bn.min(),bn.min(),io.empty(),0)}static newFoundDocument(e,t,o,u){return new $i(e,1,t,bn.min(),o,u,0)}static newNoDocument(e,t){return new $i(e,2,t,bn.min(),bn.min(),io.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,bn.min(),bn.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(e,t=null,o=[],u=[],c=null,g=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=g,this.endAt=C,this.ft=null}}function yl(i,e=null,t=[],o=[],u=null,c=null,g=null){return new Bh(i,e,t,o,u,c,g)}function mu(i){const e=sn(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>hl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),$o(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>un(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>un(o)).join(",")),e.ft=t}return e.ft}function yu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Ya(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!sc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fh(i.startAt,e.startAt)&&Fh(i.endAt,e.endAt)}function ac(i){return Rt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ma{constructor(e,t=null,o=[],u=[],c=null,g="F",C=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=g,this.startAt=C,this.endAt=L,this.dt=null,this._t=null}}function xa(i){return new Ma(i)}function jh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function gd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function vl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function md(i){return null!==i.collectionGroup}function vu(i){const e=sn(i);if(null===e.dt){e.dt=[];const t=vl(e),o=gd(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new qo(t)),e.dt.push(new qo(mi.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new qo(mi.keyField(),c))}}}return e.dt}function Eo(i){const e=sn(i);if(!e._t)if("F"===e.limitType)e._t=yl(e.path,e.collectionGroup,vu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of vu(e))t.push(new qo(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new Fo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Fo(e.startAt.position,e.startAt.inclusive):null;e._t=yl(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function El(i,e){e.getFirstInequalityField(),vl(i);const t=i.filters.concat([e]);return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Za(i,e,t){return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Eu(i,e){return yu(Eo(i),Eo(e))&&i.limitType===e.limitType}function ju(i){return`${mu(Eo(i))}|lt:${i.limitType}`}function wl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>fl(o)).join(", ")}]`),$o(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>un(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>un(o)).join(",")),`Target(${t})`}(Eo(i))}; limitType=${i.limitType})`}function jo(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Rt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of vu(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,c,g){const C=Ta(u,c,g);return u.inclusive?C<=0:C<0}(t.startAt,vu(t),o)||t.endAt&&!function(u,c,g){const C=Ta(u,c,g);return u.inclusive?C>=0:C>0}(t.endAt,vu(t),o)));var t,o}function uc(i){return(e,t)=>{let o=!1;for(const u of vu(i)){const c=Fp(u,e,t);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function Fp(i,e,t){const o=i.field.isKeyField()?Rt.comparator(e.key,t.key):function(u,c,g){const C=c.data.field(u),L=g.data.field(u);return null!==C&&null!==L?Nt(C,L):En()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return En()}}function Dl(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wi(e)?"-0":e}}function Hu(i){return{integerValue:""+i}}function yd(i,e){return function Ao(i){return"number"==typeof i&&Number.isInteger(i)&&!wi(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Hu(e):Dl(i,e)}class Il{constructor(){this._=void 0}}function Gh(i,e,t){return i instanceof Qa?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(t,e):i instanceof vs?bl(i,e):i instanceof b?h(i,e):function(o,u){const c=vd(o,u),g=S(c)+S(o.gt);return vo(c)&&vo(o.gt)?Hu(g):Dl(o.yt,g)}(i,e)}function _d(i,e,t){return i instanceof vs?bl(i,e):i instanceof b?h(i,e):t}function vd(i,e){return i instanceof p?vo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Qa extends Il{}class vs extends Il{constructor(e){super(),this.elements=e}}function bl(i,e){const t=z(e);for(const o of i.elements)t.some(u=>de(u,o))||t.push(o);return{arrayValue:{values:t}}}class b extends Il{constructor(e){super(),this.elements=e}}function h(i,e){let t=z(e);for(const o of i.elements)t=t.filter(u=>!de(u,o));return{arrayValue:{values:t}}}class p extends Il{constructor(e,t){super(),this.yt=e,this.gt=t}}function S(i){return Ln(i.integerValue||i.doubleValue)}function z(i){return no(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class St{constructor(e,t){this.version=e,this.transformResults=t}}class jt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function On(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Tr{}function ji(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Xa(i.key,jt.none()):new Ra(i.key,i.data,jt.none());{const t=i.data,o=io.empty();let u=new yi(mi.comparator);for(let c of e.fields)if(!u.has(c)){let g=t.field(c);null===g&&c.length>1&&(c=c.popLast(),g=t.field(c)),null===g?o.delete(c):o.set(c,g),u=u.add(c)}return new Ko(i.key,o,new xo(u.toArray()),jt.none())}}function na(i,e,t){i instanceof Ra?function(o,u,c){const g=o.value.clone(),C=Pa(o.fieldTransforms,u,c.transformResults);g.setAll(C),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Ko?function(o,u,c){if(!On(o.precondition,u))return void u.convertToUnknownDocument(c.version);const g=Pa(o.fieldTransforms,u,c.transformResults),C=u.data;C.setAll(lc(o)),C.setAll(g),u.convertToFoundDocument(c.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ho(i,e,t,o){return i instanceof Ra?function(u,c,g,C){if(!On(u.precondition,c))return g;const L=u.value.clone(),H=cc(u.fieldTransforms,C,c);return L.setAll(H),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ko?function(u,c,g,C){if(!On(u.precondition,c))return g;const L=cc(u.fieldTransforms,C,c),H=c.data;return H.setAll(lc(u)),H.setAll(L),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,t,o):(g=t,On(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g);var c,g}function wu(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=vd(o.transform,u||null);null!=c&&(null===t&&(t=io.empty()),t.set(o.field,c))}return t||null}function Gu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&No(t,o,(u,c)=>function Ye(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof vs&&o instanceof vs||t instanceof b&&o instanceof b?No(t.elements,o.elements,de):t instanceof p&&o instanceof p?de(t.gt,o.gt):t instanceof Qa&&o instanceof Qa);var t,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Ra extends Tr{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ko extends Tr{constructor(e,t,o,u,c=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Pa(i,e,t){const o=new Map;wn(i.length===t.length);for(let u=0;u<t.length;u++){const c=i[u],g=c.transform,C=e.data.field(c.field);o.set(c.field,_d(g,C,t[u]))}return o}function cc(i,e,t){const o=new Map;for(const u of i){const c=u.transform,g=t.data.field(u.field);o.set(u.field,Gh(c,g,e))}return o}class Xa extends Tr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ja extends Tr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tl{constructor(e){this.count=e}}var Es,Qr;function eu(i){switch(i){default:return En();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function Ed(i){if(void 0===i)return es("GRPC error has no .code"),ot.UNKNOWN;switch(i){case Es.OK:return ot.OK;case Es.CANCELLED:return ot.CANCELLED;case Es.UNKNOWN:return ot.UNKNOWN;case Es.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Es.INTERNAL:return ot.INTERNAL;case Es.UNAVAILABLE:return ot.UNAVAILABLE;case Es.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Es.NOT_FOUND:return ot.NOT_FOUND;case Es.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Es.ABORTED:return ot.ABORTED;case Es.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Es.DATA_LOSS:return ot.DATA_LOSS;default:return En()}}(Qr=Es||(Es={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return Da(this.inner)}size(){return this.innerSize}}const $m=new as(Rt.comparator);function Ro(){return $m}const Lp=new as(Rt.comparator);function dc(...i){let e=Lp;for(const t of i)e=e.insert(t.key,t);return e}function Vp(i){let e=Lp;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Na(){return hc()}function Up(){return hc()}function hc(){return new tu(i=>i.toString(),(i,e)=>i.isEqual(e))}const Bp=new as(Rt.comparator),zh=new yi(Rt.comparator);function Or(...i){let e=zh;for(const t of i)e=e.add(t);return e}const Wh=new yi(Gn);function wd(){return Wh}class fc{constructor(e,t,o,u,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new fc(bn.min(),u,wd(),Ro(),Or())}}class Cl{constructor(e,t,o,u,c){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Cl(o,t,Or(),Or(),Or())}}class pc{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class Du{constructor(e,t){this.targetId=e,this.Et=t}}class qh{constructor(e,t,o=zt.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Kh{constructor(){this.At=0,this.Rt=gc(),this.bt=zt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Or(),t=Or(),o=Or();return this.Rt.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:En()}}),new Cl(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=gc()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class jm{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ro(),this.qt=Hm(),this.Ut=new yi(Gn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:En()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,o=e.Et.count,u=this.Yt(t);if(u){const c=u.target;if(ac(c))if(0===o){const g=new Rt(c.path);this.Qt(t,g,$i.newNoDocument(g,bn.min()))}else wn(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((c,g)=>{const C=this.Yt(g);if(C){if(c.current&&ac(C.target)){const L=new Rt(C.target.path);null!==this.Lt.get(L)||this.te(g,L)||this.Qt(g,L,$i.newNoDocument(L,e))}c.St&&(t.set(g,c.Ct()),c.xt())}});let o=Or();this.qt.forEach((c,g)=>{let C=!0;g.forEachWhile(L=>{const H=this.Yt(L);return!H||2===H.purpose||(C=!1,!1)}),C&&(o=o.add(c))}),this.Lt.forEach((c,g)=>g.setReadTime(e));const u=new fc(e,t,this.Ut,this.Lt,o);return this.Lt=Ro(),this.qt=Hm(),this.Ut=new yi(Gn),u}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Kh,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new yi(Gn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Kh),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Hm(){return new as(Rt.comparator)}function gc(){return new as(Rt.comparator)}const Gm={asc:"ASCENDING",desc:"DESCENDING"},$p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jp={and:"AND",or:"OR"};class Hp{constructor(e,t){this.databaseId=e,this.wt=t}}function Iu(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yh(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Dd(i,e){return Iu(i,e.toTimestamp())}function us(i){return wn(!!i),bn.fromTimestamp(function(e){const t=Nn(e);return new gi(t.seconds,t.nanos)}(i))}function Id(i,e){return(t=i,new $r(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bd(i){const e=$r.fromString(i);return wn(Xp(e)),e}function zu(i,e){return Id(i.databaseId,e.path)}function ra(i,e){const t=bd(e);if(t.get(1)!==i.databaseId.projectId)throw new xt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new xt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Rt(zp(t))}function Wu(i,e){return Id(i.databaseId,e)}function Sl(i){return new $r(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zp(i){return wn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Wp(i,e,t){return{name:zu(i,e),fields:t.value.mapValue.fields}}function qp(i,e){return{documents:[Wu(i,e.path)]}}function Kp(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Wu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0!==L.length)return ef(Di.create(L,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const c=function(L){if(0!==L.length)return L.map(H=>{return{field:Ku((te=H).field),direction:Qp(te.dir)};var te})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const g=(H=e.limit,i.wt||$o(H)?H:{value:H});var H,C,L;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Yp(i){let e=function Gp(i){const e=bd(i);return 4===e.length?$r.emptyPath():zp(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){wn(1===o);const te=t.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let c=[];t.where&&(c=function(te){const we=Zp(te);return we instanceof Di&&Lh(we)?we.getFilters():[we]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(te=>{return new qo(Yu((we=te).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let C=null;t.limit&&(C=function(te){let we;return we="object"==typeof te?te.value:te,$o(we)?null:we}(t.limit));let L=null;var te;t.startAt&&(L=new Fo((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Fo(te.values||[],!te.before)}(t.endAt)),function $h(i,e,t,o,u,c,g,C){return new Ma(i,e,t,o,u,c,g,C)}(e,u,g,c,C,"F",L,H)}function Zp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yu(e.unaryFilter.field);return jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Yu(e.unaryFilter.field);return jr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Yu(e.unaryFilter.field);return jr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yu(e.unaryFilter.field);return jr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(i):void 0!==i.fieldFilter?jr.create(Yu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Di.create(e.compositeFilter.filters.map(t=>Zp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return En()}}(e.compositeFilter.op))}(i):En();var e}function Qp(i){return Gm[i]}function Cd(i){return $p[i]}function Jh(i){return jp[i]}function Ku(i){return{fieldPath:i.canonicalString()}}function Yu(i){return mi.fromServerFormat(i.fieldPath)}function ef(i){return i instanceof jr?function(e){if("=="===e.op){if(ba(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NAN"}};if(ro(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ba(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NAN"}};if(ro(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(e.field),op:Cd(e.op),value:e.value}}}(i):i instanceof Di?function(e){const t=e.getFilters().map(o=>ef(o));return 1===t.length?t[0]:{compositeFilter:{op:Jh(e.op),filters:t}}}(i):En()}function Zu(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ig{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&na(c,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ho(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ho(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Up();return this.mutations.forEach(u=>{const c=e.get(u.key),g=c.overlayedDocument;let C=this.applyToLocalView(g,c.mutatedFields);C=t.has(u.key)?null:C;const L=ji(g,C);null!==L&&o.set(u.key,L),g.isValidDocument()||g.convertToNoDocument(bn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Or())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,o)=>Gu(t,o))&&No(this.baseMutations,e.baseMutations,(t,o)=>Gu(t,o))}}class Ad{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){wn(e.mutations.length===o.length);let u=Bp;const c=e.mutations;for(let g=0;g<c.length;g++)u=u.insert(c[g].key,o[g].version);return new Ad(e,t,o,u)}}class rf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bu{constructor(e,t,o,u,c=bn.min(),g=bn.min(),C=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C}withSequenceNumber(e){return new bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sg{constructor(e){this.ie=e}}function uf(i){const e=Yp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Za(e,e.limit,"L"):e}class Al{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ln(e.integerValue));else if("doubleValue"in e){const o=Ln(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),wi(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(w(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?qa(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):En()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const u of Object.keys(o))this.de(u,t),this.ce(o[u],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const u of o)this.ce(u,t)}me(e,t){this.he(t,37),Rt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Al.Ie=new Al;class hf{constructor(){this.Je=new Ml}addToCollectionParentIndex(e,t){return this.Je.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(j.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(j.min())}updateCollectionGroup(e,t,o){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class Ml{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new yi($r.comparator),c=!u.has(o);return this.index[t]=u.add(o),c}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new yi($r.comparator)).toArray()}}new Uint8Array(0);class Go{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class Nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Nl(0)}static vn(){return new Nl(-1)}}class cy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wg{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Ho(o.mutation,u,xo.empty(),gi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Or()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Or()){const u=Na();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(c=>{let g=dc();return c.forEach((C,L)=>{g=g.insert(C,L.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Or()))}populateOverlays(e,t,o){const u=[];return o.forEach(c=>{t.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((g,C)=>{t.set(g,C)})})}computeViews(e,t,o,u){let c=Ro();const g=hc(),C=hc();return t.forEach((L,H)=>{const te=o.get(H.key);u.has(H.key)&&(void 0===te||te.mutation instanceof Ko)?c=c.insert(H.key,H):void 0!==te&&(g.set(H.key,te.mutation.getFieldMask()),Ho(te.mutation,H,te.mutation.getFieldMask(),gi.now()))}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((H,te)=>g.set(H,te)),t.forEach((H,te)=>{var we;return C.set(H,new cy(te,null!==(we=g.get(H))&&void 0!==we?we:null))}),C))}recalculateAndSaveOverlays(e,t){const o=hc();let u=new as((g,C)=>g-C),c=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const C of g)C.keys().forEach(L=>{const H=t.get(L);if(null===H)return;let te=o.get(L)||xo.empty();te=C.applyToLocalView(H,te),o.set(L,te);const we=(u.get(C.batchId)||Or()).add(L);u=u.insert(C.batchId,we)})}).next(()=>{const g=[],C=u.getReverseIterator();for(;C.hasNext();){const L=C.getNext(),H=L.key,te=L.value,we=Up();te.forEach(Qe=>{if(!c.has(Qe)){const It=ji(t.get(Qe),o.get(Qe));null!==It&&we.set(Qe,It),c=c.add(Qe)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,we))}return ve.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Rt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):md(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(c=>{const g=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-c.size):ve.resolve(Na());let C=-1,L=c;return g.next(H=>ve.forEach(H,(te,we)=>(C<we.largestBatchId&&(C=we.largestBatchId),c.get(te)?ve.resolve():this.remoteDocumentCache.getEntry(e,te).next(Qe=>{L=L.insert(te,Qe)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,L,H,Or())).next(te=>({batchId:C,changes:Vp(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(o=>{let u=dc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let c=dc();return this.indexManager.getCollectionParents(e,u).next(g=>ve.forEach(g,C=>{const L=(H=t,te=C.child(u),new Ma(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,L,o).next(H=>{H.forEach((te,we)=>{c=c.insert(te,we)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(c=>{c.forEach((C,L)=>{const H=L.getKey();null===u.get(H)&&(u=u.insert(H,$i.newInvalidDocument(H)))});let g=dc();return u.forEach((C,L)=>{const H=c.get(C);void 0!==H&&Ho(H.mutation,L,xo.empty(),gi.now()),jo(t,L)&&(g=g.insert(C,L))}),g})}}class dy{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ve.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:us(o.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:uf(o.bundledQuery),readTime:us(o.readTime)}),ve.resolve();var o}}class Dg{constructor(){this.overlays=new as(Rt.comparator),this.es=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Na();return ve.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,c)=>{this.oe(e,t,c)}),ve.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(o)),ve.resolve()}getOverlaysForCollection(e,t,o){const u=Na(),c=t.length+1,g=new Rt(t.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const L=C.getNext().value,H=L.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&L.largestBatchId>o&&u.set(L.getKey(),L)}return ve.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let c=new as((H,te)=>H-te);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let te=c.get(H.largestBatchId);null===te&&(te=Na(),c=c.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const C=Na(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,te)=>C.set(H,te)),!(C.size()>=u)););return ve.resolve(C)}oe(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new rf(t,o));let c=this.es.get(t);void 0===c&&(c=Or(),this.es.set(t,c)),this.es.set(t,c.add(o.key))}}class mf{constructor(){this.ns=new yi(ho.ss),this.rs=new yi(ho.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ho(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ho(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Rt(new $r([])),o=new ho(t,e),u=new ho(t,e+1),c=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),c.push(g.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Rt(new $r([])),o=new ho(t,e),u=new ho(t,e+1);let c=Or();return this.rs.forEachInRange([o,u],g=>{c=c.add(g.key)}),c}containsKey(e){const t=new ho(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ho{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Rt.comparator(e.key,t.key)||Gn(e._s,t._s)}static os(e,t){return Gn(e._s,t._s)||Rt.comparator(e.key,t.key)}}class Fl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yi(ho.ss)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const c=this.ws;this.ws++;const g=new ig(c,t,o,u);this.mutationQueue.push(g);for(const C of u)this.gs=this.gs.add(new ho(C.key,c)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return ve.resolve(g)}lookupMutationBatch(e,t){return ve.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),c=u<0?0:u;return ve.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ho(t,0),u=new ho(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([o,u],g=>{const C=this.ys(g._s);c.push(C)}),ve.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new yi(Gn);return t.forEach(u=>{const c=new ho(u,0),g=new ho(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,g],C=>{o=o.add(C._s)})}),ve.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let c=o;Rt.isDocumentKey(c)||(c=c.child(""));const g=new ho(new Rt(c),0);let C=new yi(Gn);return this.gs.forEachWhile(L=>{const H=L.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(C=C.add(L._s)),!0)},g),ve.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){wn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ve.forEach(t.mutations,u=>{const c=new ho(u.key,t.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ho(t,0),u=this.gs.firstAfterOrEqual(o);return ve.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return ve.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uu{constructor(e){this.Es=e,this.docs=new as(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),c=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ve.resolve(o?o.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let o=Ro();return t.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():$i.newInvalidDocument(u))}),ve.resolve(o)}getAllFromCollection(e,t,o){let u=Ro();const c=new Rt(t.child("")),g=this.docs.getIteratorFrom(c);for(;g.hasNext();){const{key:C,value:{document:L}}=g.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||Z(N(L),o)<=0||(u=u.insert(L.key,L.mutableCopy()))}return ve.resolve(u)}getAllFromCollectionGroup(e,t,o,u){En()}As(e,t){return ve.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new hy(this)}getSize(e){return ve.resolve(this.size)}}class hy extends class ly{constructor(){this.changes=new tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ve.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),ve.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class fy{constructor(e){this.persistence=e,this.Rs=new tu(t=>mu(t),yu),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mf,this.targetCount=0,this.vs=Nl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ve.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Dn(t),ve.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,o){let u=0;const c=[];return this.Rs.forEach((g,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Rs.delete(g),c.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),ve.waitFor(c).next(()=>u)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ve.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ve.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,c=[];return u&&t.forEach(g=>{c.push(u.markPotentiallyOrphaned(e,g))}),ve.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ve.resolve(o)}containsKey(e,t){return ve.resolve(this.Ps.containsKey(t))}}class py{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ai(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new fy(this),this.indexManager=new hf,this.remoteDocumentCache=new uu(o=>this.referenceDelegate.xs(o)),this.yt=new sg(t),this.Ns=new dy(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Fl(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const u=new Vv(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(c=>this.referenceDelegate.Os(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ms(e,t){return ve.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Vv extends class _e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class bc{constructor(e){this.persistence=e,this.Fs=new mf,this.$s=null}static Bs(e){return new bc(e)}get Ls(){if(this.$s)return this.$s;throw En()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ve.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(c=>this.Ls.add(c.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ls,o=>{const u=Rt.fromPath(o);return this.qs(e,u).next(c=>{c||t.removeEntry(u,bn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ve.or([()=>ve.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vf{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Or(),u=Or();for(const c of t.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new vf(e,t.fromCache,o,u)}}class ia{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(c=>c||this.Oi(e,t,u,o)).next(c=>c||this.Mi(e,t))}ki(e,t){if(jh(t))return ve.resolve(null);let o=Eo(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Za(t,null,"F"),o=Eo(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const g=Or(...c);return this.Ni.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(L=>{const H=this.Fi(t,C);return this.$i(t,H,g,L.readTime)?this.ki(e,Za(t,null,"F")):this.Bi(e,H,t,L)}))})))}Oi(e,t,o,u){return jh(t)||u.isEqual(bn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(c=>{const g=this.Fi(t,c);return this.$i(t,g,o,u)?this.Mi(e,t):(Ga()<=he.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),wl(t)),this.Bi(e,g,t,function E(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=bn.fromTimestamp(1e9===o?new gi(t+1,0):new gi(t,o));return new j(u,Rt.empty(),e)}(u,-1)))})}Fi(e,t){let o=new yi(uc(e));return t.forEach((u,c)=>{jo(e,c)&&(o=o.add(c))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Mi(e,t){return Ga()<=he.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",wl(t)),this.Ni.getDocumentsMatchingQuery(e,t,j.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(c=>(t.forEach(g=>{c=c.insert(g.key,g)}),c))}}class gy{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new as(Gn),this.Ui=new tu(c=>mu(c),yu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wg(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function bg(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,ue.Z)(function*(i,e){const t=sn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(c=>{const g=[],C=[];let L=Or();for(const H of u){g.push(H.batchId);for(const te of H.mutations)L=L.add(te.key)}for(const H of c){C.push(H.batchId);for(const te of H.mutations)L=L.add(te.key)}return t.localDocuments.getDocuments(o,L).next(H=>({ji:H,removedBatchIds:g,addedBatchIds:C}))})})}),wf.apply(this,arguments)}function my(i,e){const t=sn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,C,L,H){const te=L.batch,we=te.keys();let Qe=ve.resolve();return we.forEach(It=>{Qe=Qe.next(()=>H.getEntry(C,It)).next(Ut=>{const yn=L.docVersions.get(It);wn(null!==yn),Ut.version.compareTo(yn)<0&&(te.applyToRemoteDocument(Ut,L),Ut.isValidDocument()&&(Ut.setReadTime(L.commitVersion),H.addEntry(Ut)))})}),Qe.next(()=>g.mutationQueue.removeMutationBatch(C,te))}(t,o,e,c).next(()=>c.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let C=Or();for(let L=0;L<g.mutationResults.length;++L)g.mutationResults[L].transformResults.length>0&&(C=C.add(g.batch.mutations[L].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Tg(i){const e=sn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Cg(i,e){const t=sn(i),o=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const C=[];e.targetChanges.forEach((te,we)=>{const Qe=u.get(we);if(!Qe)return;C.push(t.Cs.removeMatchingKeys(c,te.removedDocuments,we).next(()=>t.Cs.addMatchingKeys(c,te.addedDocuments,we)));let It=Qe.withSequenceNumber(c.currentSequenceNumber);var Ut,yn,Hn;e.targetMismatches.has(we)?It=It.withResumeToken(zt.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):te.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(te.resumeToken,o)),u=u.insert(we,It),yn=It,Hn=te,(0===(Ut=Qe).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||Hn.addedDocuments.size+Hn.modifiedDocuments.size+Hn.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(c,It))});let L=Ro(),H=Or();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(c,te))}),C.push(function Sg(i,e,t){let o=Or(),u=Or();return t.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let g=Ro();return t.forEach((C,L)=>{const H=c.get(C);L.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(C)),L.isNoDocument()&&L.version.isEqual(bn.min())?(e.removeEntry(C,L.readTime),g=g.insert(C,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(L),g=g.insert(C,L)):Lt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",H.version," Watch version:",L.version)}),{Wi:g,zi:u}})}(c,g,e.documentUpdates).next(te=>{L=te.Wi,H=te.zi})),!o.isEqual(bn.min())){const te=t.Cs.getLastRemoteSnapshotVersion(c).next(we=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,o));C.push(te)}return ve.waitFor(C).next(()=>g.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,H)).next(()=>L)}).then(c=>(t.qi=u,c))}function yy(i,e){const t=sn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ll(i,e){const t=sn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(c=>c?(u=c,ve.resolve(u)):t.Cs.allocateTargetId(o).next(g=>(u=new bu(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.qi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function gr(i,e,t){return jd.apply(this,arguments)}function jd(){return jd=(0,ue.Z)(function*(i,e,t){const o=sn(i),u=o.qi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",c,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Dn(g))throw g;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.qi=o.qi.remove(e),o.Ui.delete(u.target)}),jd.apply(this,arguments)}function Sc(i,e,t){const o=sn(i);let u=bn.min(),c=Or();return o.persistence.runTransaction("Execute query","readonly",g=>function(C,L,H){const te=sn(C),we=te.Ui.get(H);return void 0!==we?ve.resolve(te.qi.get(we)):te.Cs.getTargetData(L,H)}(o,g,Eo(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,C.targetId).next(L=>{c=L})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?u:bn.min(),t?c:Or())).next(C=>(function Mg(i,e,t){let o=i.Ki.get(e)||bn.min();t.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Ki.set(e,o)}(o,function Hh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),C),{documents:C,Hi:c})))}class xc{constructor(){this.activeTargetIds=wd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vy{constructor(){this.Lr=new xc,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xc,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bv{Ur(e){}shutdown(){}}class Ey{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ng{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class $v extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,c){const g=this.ho(e,t);Lt("RestConnection","Sending: ",g,o);const C={};return this.lo(C,u,c),this.fo(e,g,C,o).then(L=>(Lt("RestConnection","Received: ",L),L),L=>{throw uo("RestConnection",`${e} failed with error: `,L,"url: ",g,"request:",o),L})}_o(e,t,o,u,c,g){return this.ao(e,t,o,u,c)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}ho(e,t){return`${this.oo}/v1/${t}:${wy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((c,g)=>{const C=new Ms;C.setWithCredentials(!0),C.listenOnce(As.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Si.NO_ERROR:const H=C.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(H)),c(H);break;case Si.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),g(new xt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Si.HTTP_ERROR:const te=C.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',te,"response text:",C.getResponseText()),te>0){let we=C.getResponseJson();Array.isArray(we)&&(we=we[0]);const Qe=we?.error;if(Qe&&Qe.status&&Qe.message){const It=function(Ut){const yn=Ut.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(yn)>=0?yn:ot.UNKNOWN}(Qe.status);g(new xt(It,Qe.message))}else g(new xt(ot.UNKNOWN,"Server responded with status "+C.getStatus()))}else g(new xt(ot.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);C.send(t,"POST",L,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Wi(),g=Yr(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new oo({})),this.lo(C.initMessageHeaders,t,o),C.encodeInitMessageHeaders=!0;const L=u.join("");Lt("Connection","Creating WebChannel: "+L,C);const H=c.createWebChannel(L,C);let te=!1,we=!1;const Qe=new Ng({Hr:Ut=>{we?Lt("Connection","Not sending because WebChannel is closed:",Ut):(te||(Lt("Connection","Opening WebChannel transport."),H.open(),te=!0),Lt("Connection","WebChannel sending:",Ut),H.send(Ut))},Jr:()=>H.close()}),It=(Ut,yn,Hn)=>{Ut.listen(yn,Xi=>{try{Hn(Xi)}catch(cs){setTimeout(()=>{throw cs},0)}})};return It(H,Bi.EventType.OPEN,()=>{we||Lt("Connection","WebChannel transport opened.")}),It(H,Bi.EventType.CLOSE,()=>{we||(we=!0,Lt("Connection","WebChannel transport closed"),Qe.io())}),It(H,Bi.EventType.ERROR,Ut=>{we||(we=!0,uo("Connection","WebChannel transport errored:",Ut),Qe.io(new xt(ot.UNAVAILABLE,"The operation could not be completed")))}),It(H,Bi.EventType.MESSAGE,Ut=>{var yn;if(!we){const Hn=Ut.data[0];wn(!!Hn);const Xi=Hn,cs=Xi.error||(null===(yn=Xi[0])||void 0===yn?void 0:yn.error);if(cs){Lt("Connection","WebChannel received error:",cs);const Li=cs.status;let po=function(xi){const go=Es[xi];if(void 0!==go)return Ed(go)}(Li),Ii=cs.message;void 0===po&&(po=ot.INTERNAL,Ii="Unknown error status: "+Li+" with message "+cs.message),we=!0,Qe.io(new xt(po,Ii)),H.close()}else Lt("Connection","WebChannel received:",Hn),Qe.ro(Hn)}}),It(g,eo.STAT_EVENT,Ut=>{Ut.stat===to.PROXY?Lt("Connection","Detected buffering proxy"):Ut.stat===to.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Qe.so()},0),Qe}}function lu(){return typeof document<"u"?document:null}function Rc(i){return new Hp(i,!0)}class zd{constructor(e,t,o=1e3,u=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Pc{constructor(e,t,o,u,c,g,C,L){this.Hs=e,this.vo=o,this.Vo=u,this.connection=c,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=L,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new zd(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ue.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ue.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,ue.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ot.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===ot.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new xt(ot.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ue.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dy extends Pc{constructor(e,t,o,u,c,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.yt=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Td(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:En(),u=e.targetChange.targetIds||[],c=function(L,H){return L.wt?(wn(void 0===H||"string"==typeof H),zt.fromBase64String(H||"")):(wn(void 0===H||H instanceof Uint8Array),zt.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(L){const H=void 0===L.code?ot.UNKNOWN:Ed(L.code);return new xt(H,L.message||"")}(g);t=new qh(o,u,c,C||null)}else if("documentChange"in e){const o=e.documentChange,u=ra(i,o.document.name),c=us(o.document.updateTime),g=o.document.createTime?us(o.document.createTime):bn.min(),C=new io({mapValue:{fields:o.document.fields}}),L=$i.newFoundDocument(u,c,g,C);t=new pc(o.targetIds||[],o.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const o=e.documentDelete,u=ra(i,o.document),c=o.readTime?us(o.readTime):bn.min(),g=$i.newNoDocument(u,c);t=new pc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=ra(i,o.document);t=new pc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return En();{const o=e.filter,c=new Tl(o.count||0);t=new Du(o.targetId,c)}}var L;return t}(this.yt,e),o=function(u){if(!("targetChange"in u))return bn.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?bn.min():c.readTime?us(c.readTime):bn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Sl(this.yt),t.addTarget=function(u,c){let g;const C=c.target;return g=ac(C)?{documents:qp(u,C)}:{query:Kp(u,C)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?g.resumeToken=Yh(u,c.resumeToken):c.snapshotVersion.compareTo(bn.min())>0&&(g.readTime=Iu(u,c.snapshotVersion.toTimestamp())),g}(this.yt,e);const o=function Xh(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return En()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Sl(this.yt),t.removeTarget=e,this.Bo(t)}}class kg extends Pc{constructor(e,t,o,u,c,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.yt=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zm(i,e){return i&&i.length>0?(wn(void 0!==e),i.map(t=>function(o,u){let c=us(o.updateTime?o.updateTime:u);return c.isEqual(bn.min())&&(c=us(u)),new St(c,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=us(e.commitTime);return this.listener.Zo(o,t)}return wn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Sl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function qu(i,e){let t;if(e instanceof Ra)t={update:Wp(i,e.key,e.value)};else if(e instanceof Xa)t={delete:zu(i,e.key)};else if(e instanceof Ko)t={update:Wp(i,e.key,e.data),updateMask:Zu(e.fieldMask)};else{if(!(e instanceof Ja))return En();t={verify:zu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const g=c.transform;if(g instanceof Qa)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vs)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof b)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof p)return{fieldPath:c.field.canonicalString(),increment:g.gt};throw En()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Dd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:En()),t;var u}(this.yt,o))};this.Bo(t)}}class Iy extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=u,this.nu=!1}su(){if(this.nu)throw new xt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.ao(e,t,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ot.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.connection._o(e,t,o,c,g,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xt(ot.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class Ty{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(es(t),this.ou=!1):Lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Cy{constructor(e,t,o,u,c){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.Ur(C=>{o.enqueueAndForget((0,ue.Z)(function*(){var L;Va(g)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,ue.Z)(function*(H){const te=sn(H);te._u.add(4),yield nl(te),te.gu.set("Unknown"),te._u.delete(4),yield Vl(te)}),function(H){return L.apply(this,arguments)})(g))}))}),this.gu=new Ty(o,u)}}function Vl(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,ue.Z)(function*(i){if(Va(i))for(const e of i.wu)yield e(!0)}),Sf.apply(this,arguments)}function nl(i){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,ue.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Wd.apply(this,arguments)}function Ul(i,e){const t=sn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Au(t)?Lg(t):rl(t).ko()&&Nc(t,e))}function qd(i,e){const t=sn(i),o=rl(t);t.du.delete(e),o.ko()&&Fg(t,e),0===t.du.size&&(o.ko()?o.Fo():Va(t)&&t.gu.set("Unknown"))}function Nc(i,e){i.yu.Ot(e.targetId),rl(i).zo(e)}function Fg(i,e){i.yu.Ot(e),rl(i).Ho(e)}function Lg(i){i.yu=new jm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),rl(i).start(),i.gu.uu()}function Au(i){return Va(i)&&!rl(i).No()&&i.du.size>0}function Va(i){return 0===sn(i)._u.size}function Af(i){i.yu=void 0}function Kd(i){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,ue.Z)(function*(i){i.du.forEach((e,t)=>{Nc(i,e)})}),Zo.apply(this,arguments)}function Vg(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,ue.Z)(function*(i,e){Af(i),Au(i)?(i.gu.hu(e),Lg(i)):i.gu.set("Unknown")}),Mf.apply(this,arguments)}function xf(i,e,t){return ga.apply(this,arguments)}function ga(){return ga=(0,ue.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof qh&&2===e.state&&e.cause)try{yield(o=(0,ue.Z)(function*(u,c){const g=c.cause;for(const C of c.targetIds)u.du.has(C)&&(yield u.remoteSyncer.rejectListen(C,g),u.du.delete(C),u.yu.removeTarget(C))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bl(i,o)}else if(e instanceof pc?i.yu.Kt(e):e instanceof Du?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(bn.min()))try{const o=yield Tg(i.localStore);t.compareTo(o)>=0&&(yield function(u,c){const g=u.yu.Zt(c);return g.targetChanges.forEach((C,L)=>{if(C.resumeToken.approximateByteSize()>0){const H=u.du.get(L);H&&u.du.set(L,H.withResumeToken(C.resumeToken,c))}}),g.targetMismatches.forEach(C=>{const L=u.du.get(C);if(!L)return;u.du.set(C,L.withResumeToken(zt.EMPTY_BYTE_STRING,L.snapshotVersion)),Fg(u,C);const H=new bu(L.target,C,1,L.sequenceNumber);Nc(u,H)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield Bl(i,o)}var o}),ga.apply(this,arguments)}function Bl(i,e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,ue.Z)(function*(i,e,t){if(!Dn(e))throw e;i._u.add(1),yield nl(i),i.gu.set("Offline"),t||(t=()=>Tg(i.localStore)),i.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Vl(i)}))}),Yd.apply(this,arguments)}function Zd(i,e){return e().catch(t=>Bl(i,t,e))}function Oc(i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,ue.Z)(function*(i){const e=sn(i),t=Mu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jv(e);)try{const u=yield yy(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,Xd(e,u)}catch(u){yield Bl(e,u)}kc(e)&&Jd(e)}),Qd.apply(this,arguments)}function jv(i){return Va(i)&&i.fu.length<10}function Xd(i,e){i.fu.push(e);const t=Mu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function kc(i){return Va(i)&&!Mu(i).No()&&i.fu.length>0}function Jd(i){Mu(i).start()}function Rf(i){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,ue.Z)(function*(i){Mu(i).eu()}),Fc.apply(this,arguments)}function Hv(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ue.Z)(function*(i){const e=Mu(i);for(const t of i.fu)e.Xo(t.mutations)}),Pf.apply(this,arguments)}function Sy(i,e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ue.Z)(function*(i,e,t){const o=i.fu.shift(),u=Ad.from(o,e,t);yield Zd(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Oc(i)}),Nf.apply(this,arguments)}function Ay(i,e){return eh.apply(this,arguments)}function eh(){return eh=(0,ue.Z)(function*(i,e){var t;e&&Mu(i).Yo&&(yield(t=(0,ue.Z)(function*(o,u){if(eu(c=u.code)&&c!==ot.ABORTED){const g=o.fu.shift();Mu(o).Mo(),yield Zd(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Oc(o)}var c}),function(o,u){return t.apply(this,arguments)})(i,e)),kc(i)&&Jd(i)}),eh.apply(this,arguments)}function My(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,ue.Z)(function*(i,e){const t=sn(i);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=Va(t);t._u.add(3),yield nl(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Vl(t)}),Of.apply(this,arguments)}function th(){return th=(0,ue.Z)(function*(i,e){const t=sn(i);e?(t._u.delete(2),yield Vl(t)):e||(t._u.add(2),yield nl(t),t.gu.set("Unknown"))}),th.apply(this,arguments)}function rl(i){return i.pu||(i.pu=function(e,t,o){const u=sn(e);return u.su(),new Dy(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:Kd.bind(null,i),Zr:Vg.bind(null,i),Wo:xf.bind(null,i)}),i.wu.push(function(){var e=(0,ue.Z)(function*(t){t?(i.pu.Mo(),Au(i)?Lg(i):i.gu.set("Unknown")):(yield i.pu.stop(),Af(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Mu(i){return i.Iu||(i.Iu=function(e,t,o){const u=sn(e);return u.su(),new kg(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:Rf.bind(null,i),Zr:Ay.bind(null,i),tu:Hv.bind(null,i),Zo:Sy.bind(null,i)}),i.wu.push(function(){var e=(0,ue.Z)(function*(t){t?(i.Iu.Mo(),yield Oc(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Lc{constructor(e,t,o,u,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,c){const g=Date.now()+o,C=new Lc(e,t,g,u,c);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(i,e){if(es("AsyncQueue",`${e}: ${i}`),Dn(i))return new xt(ot.UNAVAILABLE,`${e}: ${i}`);throw i}class Uc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Rt.comparator(t.key,o.key):(t,o)=>Rt.comparator(t.key,o.key),this.keyedMap=dc(),this.sortedSet=new as(this.comparator)}static emptySet(e){return new Uc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Uc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class xy{constructor(){this.Tu=new as(Rt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):En():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Bc{constructor(e,t,o,u,c,g,C,L,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,u,c){const g=[];return t.forEach(C=>{g.push({type:0,doc:C})}),new Bc(e,t,Uc.emptySet(t),g,o,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Gv{constructor(){this.Au=void 0,this.listeners=[]}}class zv{constructor(){this.queries=new tu(e=>ju(e),Eu),this.onlineState="Unknown",this.Ru=new Set}}function Bg(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,ue.Z)(function*(i,e){const t=sn(i),o=e.query;let u=!1,c=t.queries.get(o);if(c||(u=!0,c=new Gv),u)try{c.Au=yield t.onListen(o)}catch(g){const C=Vc(g,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&Ff(t)}),$g.apply(this,arguments)}function jg(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ue.Z)(function*(i,e){const t=sn(i),o=e.query;let u=!1;const c=t.queries.get(o);if(c){const g=c.listeners.indexOf(e);g>=0&&(c.listeners.splice(g,1),u=0===c.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Hg.apply(this,arguments)}function xu(i,e){const t=sn(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const C of g.listeners)C.Pu(u)&&(o=!0);g.Au=u}}o&&Ff(t)}function kf(i,e,t){const o=sn(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(t);o.queries.delete(e)}function Ff(i){i.Ru.forEach(e=>{e.next()})}class nh{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Bc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class cu{constructor(e){this.key=e}}class Bf{constructor(e){this.key=e}}class zg{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Or(),this.mutatedKeys=Or(),this.Gu=uc(e),this.Qu=new Uc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new xy,u=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,g=u,C=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,we)=>{const Qe=u.get(te),It=jo(this.query,we)?we:null,Ut=!!Qe&&this.mutatedKeys.has(Qe.key),yn=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let Hn=!1;Qe&&It?Qe.data.isEqual(It.data)?Ut!==yn&&(o.track({type:3,doc:It}),Hn=!0):this.Hu(Qe,It)||(o.track({type:2,doc:It}),Hn=!0,(L&&this.Gu(It,L)>0||H&&this.Gu(It,H)<0)&&(C=!0)):!Qe&&It?(o.track({type:0,doc:It}),Hn=!0):Qe&&!It&&(o.track({type:1,doc:Qe}),Hn=!0,(L||H)&&(C=!0)),Hn&&(It?(g=g.add(It),c=yn?c.add(te):c.delete(te)):(g=g.delete(te),c=c.delete(te)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const te="F"===this.query.limitType?g.last():g.first();g=g.delete(te.key),c=c.delete(te.key),o.track({type:1,doc:te})}return{Qu:g,zu:o,$i:C,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((H,te)=>function(we,Qe){const It=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return It(we)-It(Qe)}(H.type,te.type)||this.Gu(H.doc,te.doc)),this.Ju(o);const g=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,L=C!==this.Uu;return this.Uu=C,0!==c.length||L?{snapshot:new Bc(this.query,e.Qu,u,c,e.mutatedKeys,0===C,L,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:g}:{Xu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Or(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Bf(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new cu(o))}),t}tc(e){this.qu=e.Hi,this.Ku=Or();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Bc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Ry{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Wg{constructor(e){this.key=e,this.nc=!1}}class Py{constructor(e,t,o,u,c,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new tu(C=>ju(C),Eu),this.rc=new Map,this.oc=new Set,this.uc=new as(Rt.comparator),this.cc=new Map,this.ac=new mf,this.hc={},this.lc=new Map,this.fc=Nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ny(i,e){return $l.apply(this,arguments)}function $l(){return $l=(0,ue.Z)(function*(i,e){const t=Qf(i);let o,u;const c=t.ic.get(e);if(c)o=c.targetId,t.sharedClientState.addLocalQueryTarget(o),u=c.view.ec();else{const g=yield Ll(t.localStore,Eo(e));t.isPrimaryClient&&Ul(t.remoteStore,g);const C=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield Ru(t,e,o,"current"===C,g.resumeToken)}return u}),$l.apply(this,arguments)}function Ru(i,e,t,o,u){return $c.apply(this,arguments)}function $c(){return $c=(0,ue.Z)(function*(i,e,t,o,u){i._c=(we,Qe,It)=>{return(Ut=(0,ue.Z)(function*(yn,Hn,Xi,cs){let Li=Hn.view.Wu(Xi);Li.$i&&(Li=yield Sc(yn.localStore,Hn.query,!1).then(({documents:xi})=>Hn.view.Wu(xi,Li)));const po=cs&&cs.targetChanges.get(Hn.targetId),Ii=Hn.view.applyChanges(Li,yn.isPrimaryClient,po);return Gf(yn,Hn.targetId,Ii.Xu),Ii.snapshot}),function(yn,Hn,Xi,cs){return Ut.apply(this,arguments)})(i,we,Qe,It);var Ut};const c=yield Sc(i.localStore,e,!0),g=new zg(e,c.Hi),C=g.Wu(c.documents),L=Cl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),H=g.applyChanges(C,i.isPrimaryClient,L);Gf(i,t,H.Xu);const te=new Ry(e,t,g);return i.ic.set(e,te),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),H.snapshot}),$c.apply(this,arguments)}function jl(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,ue.Z)(function*(i,e){const t=sn(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(c=>!Eu(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield gr(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),qd(t.remoteStore,o.targetId),fo(t,o.targetId)}).catch(je))):(fo(t,o.targetId),yield gr(t.localStore,o.targetId,!0))}),jc.apply(this,arguments)}function ih(){return ih=(0,ue.Z)(function*(i,e,t){const o=Wc(i);try{const u=yield function(c,g){const C=sn(c),L=gi.now(),H=g.reduce((Qe,It)=>Qe.add(It.key),Or());let te,we;return C.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let It=Ro(),Ut=Or();return C.Gi.getEntries(Qe,H).next(yn=>{It=yn,It.forEach((Hn,Xi)=>{Xi.isValidDocument()||(Ut=Ut.add(Hn))})}).next(()=>C.localDocuments.getOverlayedDocuments(Qe,It)).next(yn=>{te=yn;const Hn=[];for(const Xi of g){const cs=wu(Xi,te.get(Xi.key).overlayedDocument);null!=cs&&Hn.push(new Ko(Xi.key,cs,Aa(cs.value.mapValue),jt.exists(!0)))}return C.mutationQueue.addMutationBatch(Qe,L,Hn,g)}).next(yn=>{we=yn;const Hn=yn.applyToLocalDocumentSet(te,Ut);return C.documentOverlayCache.saveOverlays(Qe,yn.batchId,Hn)})}).then(()=>({batchId:we.batchId,changes:Vp(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,g,C){let L=c.hc[c.currentUser.toKey()];L||(L=new as(Gn)),L=L.insert(g,C),c.hc[c.currentUser.toKey()]=L}(o,u.batchId,t),yield ma(o,u.changes),yield Oc(o.remoteStore)}catch(u){const c=Vc(u,"Failed to persist write");t.reject(c)}}),ih.apply(this,arguments)}function $f(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,ue.Z)(function*(i,e){const t=sn(i);try{const o=yield Cg(t.localStore,e);e.targetChanges.forEach((u,c)=>{const g=t.cc.get(c);g&&(wn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.nc=!0:u.modifiedDocuments.size>0?wn(g.nc):u.removedDocuments.size>0&&(wn(g.nc),g.nc=!1))}),yield ma(t,o,e)}catch(o){yield je(o)}}),Hc.apply(this,arguments)}function sh(i,e,t){const o=sn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((c,g)=>{const C=g.view.bu(e);C.snapshot&&u.push(C.snapshot)}),function(c,g){const C=sn(c);C.onlineState=g;let L=!1;C.queries.forEach((H,te)=>{for(const we of te.listeners)we.bu(g)&&(L=!0)}),L&&Ff(C)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function qg(i,e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,ue.Z)(function*(i,e,t){const o=sn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),c=u&&u.key;if(c){let g=new as(Rt.comparator);g=g.insert(c,$i.newNoDocument(c,bn.min()));const C=Or().add(c),L=new fc(bn.min(),new Map,new yi(Gn),g,C);yield $f(o,L),o.uc=o.uc.remove(c),o.cc.delete(e),zf(o)}else yield gr(o.localStore,e,!1).then(()=>fo(o,e,t)).catch(je)}),Gc.apply(this,arguments)}function Oy(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,ue.Z)(function*(i,e){const t=sn(i),o=e.batch.batchId;try{const u=yield my(t.localStore,e);jf(t,o,null),uh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ma(t,u)}catch(u){yield je(u)}}),Kg.apply(this,arguments)}function ky(i,e,t){return oh.apply(this,arguments)}function oh(){return oh=(0,ue.Z)(function*(i,e,t){const o=sn(i);try{const u=yield function(c,g){const C=sn(c);return C.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return C.mutationQueue.lookupMutationBatch(L,g).next(te=>(wn(null!==te),H=te.keys(),C.mutationQueue.removeMutationBatch(L,te))).next(()=>C.mutationQueue.performConsistencyCheck(L)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(L,H,g)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>C.localDocuments.getDocuments(L,H))})}(o.localStore,e);jf(o,e,t),uh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ma(o,u)}catch(u){yield je(u)}}),oh.apply(this,arguments)}function uh(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function jf(i,e,t){const o=sn(i);let u=o.hc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(t?c.reject(t):c.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function fo(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Hf(i,o)})}function Hf(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(qd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),zf(i))}function Gf(i,e,t){for(const o of t)o instanceof cu?(i.ac.addReference(o.key,e),Wv(i,o)):o instanceof Bf?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Hf(i,o.key)):En()}function Wv(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Lt("SyncEngine","New document in limbo: "+t),i.oc.add(o),zf(i))}function zf(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Rt($r.fromString(e)),o=i.fc.next();i.cc.set(o,new Wg(t)),i.uc=i.uc.insert(t,o),Ul(i.remoteStore,new bu(Eo(xa(t.path)),o,2,Ai.at))}}function ma(i,e,t){return lh.apply(this,arguments)}function lh(){return lh=(0,ue.Z)(function*(i,e,t){const o=sn(i),u=[],c=[],g=[];var C;o.ic.isEmpty()||(o.ic.forEach((C,L)=>{g.push(o._c(L,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const te=vf.Ci(L.targetId,H);c.push(te)}}))}),yield Promise.all(g),o.sc.Wo(u),yield(C=(0,ue.Z)(function*(L,H){const te=sn(L);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>ve.forEach(H,Qe=>ve.forEach(Qe.Si,It=>te.persistence.referenceDelegate.addReference(we,Qe.targetId,It)).next(()=>ve.forEach(Qe.Di,It=>te.persistence.referenceDelegate.removeReference(we,Qe.targetId,It)))))}catch(we){if(!Dn(we))throw we;Lt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of H){const Qe=we.targetId;if(!we.fromCache){const It=te.qi.get(Qe),yn=It.withLastLimboFreeSnapshotVersion(It.snapshotVersion);te.qi=te.qi.insert(Qe,yn)}}}),function(L,H){return C.apply(this,arguments)})(o.localStore,c))}),lh.apply(this,arguments)}function Ly(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ue.Z)(function*(i,e){const t=sn(i);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield bg(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(g=>{g.forEach(C=>{C.reject(new xt(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ma(t,o.ji)}var u}),Wf.apply(this,arguments)}function Vy(i,e){const t=sn(i),o=t.cc.get(e);if(o&&o.nc)return Or().add(o.key);{let u=Or();const c=t.rc.get(e);if(!c)return u;for(const g of c){const C=t.ic.get(g);u=u.unionWith(C.view.ju)}return u}}function Qf(i){const e=sn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qg.bind(null,e),e.sc.Wo=xu.bind(null,e.eventManager),e.sc.wc=kf.bind(null,e.eventManager),e}function Wc(i){const e=sn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ky.bind(null,e),e}class Hy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.yt=Rc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Ef(i,e,t,o){return new gy(i,e,t,o)}(this.persistence,new ia,e.initialUser,this.yt)}yc(e){return new py(bc.Bs,this.yt)}gc(e){return new vy}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hl{initialize(e,t){var o=this;return(0,ue.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>sh(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ly.bind(null,o.syncEngine),yield function Ug(i,e){return th.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zv}createDatastore(e){const t=Rc(e.databaseInfo.databaseId),o=new $v(e.databaseInfo);return new Iy(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,c=C=>sh(this.syncEngine,C,0),g=Ey.C()?new Ey:new Bv,new Cy(t,o,u,c,g);var t,o,u,c,g}createSyncEngine(e,t){return function(o,u,c,g,C,L,H){const te=new Py(o,u,c,g,C,L);return H&&(te.dc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const o=sn(t);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield nl(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jg(i,e,t){if(!t)throw new xt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Gy(i){if(!Rt.isDocumentKey(i))throw new xt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ep(i){if(Rt.isDocumentKey(i))throw new xt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":En()}function ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new xt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qc(i);throw new xt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const fh=new Map;class Ua{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Jf(i,e,t,o){if(!0===e&&!0===o)throw new xt(ot.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pu{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ua({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ua(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ua;switch(t.type){case"gapi":return new la(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fh.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),fh.delete(e),t.terminate())}(this),Promise.resolve()}}class ns{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ns(this.firestore,e,this._key)}}class Do{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class sa extends Do{constructor(e,t,o){super(e,t,xa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ns(this.firestore,null,new Rt(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function em(i,e,...t){if(i=(0,fe.m9)(i),Jg("collection","path",e),i instanceof Pu){const o=$r.fromString(e,...t);return ep(o),new sa(i,null,o)}{if(!(i instanceof ns||i instanceof sa))throw new xt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child($r.fromString(e,...t));return ep(o),new sa(i.firestore,null,o)}}function zy(i,e){if(i=ei(i,Pu),Jg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xt(ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(i,null,(t=e,new Ma($r.emptyPath(),t)));var t}function tm(i,e,...t){if(i=(0,fe.m9)(i),1===arguments.length&&(e=ta.R()),Jg("doc","path",e),i instanceof Pu){const o=$r.fromString(e,...t);return Gy(o),new ns(i,null,new Rt(o))}{if(!(i instanceof ns||i instanceof sa))throw new xt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child($r.fromString(e,...t));return Gy(o),new ns(i.firestore,i instanceof sa?i.converter:null,new Rt(o))}}class mh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yy{constructor(e,t,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=xs.UNAUTHENTICATED,this.clientId=ta.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ue.Z)(function*(C){Lt("FirestoreClient","Received user=",C.uid),yield c.authCredentialListener(C),c.user=C});return function(C){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Lt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Vc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function yh(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,ue.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ue.Z)(function*(c){o.isEqual(c)||(yield bg(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),rp.apply(this,arguments)}function im(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,ue.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield sp(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>My(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>My(e.remoteStore,c)),i.onlineComponents=e}),ip.apply(this,arguments)}function sp(i){return op.apply(this,arguments)}function op(){return op=(0,ue.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield yh(i,new Hy)),i.offlineComponents}),op.apply(this,arguments)}function _h(i){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,ue.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield im(i,new Hl)),i.onlineComponents}),Gl.apply(this,arguments)}function Ou(i){return lp.apply(this,arguments)}function lp(){return lp=(0,ue.Z)(function*(i){const e=yield _h(i),t=e.eventManager;return t.onListen=Ny.bind(null,e.syncEngine),t.onUnlisten=jl.bind(null,e.syncEngine),t}),lp.apply(this,arguments)}class ql{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new zd(this,"async_queue_retry"),this.Wc=()=>{const t=lu();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=lu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=lu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new li;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Dn(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,es("INTERNAL UNHANDLED ERROR: ",function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Lc.createAndSchedule(this,e,t,o,c=>this.Yc(c));return this.Uc.push(u),u}zc(){this.Kc&&En()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class Mi extends Pu{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new ql,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dp(this),this._firestoreClient.terminate()}}function Yl(i,e){const t="object"==typeof i?i:(0,Me.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Me.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const c=(0,fe.P0)("firestore");c&&function ph(i,e,t,o={}){var u;const c=(i=ei(i,Pu))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&uo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,C;if("string"==typeof o.mockUserToken)g=o.mockUserToken,C=xs.MOCK_USER;else{g=(0,fe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new xt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new xs(L)}i._authCredentials=new va(new ea(g,C))}}(u,...c)}return u}function Hs(i){return i._firestoreClient||dp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function dp(i){var e;const t=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new co(i._databaseId,c,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var c,C;i._firestoreClient=new Yy(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(zt.fromBase64String(e))}catch(t){throw new xt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lu(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._methodName=e}}class Zl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const Eh=/^__.*__$/;class fp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ra(e,this.data,t,this.fieldTransforms)}}function Qc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class sl{constructor(e,t,o,u,c,g){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=u,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new sl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return nd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Qc(this.sa)&&Eh.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class pp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Rc(e)}da(e,t,o,u=!1){return new sl({sa:e,methodName:t,fa:o,path:mi.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ol(i){const e=i._freezeSettings(),t=Rc(i._databaseId);return new pp(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Xc(i,e,t,o,u,c={}){const g=i.da(c.merge||c.mergeFields?2:0,e,t,u);ed("Data must be an object, but it was:",g,o);const C=Ep(o,g);let L,H;if(c.merge)L=new xo(g.fieldMask),H=g.fieldTransforms;else if(c.mergeFields){const te=[];for(const we of c.mergeFields){const Qe=Xl(e,we,t);if(!g.contains(Qe))throw new xt(ot.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);Dp(te,Qe)||te.push(Qe)}L=new xo(te),H=g.fieldTransforms.filter(we=>L.covers(we.field))}else L=null,H=g.fieldTransforms;return new fp(new io(C),L,H)}function al(i,e){if(wp(i=(0,fe.m9)(i)))return ed("Unsupported field value:",e,i),Ep(i,e);if(i instanceof um)return function(t,o){if(!Qc(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let c=0;for(const g of t){let C=al(g,o.aa(c));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),c++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yd(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=gi.fromDate(t);return{timestampValue:Iu(o.yt,u)}}if(t instanceof gi){const u=new gi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Iu(o.yt,u)}}if(t instanceof Zl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lu)return{bytesValue:Yh(o.yt,t._byteString)};if(t instanceof ns){const u=o.databaseId,c=t.firestore._databaseId;if(!c.isEqual(u))throw o.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Id(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${qc(t)}`)}(i,e)}function Ep(i,e){const t={};return Da(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(i,(o,u)=>{const c=al(u,e.ra(o));null!=c&&(t[o]=c)}),{mapValue:{fields:t}}}function wp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gi||i instanceof Zl||i instanceof Lu||i instanceof ns||i instanceof um)}function ed(i,e,t){if(!wp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=qc(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Xl(i,e,t){if((e=(0,fe.m9)(e))instanceof Vu)return e._internalPath;if("string"==typeof e)return td(i,e);throw nd("Field path arguments must be of type string or ",i,!1,void 0,t)}const dm=new RegExp("[~\\*/\\[\\]]");function td(i,e,t){if(e.search(dm)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Vu(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function nd(i,e,t,o,u){const c=o&&!o.isEmpty(),g=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let L="";return(c||g)&&(L+=" (found",c&&(L+=` in field ${o}`),g&&(L+=` in document ${u}`),L+=")"),new xt(ot.INVALID_ARGUMENT,C+i+L)}function Dp(i,e){return i.some(t=>t.isEqual(e))}class wh{constructor(e,t,o,u,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ns(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hm extends wh{data(){return super.data()}}function rd(i,e){return"string"==typeof e?td(i,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}class fm{}class i_ extends fm{}function s_(i,e,...t){let o=[];e instanceof fm&&o.push(e),o=o.concat(t),function(u){const c=u.filter(C=>C instanceof ls).length,g=u.filter(C=>C instanceof Jl).length;if(c>1||c>0&&g>0)throw new xt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Jl extends i_{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Jl(e,t,o)}_apply(e){const t=this._parse(e);return _a(e._query,t),new Do(e.firestore,e.converter,El(e._query,t))}_parse(e){const t=ol(e.firestore);return function(u,c,g,C,L,H,te){let we;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new xt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){bh(te,H);const Qe=[];for(const It of te)Qe.push(Ih(C,u,It));we={arrayValue:{values:Qe}}}else we=Ih(C,u,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||bh(te,H),we=function vp(i,e,t,o=!1){return al(t,i.da(o?4:3,e))}(g,"where",te,"in"===H||"not-in"===H);return jr.create(L,H,we)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function o_(i,e,t){const o=e,u=rd("where",i);return Jl._create(u,o,t)}class ls extends fm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ls(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let c=o;const g=u.getFlattenedFilters();for(const C of g)_a(c,C),c=El(c,C)}(e._query,t),new Do(e.firestore,e.converter,El(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ih(i,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new xt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!md(e)&&-1!==t.indexOf("/"))throw new xt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child($r.fromString(t));if(!Rt.isDocumentKey(o))throw new xt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ys(i,new Rt(o))}if(t instanceof ns)return ys(i,t._key);throw new xt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qc(t)}.`)}function bh(i,e){if(!Array.isArray(i)||0===i.length)throw new xt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new xt(ot.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function _a(i,e){if(e.isInequality()){const o=vl(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new xt(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const c=gd(i);null!==c&&function pm(i,e,t){if(!t.isEqual(e))throw new xt(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,u,c)}const t=function(o,u){for(const c of o)for(const g of c.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xt(ot.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Xo(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends wh{constructor(e,t,o,u,c,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(rd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Th extends ul{data(e={}){return super.data(e)}}class ec{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Th(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Th(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const C=new Th(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,H=-1;return 0!==g.type&&(L=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),1!==g.type&&(c=c.add(g.doc),H=c.indexOf(g.doc.key)),{type:f_(g.type),doc:C,oldIndex:L,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function Tp(i){i=ei(i,ns);const e=ei(i.firestore,Mi);return function ku(i,e,t={}){const o=new li;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(u,c,g,C,L){const H=new mh({next:we=>{c.enqueueAndForget(()=>jg(u,te));const Qe=we.docs.has(g);!Qe&&we.fromCache?L.reject(new xt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Qe&&we.fromCache&&C&&"server"===C.source?L.reject(new xt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(we)},error:we=>L.reject(we)}),te=new nh(xa(g.path),H,{includeMetadataChanges:!0,Nu:!0});return Bg(u,te)}(yield Ou(i),i.asyncQueue,e,t,o)})),o.promise}(Hs(e),i._key).then(t=>function Sh(i,e,t){const o=t.docs.get(e._key),u=new oa(i);return new ul(i,u,e._key,o,new Uu(t.hasPendingWrites,t.fromCache),e.converter)}(e,i,t))}class oa extends class $a{convertValue(e,t="none"){switch(le(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(w(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw En()}}convertObject(e,t){const o={};return os(e.fields,(u,c)=>{o[u]=this.convertValue(c,t)}),o}convertGeoPoint(e){return new Zl(Ln(e.latitude),Ln(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=v(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(M(e));default:return null}}convertTimestamp(e){const t=Nn(e);return new gi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=$r.fromString(e);wn(Xp(o));const u=new zr(o.get(1),o.get(3)),c=new Rt(o.popFirst(5));return u.isEqual(t)||es(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ns(this.firestore,null,t)}}function g_(i){i=ei(i,Do);const e=ei(i.firestore,Mi),t=Hs(e),o=new oa(e);return function Ip(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new xt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),function Qo(i,e,t={}){const o=new li;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(u,c,g,C,L){const H=new mh({next:we=>{c.enqueueAndForget(()=>jg(u,te)),we.fromCache&&"server"===C.source?L.reject(new xt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(we)},error:we=>L.reject(we)}),te=new nh(g,H,{includeMetadataChanges:!0,Nu:!0});return Bg(u,te)}(yield Ou(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(u=>new ec(e,o,i,u))}function Ch(i,e,t){i=ei(i,ns);const o=ei(i.firestore,Mi),u=Xo(i.converter,e,t);return ll(o,[Xc(ol(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,jt.none())])}function mm(i,e){const t=ei(i.firestore,Mi),o=tm(i),u=Xo(i.converter,e);return ll(t,[Xc(ol(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,jt.exists(!1))]).then(()=>o)}function ll(i,e){return function(t,o){const u=new li;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function rh(i,e,t){return ih.apply(this,arguments)}(yield function up(i){return _h(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(Hs(i),e)}!function(i,e=!0){ao=Me.Jn,(0,Me.Xd)(new Ue.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const c=t.getProvider("app").getImmediate(),g=new Mi(new fu(t.getProvider("auth-internal")),new Ea(t.getProvider("app-check-internal")),function(C,L){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new xt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zr(C.options.projectId,L)}(c,o),c);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Me.KN)(zo,"3.8.0",i),(0,Me.KN)(zo,"3.8.0","esm2017")}();class Sp{constructor(e){return e}}const Dm="firestore",Ap=new F.OlP("angularfire2.firestore-instances");function b_(i){return(e,t)=>{const o=e.runOutsideAngular(()=>i(t));return new Sp(o)}}const T_={provide:class D_{constructor(){return(0,m.vb)(Dm)}},deps:[[new F.FiY,Ap]]},C_={provide:Sp,useFactory:function I_(i,e){const t=(0,m.JM)(Dm,i,e);return t&&new Sp(t)},deps:[[new F.FiY,Ap],Ee.Ot]};let Im=(()=>{class i{constructor(){(0,Ie.KN)("angularfire",m.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=F.oAB({type:i}),i.\u0275inj=F.cJS({providers:[C_,T_]}),i})();function bm(i,...e){return{ngModule:Im,providers:[{provide:Ap,useFactory:b_(i),multi:!0,deps:[F.R0b,F.zs3,m.HU,Ee.z6,[new F.FiY,ae.dh],[new F.FiY,Pe.nm],...e]}]}}const cl=(0,m.u3)(mm,!0),gE=(0,m.u3)(em,!0),Mp=(0,m.u3)(zy,!0),rr=(0,m.u3)(tm,!0),Ah=(0,m.u3)(Tp,!0),Sm=(0,m.u3)(g_,!0),Am=(0,m.u3)(Yl,!0),B_=(0,m.u3)(s_,!0),G_=(0,m.u3)(Ch,!0),Mm=(0,m.u3)(o_,!0)},8032:(Jt,Ze,U)=>{U.d(Ze,{Ke:()=>_i,oq:()=>ne,Jt:()=>vt,cF:()=>Tn,Vq:()=>Cs,iH:()=>Pr,B0:()=>k});var m=U(462),F=U(4650),ae=U(3692),Ee=U(7323),Ie=U(259),Pe=U(2313),ue=U(5861),Me=U(9681),Ue=U(2090),he=U(4859);const fe="firebasestorage.googleapis.com",be="storageBucket";class He extends Ue.ZR{constructor(I,G,re=0){super(gt(I),`Firebase Storage: ${G} (${gt(I)})`),this.status_=re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(I){this.status_=I}_codeEquals(I){return gt(I)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(I){this.customData.serverResponse=I,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function gt(f){return"storage/"+f}function st(){return new He("unknown","An unknown error occurred, please check the error payload for server response.")}function At(){return new He("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Oe(){return new He("canceled","User canceled the upload/download.")}function Le(){return new He("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ct(f){return new He("invalid-argument",f)}function qt(){return new He("app-deleted","The Firebase app was deleted.")}function _n(f,I){return new He("invalid-format","String does not match format '"+f+"': "+I)}function bt(f){throw new He("internal-error","Internal error: "+f)}class In{constructor(I,G){this.bucket=I,this.path_=G}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const I=encodeURIComponent;return"/b/"+I(this.bucket)+"/o/"+I(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(I,G){let re;try{re=In.makeFromUrl(I,G)}catch{return new In(I,"")}if(""===re.path)return re;throw function at(f){return new He("invalid-default-bucket","Invalid default bucket '"+f+"'.")}(I)}static makeFromUrl(I,G){let re=null;const Ne="([A-Za-z0-9.\\-_]+)",Ft=new RegExp("^gs://"+Ne+"(/(.*))?$","i");function Qn(pi){pi.path_=decodeURIComponent(pi.path)}const Gr=G.replace(/[.]/g,"\\."),fi=[{regex:Ft,indices:{bucket:1,path:3},postModify:function ft(pi){"/"===pi.path.charAt(pi.path.length-1)&&(pi.path_=pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gr}/v[A-Za-z0-9_]+/b/${Ne}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Qn},{regex:new RegExp(`^https?://${G===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":G}/${Ne}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Qn}];for(let pi=0;pi<fi.length;pi++){const _o=fi[pi],Ss=_o.regex.exec(I);if(Ss){let js=Ss[_o.indices.path];js||(js=""),re=new In(Ss[_o.indices.bucket],js),_o.postModify(re);break}}if(null==re)throw function ze(f){return new He("invalid-url","Invalid URL '"+f+"'.")}(I);return re}}class er{constructor(I){this.promise_=Promise.reject(I)}getPromise(){return this.promise_}cancel(I=!1){}}function Ar(f){return"string"==typeof f||f instanceof String}function Wr(f){return nr()&&f instanceof Blob}function nr(){return typeof Blob<"u"&&!(0,Ue.UG)()}function lr(f,I,G,re){if(re<I)throw ct(`Invalid value for '${f}'. Expected ${I} or greater.`);if(re>G)throw ct(`Invalid value for '${f}'. Expected ${G} or less.`)}function $n(f,I,G){let re=I;return null==G&&(re=`https://${I}`),`${G}://${re}/v0${f}`}function Rn(f){const I=encodeURIComponent;let G="?";for(const re in f)f.hasOwnProperty(re)&&(G=G+(I(re)+"=")+I(f[re])+"&");return G=G.slice(0,-1),G}var sr=(()=>{return(f=sr||(sr={}))[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",sr;var f})();function Vr(f,I){const G=f>=500&&f<600,Ne=-1!==[408,429].indexOf(f),ft=-1!==I.indexOf(f);return G||Ne||ft}class Ir{constructor(I,G,re,Ne,ft,Mt,Ft,nn,Qn,mr,Gr,vi=!0){this.url_=I,this.method_=G,this.headers_=re,this.body_=Ne,this.successCodes_=ft,this.additionalRetryCodes_=Mt,this.callback_=Ft,this.errorCallback_=nn,this.timeout_=Qn,this.progressCallback_=mr,this.connectionFactory_=Gr,this.retry=vi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ci,hi)=>{this.resolve_=Ci,this.reject_=hi,this.start_()})}start_(){const G=(re,Ne)=>{const ft=this.resolve_,Mt=this.reject_,Ft=Ne.connection;if(Ne.wasSuccessCode)try{const nn=this.callback_(Ft,Ft.getResponse());!function Fn(f){return void 0!==f}(nn)?ft():ft(nn)}catch(nn){Mt(nn)}else if(null!==Ft){const nn=st();nn.serverResponse=Ft.getErrorText(),Mt(this.errorCallback_?this.errorCallback_(Ft,nn):nn)}else Mt(Ne.canceled?this.appDelete_?qt():Oe():At())};this.canceled_?G(0,new Bt(!1,null,!0)):this.backoffId_=function Zn(f,I,G){let re=1,Ne=null,ft=null,Mt=!1,Ft=0;function nn(){return 2===Ft}let Qn=!1;function mr(...Jr){Qn||(Qn=!0,I.apply(null,Jr))}function Gr(Jr){Ne=setTimeout(()=>{Ne=null,f(Ci,nn())},Jr)}function vi(){ft&&clearTimeout(ft)}function Ci(Jr,...$s){if(Qn)return void vi();if(Jr)return vi(),void mr.call(null,Jr,...$s);if(nn()||Mt)return vi(),void mr.call(null,Jr,...$s);let fi;re<64&&(re*=2),1===Ft?(Ft=2,fi=0):fi=1e3*(re+Math.random()),Gr(fi)}let hi=!1;function Bs(Jr){hi||(hi=!0,vi(),!Qn&&(null!==Ne?(Jr||(Ft=2),clearTimeout(Ne),Gr(0)):Jr||(Ft=1)))}return Gr(0),ft=setTimeout(()=>{Mt=!0,Bs(!0)},G),Bs}((re,Ne)=>{if(Ne)return void re(!1,new Bt(!1,null,!0));const ft=this.connectionFactory_();this.pendingConnection_=ft;const Mt=Ft=>{null!==this.progressCallback_&&this.progressCallback_(Ft.loaded,Ft.lengthComputable?Ft.total:-1)};null!==this.progressCallback_&&ft.addUploadProgressListener(Mt),ft.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ft.removeUploadProgressListener(Mt),this.pendingConnection_=null;const Ft=ft.getErrorCode()===sr.NO_ERROR,nn=ft.getStatus();if((!Ft||Vr(nn,this.additionalRetryCodes_))&&this.retry){const mr=ft.getErrorCode()===sr.ABORT;return void re(!1,new Bt(!1,null,mr))}const Qn=-1!==this.successCodes_.indexOf(nn);re(!0,new Bt(Qn,ft))})},G,this.timeout_)}getPromise(){return this.promise_}cancel(I){this.canceled_=!0,this.appDelete_=I||!1,null!==this.backoffId_&&function zn(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bt{constructor(I,G,re){this.wasSuccessCode=I,this.connection=G,this.canceled=!!re}}function or(...f){const I=function fr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==I){const G=new I;for(let re=0;re<f.length;re++)G.append(f[re]);return G.getBlob()}if(nr())return new Blob(f);throw new He("unsupported-environment","This browser doesn't seem to support creating Blobs")}class gn{constructor(I,G){this.data=I,this.contentType=G||null}}function pr(f){const I=[];for(let G=0;G<f.length;G++){let re=f.charCodeAt(G);re<=127?I.push(re):re<=2047?I.push(192|re>>6,128|63&re):55296==(64512&re)?G<f.length-1&&56320==(64512&f.charCodeAt(G+1))?(re=65536|(1023&re)<<10|1023&f.charCodeAt(++G),I.push(240|re>>18,128|re>>12&63,128|re>>6&63,128|63&re)):I.push(239,191,189):56320==(64512&re)?I.push(239,191,189):I.push(224|re>>12,128|re>>6&63,128|63&re)}return new Uint8Array(I)}function Tt(f,I){switch(f){case"base64":{const Ne=-1!==I.indexOf("-"),ft=-1!==I.indexOf("_");if(Ne||ft)throw _n(f,"Invalid character '"+(Ne?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const Ne=-1!==I.indexOf("+"),ft=-1!==I.indexOf("/");if(Ne||ft)throw _n(f,"Invalid character '"+(Ne?"+":"/")+"' found: is it base64 encoded?");I=I.replace(/-/g,"+").replace(/_/g,"/");break}}let G;try{G=function rn(f){if(typeof atob>"u")throw function _t(f){return new He("unsupported-environment",`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(I)}catch(Ne){throw Ne.message.includes("polyfill")?Ne:_n(f,"Invalid character found")}const re=new Uint8Array(G.length);for(let Ne=0;Ne<G.length;Ne++)re[Ne]=G.charCodeAt(Ne);return re}class _r{constructor(I){this.base64=!1,this.contentType=null;const G=I.match(/^data:([^,]+)?,/);if(null===G)throw _n("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const re=G[1]||null;null!=re&&(this.base64=function Un(f,I){return f.length>=I.length&&f.substring(f.length-I.length)===I}(re,";base64"),this.contentType=this.base64?re.substring(0,re.length-7):re),this.rest=I.substring(I.indexOf(",")+1)}}class tr{constructor(I,G){let re=0,Ne="";Wr(I)?(this.data_=I,re=I.size,Ne=I.type):I instanceof ArrayBuffer?(G?this.data_=new Uint8Array(I):(this.data_=new Uint8Array(I.byteLength),this.data_.set(new Uint8Array(I))),re=this.data_.length):I instanceof Uint8Array&&(G?this.data_=I:(this.data_=new Uint8Array(I.length),this.data_.set(I)),re=I.length),this.size_=re,this.type_=Ne}size(){return this.size_}type(){return this.type_}slice(I,G){if(Wr(this.data_)){const Ne=function Wn(f,I,G){return f.webkitSlice?f.webkitSlice(I,G):f.mozSlice?f.mozSlice(I,G):f.slice?f.slice(I,G):null}(this.data_,I,G);return null===Ne?null:new tr(Ne)}{const re=new Uint8Array(this.data_.buffer,I,G-I);return new tr(re,!0)}}static getBlob(...I){if(nr()){const G=I.map(re=>re instanceof tr?re.data_:re);return new tr(or.apply(null,G))}{const G=I.map(Mt=>Ar(Mt)?function dr(f,I){switch(f){case"raw":return new gn(pr(I));case"base64":case"base64url":return new gn(Tt(f,I));case"data_url":return new gn(function qn(f){const I=new _r(f);return I.base64?Tt("base64",I.rest):function wr(f){let I;try{I=decodeURIComponent(f)}catch{throw _n("data_url","Malformed data URL.")}return pr(I)}(I.rest)}(I),function Ur(f){return new _r(f).contentType}(I))}throw st()}("raw",Mt).data:Mt.data_);let re=0;G.forEach(Mt=>{re+=Mt.byteLength});const Ne=new Uint8Array(re);let ft=0;return G.forEach(Mt=>{for(let Ft=0;Ft<Mt.length;Ft++)Ne[ft++]=Mt[Ft]}),new tr(Ne,!0)}}uploadData(){return this.data_}}function Dr(f){let I;try{I=JSON.parse(f)}catch{return null}return function on(f){return"object"==typeof f&&!Array.isArray(f)}(I)?I:null}function Ct(f){const I=f.lastIndexOf("/",f.length-2);return-1===I?f:f.slice(I+1)}function cn(f,I){return I}class $t{constructor(I,G,re,Ne){this.server=I,this.local=G||I,this.writable=!!re,this.xform=Ne||cn}}let An=null;function ce(){if(An)return An;const f=[];f.push(new $t("bucket")),f.push(new $t("generation")),f.push(new $t("metageneration")),f.push(new $t("name","fullPath",!0));const G=new $t("name");G.xform=function I(ft,Mt){return function pe(f){return!Ar(f)||f.length<2?f:Ct(f)}(Mt)},f.push(G);const Ne=new $t("size");return Ne.xform=function re(ft,Mt){return void 0!==Mt?Number(Mt):Mt},f.push(Ne),f.push(new $t("timeCreated")),f.push(new $t("updated")),f.push(new $t("md5Hash",null,!0)),f.push(new $t("cacheControl",null,!0)),f.push(new $t("contentDisposition",null,!0)),f.push(new $t("contentEncoding",null,!0)),f.push(new $t("contentLanguage",null,!0)),f.push(new $t("contentType",null,!0)),f.push(new $t("metadata","customMetadata",!0)),An=f,An}function se(f,I,G){const re=Dr(I);return null===re?null:function ge(f,I,G){const re={type:"file"},Ne=G.length;for(let ft=0;ft<Ne;ft++){const Mt=G[ft];re[Mt.local]=Mt.xform(re,I[Mt.server])}return function K(f,I){Object.defineProperty(f,"ref",{get:function G(){const ft=new In(f.bucket,f.fullPath);return I._makeStorageReference(ft)}})}(re,f),re}(f,re,G)}function ut(f,I){const G={},re=I.length;for(let Ne=0;Ne<re;Ne++){const ft=I[Ne];ft.writable&&(G[ft.server]=f[ft.local])}return JSON.stringify(G)}class X{constructor(I,G,re,Ne){this.url=I,this.method=G,this.handler=re,this.timeout=Ne,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Q(f){if(!f)throw st()}function Ae(f,I){return function G(re,Ne){const ft=se(f,Ne,I);return Q(null!==ft),ft}}function mn(f){return function I(G,re){let Ne;return Ne=401===G.getStatus()?G.getErrorText().includes("Firebase App Check token is invalid")?function Se(){return new He("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Be(){return new He("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===G.getStatus()?function en(f){return new He("quota-exceeded","Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===G.getStatus()?function Je(f){return new He("unauthorized","User does not have permission to access '"+f+"'.")}(f.path):re,Ne.status=G.getStatus(),Ne.serverResponse=re.serverResponse,Ne}}function Cn(f){const I=mn(f);return function G(re,Ne){let ft=I(re,Ne);return 404===re.getStatus()&&(ft=function Kt(f){return new He("object-not-found","Object '"+f+"' does not exist.")}(f.path)),ft.serverResponse=Ne.serverResponse,ft}}function Pn(f,I,G){const re=Object.assign({},G);return re.fullPath=f.path,re.size=I.size(),re.contentType||(re.contentType=function Qt(f,I){return f&&f.contentType||I&&I.type()||"application/octet-stream"}(null,I)),re}class xr{constructor(I,G,re,Ne){this.current=I,this.total=G,this.finalized=!!re,this.metadata=Ne||null}}function ar(f,I){let G=null;try{G=f.getResponseHeader("X-Goog-Upload-Status")}catch{Q(!1)}return Q(!!G&&-1!==(I||["active"]).indexOf(G)),G}function Pi(f){switch(f){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class ni{constructor(I,G,re){if(function ln(f){return"function"==typeof f}(I)||null!=G||null!=re)this.next=I,this.error=G??void 0,this.complete=re??void 0;else{const ft=I;this.next=ft.next,this.error=ft.error,this.complete=ft.complete}}}function ke(f){return(...I)=>{Promise.resolve().then(()=>f(...I))}}class ht extends class $e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sr.NO_ERROR,this.sendPromise_=new Promise(I=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sr.ABORT,I()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sr.NETWORK_ERROR,I()}),this.xhr_.addEventListener("load",()=>{I()})})}send(I,G,re,Ne){if(this.sent_)throw bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(G,I,!0),void 0!==Ne)for(const ft in Ne)Ne.hasOwnProperty(ft)&&this.xhr_.setRequestHeader(ft,Ne[ft].toString());return void 0!==re?this.xhr_.send(re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(I){return this.xhr_.getResponseHeader(I)}addUploadProgressListener(I){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",I)}removeUploadProgressListener(I){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",I)}}{initXhr(){this.xhr_.responseType="text"}}function yt(){return new ht}class qr{constructor(I,G,re=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=I,this._blob=G,this._metadata=re,this._mappings=ce(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ne=>{if(this._request=void 0,this._chunkMultiplier=1,Ne._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const ft=this.isExponentialBackoffExpired();if(Vr(Ne.status,[])){if(!ft)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ne=At()}this._error=Ne,this._transition("error")}},this._metadataErrorHandler=Ne=>{this._request=void 0,Ne._codeEquals("canceled")?this.completeTransitions_():(this._error=Ne,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ne,ft)=>{this._resolve=Ne,this._reject=ft,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const I=this._transferred;return G=>this._updateProgress(I+G)}_shouldDoResumable(I){return I.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(I){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([G,re])=>{switch(this._state){case"running":I(G,re);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((I,G)=>{const re=function Xr(f,I,G,re,Ne){const ft=I.bucketOnlyServerUrl(),Mt=Pn(I,re,Ne),Ft={name:Mt.fullPath},nn=$n(ft,f.host,f._protocol),mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${re.size()}`,"X-Goog-Upload-Header-Content-Type":Mt.contentType,"Content-Type":"application/json; charset=utf-8"},Gr=ut(Mt,G),hi=new X(nn,"POST",function Ci(Bs){let Jr;ar(Bs);try{Jr=Bs.getResponseHeader("X-Goog-Upload-URL")}catch{Q(!1)}return Q(Ar(Jr)),Jr},f.maxUploadRetryTime);return hi.urlParams=Ft,hi.headers=mr,hi.body=Gr,hi.errorHandler=mn(I),hi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ne=this._ref.storage._makeRequest(re,yt,I,G);this._request=Ne,Ne.getPromise().then(ft=>{this._request=void 0,this._uploadUrl=ft,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const I=this._uploadUrl;this._resolveToken((G,re)=>{const Ne=function Ri(f,I,G,re){const nn=new X(G,"POST",function ft(Qn){const mr=ar(Qn,["active","final"]);let Gr=null;try{Gr=Qn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Q(!1)}Gr||Q(!1);const vi=Number(Gr);return Q(!isNaN(vi)),new xr(vi,re.size(),"final"===mr)},f.maxUploadRetryTime);return nn.headers={"X-Goog-Upload-Command":"query"},nn.errorHandler=mn(I),nn}(this._ref.storage,this._ref._location,I,this._blob),ft=this._ref.storage._makeRequest(Ne,yt,G,re);this._request=ft,ft.getPromise().then(Mt=>{this._request=void 0,this._updateProgress(Mt.current),this._needToFetchStatus=!1,Mt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const I=262144*this._chunkMultiplier,G=new xr(this._transferred,this._blob.size()),re=this._uploadUrl;this._resolveToken((Ne,ft)=>{let Mt;try{Mt=function ws(f,I,G,re,Ne,ft,Mt,Ft){const nn=new xr(0,0);if(Mt?(nn.current=Mt.current,nn.total=Mt.total):(nn.current=0,nn.total=re.size()),re.size()!==nn.total)throw function nt(){return new He("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Qn=nn.total-nn.current;let mr=Qn;Ne>0&&(mr=Math.min(mr,Ne));const Gr=nn.current;let Ci="";Ci=0===mr?"finalize":Qn===mr?"upload, finalize":"upload";const hi={"X-Goog-Upload-Command":Ci,"X-Goog-Upload-Offset":`${nn.current}`},Bs=re.slice(Gr,Gr+mr);if(null===Bs)throw Le();const fi=new X(G,"POST",function Jr(pi,_o){const Ss=ar(pi,["active","final"]),bo=nn.current+mr,js=re.size();let To;return To="final"===Ss?Ae(I,ft)(pi,_o):null,new xr(bo,js,"final"===Ss,To)},I.maxUploadRetryTime);return fi.headers=hi,fi.body=Bs.uploadData(),fi.progressCallback=Ft||null,fi.errorHandler=mn(f),fi}(this._ref._location,this._ref.storage,re,this._blob,I,this._mappings,G,this._makeProgressCallback())}catch(nn){return this._error=nn,void this._transition("error")}const Ft=this._ref.storage._makeRequest(Mt,yt,Ne,ft,!1);this._request=Ft,Ft.getPromise().then(nn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(nn.current),nn.finalized?(this._metadata=nn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((I,G)=>{const re=function Mr(f,I,G){const Ne=$n(I.fullServerUrl(),f.host,f._protocol),Mt=f.maxOperationRetryTime,Ft=new X(Ne,"GET",Ae(f,G),Mt);return Ft.errorHandler=Cn(I),Ft}(this._ref.storage,this._ref._location,this._mappings),Ne=this._ref.storage._makeRequest(re,yt,I,G);this._request=Ne,Ne.getPromise().then(ft=>{this._request=void 0,this._metadata=ft,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((I,G)=>{const re=function Kn(f,I,G,re,Ne){const ft=I.bucketOnlyServerUrl(),Mt={"X-Goog-Upload-Protocol":"multipart"},nn=function Ft(){let fi="";for(let pi=0;pi<2;pi++)fi+=Math.random().toString().slice(2);return fi}();Mt["Content-Type"]="multipart/related; boundary="+nn;const Qn=Pn(I,re,Ne),mr=ut(Qn,G),Ci=tr.getBlob("--"+nn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mr+"\r\n--"+nn+"\r\nContent-Type: "+Qn.contentType+"\r\n\r\n",re,"\r\n--"+nn+"--");if(null===Ci)throw Le();const hi={name:Qn.fullPath},Bs=$n(ft,f.host,f._protocol),$s=f.maxUploadRetryTime,Ji=new X(Bs,"POST",Ae(f,G),$s);return Ji.urlParams=hi,Ji.headers=Mt,Ji.body=Ci.uploadData(),Ji.errorHandler=mn(I),Ji}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ne=this._ref.storage._makeRequest(re,yt,I,G);this._request=Ne,Ne.getPromise().then(ft=>{this._request=void 0,this._metadata=ft,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(I){const G=this._transferred;this._transferred=I,this._transferred!==G&&this._notifyObservers()}_transition(I){if(this._state!==I)switch(I){case"canceling":case"pausing":this._state=I,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const G="paused"===this._state;this._state=I,G&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=I,this._notifyObservers();break;case"canceled":this._error=Oe(),this._state=I,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const I=Pi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:I,metadata:this._metadata,task:this,ref:this._ref}}on(I,G,re,Ne){const ft=new ni(G||void 0,re||void 0,Ne||void 0);return this._addObserver(ft),()=>{this._removeObserver(ft)}}then(I,G){return this._promise.then(I,G)}catch(I){return this.then(null,I)}_addObserver(I){this._observers.push(I),this._notifyObserver(I)}_removeObserver(I){const G=this._observers.indexOf(I);-1!==G&&this._observers.splice(G,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(G=>{this._notifyObserver(G)})}_finishPromise(){if(void 0!==this._resolve){let I=!0;switch(Pi(this._state)){case"success":ke(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":ke(this._reject.bind(null,this._error))();break;default:I=!1}I&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(I){switch(Pi(this._state)){case"running":case"paused":I.next&&ke(I.next.bind(I,this.snapshot))();break;case"success":I.complete&&ke(I.complete.bind(I))();break;default:I.error&&ke(I.error.bind(I,this._error))()}}resume(){const I="paused"===this._state||"pausing"===this._state;return I&&this._transition("running"),I}pause(){const I="running"===this._state;return I&&this._transition("pausing"),I}cancel(){const I="running"===this._state||"pausing"===this._state;return I&&this._transition("canceling"),I}}class Ni{constructor(I,G){this._service=I,this._location=G instanceof In?G:In.makeFromUrl(G,I.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(I,G){return new Ni(I,G)}get root(){const I=new In(this._location.bucket,"");return this._newRef(this._service,I)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ct(this._location.path)}get storage(){return this._service}get parent(){const I=function Dt(f){if(0===f.length)return null;const I=f.lastIndexOf("/");return-1===I?"":f.slice(0,I)}(this._location.path);if(null===I)return null;const G=new In(this._location.bucket,I);return new Ni(this._service,G)}_throwIfRoot(I){if(""===this._location.path)throw function Bn(f){return new He("invalid-root-operation","The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(I)}}function Os(f){f._throwIfRoot("getDownloadURL");const I=function Fe(f,I,G){const Ne=$n(I.fullServerUrl(),f.host,f._protocol),Mt=f.maxOperationRetryTime,Ft=new X(Ne,"GET",function Ot(f,I){return function G(re,Ne){const ft=se(f,Ne,I);return Q(null!==ft),function We(f,I,G,re){const Ne=Dr(I);if(null===Ne||!Ar(Ne.downloadTokens))return null;const ft=Ne.downloadTokens;if(0===ft.length)return null;const Mt=encodeURIComponent;return ft.split(",").map(Qn=>{const Gr=f.fullPath;return $n("/b/"+Mt(f.bucket)+"/o/"+Mt(Gr),G,re)+Rn({alt:"media",token:Qn})})[0]}(ft,Ne,f.host,f._protocol)}}(f,G),Mt);return Ft.errorHandler=Cn(I),Ft}(f.storage,f._location,ce());return f.storage.makeRequestWithTokens(I,yt).then(G=>{if(null===G)throw function Ve(){return new He("no-download-url","The given file does not have any download URLs.")}();return G})}function Yi(f,I){if(f instanceof mo){const G=f;if(null==G._bucket)throw function Re(){return new He("no-default-bucket","No default bucket found. Did you set the '"+be+"' property when initializing the app?")}();const re=new Ni(G,G._bucket);return null!=I?Yi(re,I):re}return void 0!==I?function Fi(f,I){const G=function qe(f,I){const G=I.split("/").filter(re=>re.length>0).join("/");return 0===f.length?G:f+"/"+G}(f._location.path,I),re=new In(f._location.bucket,G);return new Ni(f.storage,re)}(f,I):f}function ci(f,I){const G=I?.[be];return null==G?null:In.makeFromBucketSpec(G,f)}class mo{constructor(I,G,re,Ne,ft){this.app=I,this._authProvider=G,this._appCheckProvider=re,this._url=Ne,this._firebaseVersion=ft,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ne?In.makeFromBucketSpec(Ne,this._host):ci(this._host,this.app.options)}get host(){return this._host}set host(I){this._host=I,this._bucket=null!=this._url?In.makeFromBucketSpec(this._url,I):ci(I,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(I){lr("time",0,Number.POSITIVE_INFINITY,I),this._maxUploadRetryTime=I}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(I){lr("time",0,Number.POSITIVE_INFINITY,I),this._maxOperationRetryTime=I}_getAuthToken(){var I=this;return(0,ue.Z)(function*(){if(I._overrideAuthToken)return I._overrideAuthToken;const G=I._authProvider.getImmediate({optional:!0});if(G){const re=yield G.getToken();if(null!==re)return re.accessToken}return null})()}_getAppCheckToken(){var I=this;return(0,ue.Z)(function*(){const G=I._appCheckProvider.getImmediate({optional:!0});return G?(yield G.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(I=>I.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(I){return new Ni(this,I)}_makeRequest(I,G,re,Ne,ft=!0){if(this._deleted)return new er(qt());{const Mt=function ti(f,I,G,re,Ne,ft,Mt=!0){const Ft=Rn(f.urlParams),nn=f.url+Ft,Qn=Object.assign({},f.headers);return function cr(f,I){I&&(f["X-Firebase-GMPID"]=I)}(Qn,I),function vn(f,I){null!==I&&I.length>0&&(f.Authorization="Firebase "+I)}(Qn,G),function Hr(f,I){f["X-Firebase-Storage-Version"]="webjs/"+(I??"AppManager")}(Qn,ft),function Cr(f,I){null!==I&&(f["X-Firebase-AppCheck"]=I)}(Qn,re),new Ir(nn,f.method,Qn,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,Ne,Mt)}(I,this._appId,re,Ne,G,this._firebaseVersion,ft);return this._requests.add(Mt),Mt.getPromise().then(()=>this._requests.delete(Mt),()=>this._requests.delete(Mt)),Mt}}makeRequestWithTokens(I,G){var re=this;return(0,ue.Z)(function*(){const[Ne,ft]=yield Promise.all([re._getAuthToken(),re._getAppCheckToken()]);return re._makeRequest(I,G,Ne,ft).getPromise()})()}}const bs="@firebase/storage",ds="storage";function hs(f,I,G){return function Oi(f,I,G){return f._throwIfRoot("uploadBytesResumable"),new qr(f,new tr(I),G)}(f=(0,Ue.m9)(f),I,G)}function Us(f){return Os(f=(0,Ue.m9)(f))}function di(f){return function ks(f){f._throwIfRoot("deleteObject");const I=function wt(f,I){const re=$n(I.fullServerUrl(),f.host,f._protocol),Ft=new X(re,"DELETE",function Mt(nn,Qn){},f.maxOperationRetryTime);return Ft.successCodes=[200,204],Ft.errorHandler=Cn(I),Ft}(f.storage,f._location);return f.storage.makeRequestWithTokens(I,yt)}(f=(0,Ue.m9)(f))}function is(f,I){return function Ls(f,I){if(I&&function rs(f){return/^[A-Za-z]+:\/\//.test(f)}(I)){if(f instanceof mo)return function Fs(f,I){return new Ni(f,I)}(f,I);throw ct("To use ref(service, url), the first argument must be a Storage instance.")}return Yi(f,I)}(f=(0,Ue.m9)(f),I)}function qs(f=(0,Me.Mq)(),I){f=(0,Ue.m9)(f);const re=(0,Me.qX)(f,ds).getImmediate({identifier:I}),Ne=(0,Ue.P0)("storage");return Ne&&function ss(f,I,G,re={}){!function Js(f,I,G,re={}){f.host=`${I}:${G}`,f._protocol="http";const{mockUserToken:Ne}=re;Ne&&(f._overrideAuthToken="string"==typeof Ne?Ne:(0,Ue.Sg)(Ne,f.app.options.projectId))}(f,I,G,re)}(re,...Ne),re}function fs(f,{instanceIdentifier:I}){const G=f.getProvider("app").getImmediate(),re=f.getProvider("auth-internal"),Ne=f.getProvider("app-check-internal");return new mo(G,re,Ne,I,Me.Jn)}!function so(){(0,Me.Xd)(new he.wA(ds,fs,"PUBLIC").setMultipleInstances(!0)),(0,Me.KN)(bs,"0.10.0",""),(0,Me.KN)(bs,"0.10.0","esm2017")}();class _i{constructor(I){return I}}const oi="storage",ui=new F.OlP("angularfire2.storage-instances");function ps(f){return(I,G)=>{const re=I.runOutsideAngular(()=>f(G));return new _i(re)}}const gs={provide:class ai{constructor(){return(0,m.vb)(oi)}},deps:[[new F.FiY,ui]]},yo={provide:_i,useFactory:function vr(f,I){const G=(0,m.JM)(oi,f,I);return G&&new _i(G)},deps:[[new F.FiY,ui],ae.Ot]};let zi=(()=>{class f{constructor(){(0,Ie.KN)("angularfire",m.q4.full,"gcs")}}return f.\u0275fac=function(G){return new(G||f)},f.\u0275mod=F.oAB({type:f}),f.\u0275inj=F.cJS({providers:[yo,gs]}),f})();function Cs(f,...I){return{ngModule:zi,providers:[{provide:ui,useFactory:ps(f),multi:!0,deps:[F.R0b,F.zs3,m.HU,ae.z6,[new F.FiY,Ee.dh],[new F.FiY,Pe.nm],...I]}]}}const ne=(0,m.u3)(di,!0),vt=(0,m.u3)(Us,!0),Tn=(0,m.u3)(qs,!0),Pr=(0,m.u3)(is,!0),k=(0,m.u3)(hs,!0)},462:(Jt,Ze,U)=>{U.d(Ze,{q4:()=>Br,HU:()=>Ks,vb:()=>so,JM:()=>fs,nk:()=>Fr,u3:()=>jn});var m=U(4650),F=U(259),ae=U(5861),Ee=U(9681),Ie=U(2090),Pe=U(4859),ue=U(1877);U(2833);const Ue="@firebase/remote-config",Te=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qt{constructor(ne,Ce,et,vt){this.client=ne,this.storage=Ce,this.storageCache=et,this.logger=vt}isCachedDataFresh(ne,Ce){if(!Ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-Ce,vt=et<=ne;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${ne}. Is cache hit: ${vt}.`),vt}fetch(ne){var Ce=this;return(0,ae.Z)(function*(){const[et,vt]=yield Promise.all([Ce.storage.getLastSuccessfulFetchTimestampMillis(),Ce.storage.getLastSuccessfulFetchResponse()]);if(vt&&Ce.isCachedDataFresh(ne.cacheMaxAgeMillis,et))return vt;ne.eTag=vt&&vt.eTag;const kt=yield Ce.client.fetch(ne),Tn=[Ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===kt.status&&Tn.push(Ce.storage.setLastSuccessfulFetchResponse(kt)),yield Promise.all(Tn),kt})()}}function Bn(J=navigator){return J.languages&&J.languages[0]||J.language}class _n{constructor(ne,Ce,et,vt,kt,Tn){this.firebaseInstallations=ne,this.sdkVersion=Ce,this.namespace=et,this.projectId=vt,this.apiKey=kt,this.appId=Tn}fetch(ne){var Ce=this;return(0,ae.Z)(function*(){const[et,vt]=yield Promise.all([Ce.firebaseInstallations.getId(),Ce.firebaseInstallations.getToken()]),Tn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ce.projectId}/namespaces/${Ce.namespace}:fetch?key=${Ce.apiKey}`,br={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ne.eTag||"*"},dt={sdk_version:Ce.sdkVersion,app_instance_id:et,app_instance_id_token:vt,app_id:Ce.appId,language_code:Bn()},fn={method:"POST",headers:br,body:JSON.stringify(dt)},Pr=fetch(Tn,fn),Yn=new Promise((G,re)=>{ne.signal.addEventListener(()=>{const Ne=new Error("The operation was aborted.");Ne.name="AbortError",re(Ne)})});let Vn;try{yield Promise.race([Pr,Yn]),Vn=yield Pr}catch(G){let re="fetch-client-network";throw"AbortError"===G?.name&&(re="fetch-timeout"),Te.create(re,{originalErrorMessage:G?.message})}let k=Vn.status;const O=Vn.headers.get("ETag")||void 0;let f,I;if(200===Vn.status){let G;try{G=yield Vn.json()}catch(re){throw Te.create("fetch-client-parse",{originalErrorMessage:re?.message})}f=G.entries,I=G.state}if("INSTANCE_STATE_UNSPECIFIED"===I?k=500:"NO_CHANGE"===I?k=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(f={}),304!==k&&200!==k)throw Te.create("fetch-status",{httpStatus:k});return{status:k,eTag:O,config:f}})()}}class er{constructor(ne,Ce){this.client=ne,this.storage=Ce}fetch(ne){var Ce=this;return(0,ae.Z)(function*(){const et=(yield Ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ce.attemptFetch(ne,et)})()}attemptFetch(ne,{throttleEndTimeMillis:Ce,backoffCount:et}){var vt=this;return(0,ae.Z)(function*(){yield function bt(J,ne){return new Promise((Ce,et)=>{const vt=Math.max(ne-Date.now(),0),kt=setTimeout(Ce,vt);J.addEventListener(()=>{clearTimeout(kt),et(Te.create("fetch-throttle",{throttleEndTimeMillis:ne}))})})}(ne.signal,Ce);try{const kt=yield vt.client.fetch(ne);return yield vt.storage.deleteThrottleMetadata(),kt}catch(kt){if(!function In(J){if(!(J instanceof Ie.ZR&&J.customData))return!1;const ne=Number(J.customData.httpStatus);return 429===ne||500===ne||503===ne||504===ne}(kt))throw kt;const Tn={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(et),backoffCount:et+1};return yield vt.storage.setThrottleMetadata(Tn),vt.attemptFetch(ne,Tn)}})()}}class Fn{constructor(ne,Ce,et,vt,kt){this.app=ne,this._client=Ce,this._storageCache=et,this._storage=vt,this._logger=kt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ln(J,ne){const Ce=J.target.error||void 0;return Te.create(ne,{originalErrorMessage:Ce&&Ce?.message})}const on="app_namespace_store";class lr{constructor(ne,Ce,et,vt=function nr(){return new Promise((J,ne)=>{try{const Ce=indexedDB.open("firebase_remote_config",1);Ce.onerror=et=>{ne(ln(et,"storage-open"))},Ce.onsuccess=et=>{J(et.target.result)},Ce.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(on,{keyPath:"compositeKey"})}}catch(Ce){ne(Te.create("storage-open",{originalErrorMessage:Ce?.message}))}})}()){this.appId=ne,this.appName=Ce,this.namespace=et,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ne){return this.set("last_fetch_status",ne)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ne){return this.set("last_successful_fetch_timestamp_millis",ne)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ne){return this.set("last_successful_fetch_response",ne)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ne){return this.set("active_config",ne)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ne){return this.set("active_config_etag",ne)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ne){return this.set("throttle_metadata",ne)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ne){var Ce=this;return(0,ae.Z)(function*(){const et=yield Ce.openDbPromise;return new Promise((vt,kt)=>{const br=et.transaction([on],"readonly").objectStore(on),dt=Ce.createCompositeKey(ne);try{const fn=br.get(dt);fn.onerror=Pr=>{kt(ln(Pr,"storage-get"))},fn.onsuccess=Pr=>{const Yn=Pr.target.result;vt(Yn?Yn.value:void 0)}}catch(fn){kt(Te.create("storage-get",{originalErrorMessage:fn?.message}))}})})()}set(ne,Ce){var et=this;return(0,ae.Z)(function*(){const vt=yield et.openDbPromise;return new Promise((kt,Tn)=>{const dt=vt.transaction([on],"readwrite").objectStore(on),fn=et.createCompositeKey(ne);try{const Pr=dt.put({compositeKey:fn,value:Ce});Pr.onerror=Yn=>{Tn(ln(Yn,"storage-set"))},Pr.onsuccess=()=>{kt()}}catch(Pr){Tn(Te.create("storage-set",{originalErrorMessage:Pr?.message}))}})})()}delete(ne){var Ce=this;return(0,ae.Z)(function*(){const et=yield Ce.openDbPromise;return new Promise((vt,kt)=>{const br=et.transaction([on],"readwrite").objectStore(on),dt=Ce.createCompositeKey(ne);try{const fn=br.delete(dt);fn.onerror=Pr=>{kt(ln(Pr,"storage-delete"))},fn.onsuccess=()=>{vt()}}catch(fn){kt(Te.create("storage-delete",{originalErrorMessage:fn?.message}))}})})()}createCompositeKey(ne){return[this.appId,this.appName,this.namespace,ne].join()}}class $n{constructor(ne){this.storage=ne}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ne=this;return(0,ae.Z)(function*(){const Ce=ne.storage.getLastFetchStatus(),et=ne.storage.getLastSuccessfulFetchTimestampMillis(),vt=ne.storage.getActiveConfig(),kt=yield Ce;kt&&(ne.lastFetchStatus=kt);const Tn=yield et;Tn&&(ne.lastSuccessfulFetchTimestampMillis=Tn);const br=yield vt;br&&(ne.activeConfig=br)})()}setLastFetchStatus(ne){return this.lastFetchStatus=ne,this.storage.setLastFetchStatus(ne)}setLastSuccessfulFetchTimestampMillis(ne){return this.lastSuccessfulFetchTimestampMillis=ne,this.storage.setLastSuccessfulFetchTimestampMillis(ne)}setActiveConfig(ne){return this.activeConfig=ne,this.storage.setActiveConfig(ne)}}function Ir(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ae.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Rn(){(0,Ee.Xd)(new Pe.wA("remote-config",function J(ne,{instanceIdentifier:Ce}){const et=ne.getProvider("app").getImmediate(),vt=ne.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Te.create("registration-window");if(!(0,Ie.hl)())throw Te.create("indexed-db-unavailable");const{projectId:kt,apiKey:Tn,appId:br}=et.options;if(!kt)throw Te.create("registration-project-id");if(!Tn)throw Te.create("registration-api-key");if(!br)throw Te.create("registration-app-id");const dt=new lr(br,et.name,Ce=Ce||"firebase"),fn=new $n(dt),Pr=new ue.Yd(Ue);Pr.logLevel=ue.in.ERROR;const Yn=new _n(vt,Ee.Jn,Ce,kt,Tn,br),Vn=new er(Yn,dt),k=new qt(Vn,dt,fn,Pr),O=new Fn(et,k,fn,dt,Pr);return function At(J){const ne=(0,Ie.m9)(J);ne._initializePromise||(ne._initializePromise=ne._storageCache.loadFromStorage().then(()=>{ne._isInitializationComplete=!0}))}(O),O},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(Ue,"0.4.0"),(0,Ee.KN)(Ue,"0.4.0","esm2017")}();var vn=U(8766);const Hr="/firebase-messaging-sw.js",cr="/firebase-cloud-messaging-push-scope",Cr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fr="google.c.a.c_id",or="google.c.a.c_l",Wn="google.c.a.ts",rn="google.c.a.e";var gn=(()=>{return(J=gn||(gn={})).PUSH_RECEIVED="push-received",J.NOTIFICATION_CLICKED="notification-clicked",gn;var J})();function dr(J){const ne=new Uint8Array(J);return btoa(String.fromCharCode(...ne)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pr(J){const Ce=(J+"=".repeat((4-J.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(Ce),vt=new Uint8Array(et.length);for(let kt=0;kt<et.length;++kt)vt[kt]=et.charCodeAt(kt);return vt}const wr="fcm_token_details_db",_r="fcm_token_object_Store";function qn(J){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,ae.Z)(function*(J){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(kt=>kt.name).includes(wr))return null;let ne=null;return(yield(0,vn.X3)(wr,5,{upgrade:(et=(0,ae.Z)(function*(vt,kt,Tn,br){var dt;if(kt<2||!vt.objectStoreNames.contains(_r))return;const fn=br.objectStore(_r),Pr=yield fn.index("fcmSenderId").get(J);if(yield fn.clear(),Pr)if(2===kt){const Yn=Pr;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;ne={token:Yn.fcmToken,createTime:null!==(dt=Yn.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:dr(Yn.vapidKey)}}}else if(3===kt){const Yn=Pr;ne={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:dr(Yn.auth),p256dh:dr(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:dr(Yn.vapidKey)}}}else if(4===kt){const Yn=Pr;ne={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:dr(Yn.auth),p256dh:dr(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:dr(Yn.vapidKey)}}}}),function(kt,Tn,br,dt){return et.apply(this,arguments)})})).close(),yield(0,vn.Lj)(wr),yield(0,vn.Lj)("fcm_vapid_details_db"),yield(0,vn.Lj)("undefined"),Un(ne)?ne:null;var et}),Ur.apply(this,arguments)}function Un(J){if(!J||!J.subscriptionOptions)return!1;const{subscriptionOptions:ne}=J;return"number"==typeof J.createTime&&J.createTime>0&&"string"==typeof J.token&&J.token.length>0&&"string"==typeof ne.auth&&ne.auth.length>0&&"string"==typeof ne.p256dh&&ne.p256dh.length>0&&"string"==typeof ne.endpoint&&ne.endpoint.length>0&&"string"==typeof ne.swScope&&ne.swScope.length>0&&"string"==typeof ne.vapidKey&&ne.vapidKey.length>0}const Dt="firebase-messaging-store";let qe=null;function Ct(){return qe||(qe=(0,vn.X3)("firebase-messaging-database",1,{upgrade:(J,ne)=>{0===ne&&J.createObjectStore(Dt)}})),qe}function cn(J){return $t.apply(this,arguments)}function $t(){return($t=(0,ae.Z)(function*(J){const ne=ge(J),et=yield(yield Ct()).transaction(Dt).objectStore(Dt).get(ne);if(et)return et;{const vt=yield qn(J.appConfig.senderId);if(vt)return yield An(J,vt),vt}})).apply(this,arguments)}function An(J,ne){return pe.apply(this,arguments)}function pe(){return(pe=(0,ae.Z)(function*(J,ne){const Ce=ge(J),vt=(yield Ct()).transaction(Dt,"readwrite");return yield vt.objectStore(Dt).put(ne,Ce),yield vt.done,ne})).apply(this,arguments)}function ce(J){return K.apply(this,arguments)}function K(){return(K=(0,ae.Z)(function*(J){const ne=ge(J),et=(yield Ct()).transaction(Dt,"readwrite");yield et.objectStore(Dt).delete(ne),yield et.done})).apply(this,arguments)}function ge({appConfig:J}){return J.appId}const We=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ut(J,ne){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,ae.Z)(function*(J,ne){const Ce=yield Ae(J),et=Ot(ne),vt={method:"POST",headers:Ce,body:JSON.stringify(et)};let kt;try{kt=yield(yield fetch(Q(J.appConfig),vt)).json()}catch(Tn){throw We.create("token-subscribe-failed",{errorInfo:Tn?.toString()})}if(kt.error)throw We.create("token-subscribe-failed",{errorInfo:kt.error.message});if(!kt.token)throw We.create("token-subscribe-no-token");return kt.token})).apply(this,arguments)}function Yt(J,ne){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,ae.Z)(function*(J,ne){const Ce=yield Ae(J),et=Ot(ne.subscriptionOptions),vt={method:"PATCH",headers:Ce,body:JSON.stringify(et)};let kt;try{kt=yield(yield fetch(`${Q(J.appConfig)}/${ne.token}`,vt)).json()}catch(Tn){throw We.create("token-update-failed",{errorInfo:Tn?.toString()})}if(kt.error)throw We.create("token-update-failed",{errorInfo:kt.error.message});if(!kt.token)throw We.create("token-update-no-token");return kt.token})).apply(this,arguments)}function ie(J,ne){return X.apply(this,arguments)}function X(){return(X=(0,ae.Z)(function*(J,ne){const et={method:"DELETE",headers:yield Ae(J)};try{const kt=yield(yield fetch(`${Q(J.appConfig)}/${ne}`,et)).json();if(kt.error)throw We.create("token-unsubscribe-failed",{errorInfo:kt.error.message})}catch(vt){throw We.create("token-unsubscribe-failed",{errorInfo:vt?.toString()})}})).apply(this,arguments)}function Q({projectId:J}){return`https://fcmregistrations.googleapis.com/v1/projects/${J}/registrations`}function Ae(J){return lt.apply(this,arguments)}function lt(){return(lt=(0,ae.Z)(function*({appConfig:J,installations:ne}){const Ce=yield ne.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":J.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ce}`})})).apply(this,arguments)}function Ot({p256dh:J,auth:ne,endpoint:Ce,vapidKey:et}){const vt={web:{endpoint:Ce,auth:ne,p256dh:J}};return et!==Cr&&(vt.web.applicationPubKey=et),vt}const mn=6048e5;function Cn(J){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ae.Z)(function*(J){const ne=yield Pn(J.swRegistration,J.vapidKey),Ce={vapidKey:J.vapidKey,swScope:J.swRegistration.scope,endpoint:ne.endpoint,auth:dr(ne.getKey("auth")),p256dh:dr(ne.getKey("p256dh"))},et=yield cn(J.firebaseDependencies);if(et){if(xr(et.subscriptionOptions,Ce))return Date.now()>=et.createTime+mn?Fe(J,{token:et.token,createTime:Date.now(),subscriptionOptions:Ce}):et.token;try{yield ie(J.firebaseDependencies,et.token)}catch(vt){console.warn(vt)}return wt(J.firebaseDependencies,Ce)}return wt(J.firebaseDependencies,Ce)})).apply(this,arguments)}function bi(J){return an.apply(this,arguments)}function an(){return(an=(0,ae.Z)(function*(J){const ne=yield cn(J.firebaseDependencies);ne&&(yield ie(J.firebaseDependencies,ne.token),yield ce(J.firebaseDependencies));const Ce=yield J.swRegistration.pushManager.getSubscription();return!Ce||Ce.unsubscribe()})).apply(this,arguments)}function Fe(J,ne){return tt.apply(this,arguments)}function tt(){return(tt=(0,ae.Z)(function*(J,ne){try{const Ce=yield Yt(J.firebaseDependencies,ne),et=Object.assign(Object.assign({},ne),{token:Ce,createTime:Date.now()});return yield An(J.firebaseDependencies,et),Ce}catch(Ce){throw yield bi(J),Ce}})).apply(this,arguments)}function wt(J,ne){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,ae.Z)(function*(J,ne){const et={token:yield ut(J,ne),createTime:Date.now(),subscriptionOptions:ne};return yield An(J,et),et.token})).apply(this,arguments)}function Pn(J,ne){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,ae.Z)(function*(J,ne){return(yield J.pushManager.getSubscription())||J.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pr(ne)})})).apply(this,arguments)}function xr(J,ne){return ne.vapidKey===J.vapidKey&&ne.endpoint===J.endpoint&&ne.auth===J.auth&&ne.p256dh===J.p256dh}function ar(J){const ne={from:J.from,collapseKey:J.collapse_key,messageId:J.fcmMessageId};return function Xr(J,ne){if(!ne.notification)return;J.notification={};const Ce=ne.notification.title;Ce&&(J.notification.title=Ce);const et=ne.notification.body;et&&(J.notification.body=et);const vt=ne.notification.image;vt&&(J.notification.image=vt);const kt=ne.notification.icon;kt&&(J.notification.icon=kt)}(ne,J),function Ri(J,ne){!ne.data||(J.data=ne.data)}(ne,J),function ur(J,ne){var Ce,et,vt,kt,Tn;if(!(ne.fcmOptions||null!==(Ce=ne.notification)&&void 0!==Ce&&Ce.click_action))return;J.fcmOptions={};const br=null!==(vt=null===(et=ne.fcmOptions)||void 0===et?void 0:et.link)&&void 0!==vt?vt:null===(kt=ne.notification)||void 0===kt?void 0:kt.click_action;br&&(J.fcmOptions.link=br);const dt=null===(Tn=ne.fcmOptions)||void 0===Tn?void 0:Tn.analytics_label;dt&&(J.fcmOptions.analyticsLabel=dt)}(ne,J),ne}function ws(J){return"object"==typeof J&&!!J&&fr in J}function qi(J,ne){const Ce=[];for(let et=0;et<J.length;et++)Ce.push(J.charAt(et)),et<ne.length&&Ce.push(ne.charAt(et));return Ce.join("")}function Pi(J){return We.create("missing-app-config-values",{valueName:J})}qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ni{constructor(ne,Ce,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function Rr(J){if(!J||!J.options)throw Pi("App Configuration Object");if(!J.name)throw Pi("App Name");const ne=["projectId","apiKey","appId","messagingSenderId"],{options:Ce}=J;for(const et of ne)if(!Ce[et])throw Pi(et);return{appName:J.name,projectId:Ce.projectId,apiKey:Ce.apiKey,appId:Ce.appId,senderId:Ce.messagingSenderId}}(ne);this.firebaseDependencies={app:ne,appConfig:vt,installations:Ce,analyticsProvider:et}}_delete(){return Promise.resolve()}}function ke(J){return De.apply(this,arguments)}function De(){return(De=(0,ae.Z)(function*(J){try{J.swRegistration=yield navigator.serviceWorker.register(Hr,{scope:cr}),J.swRegistration.update().catch(()=>{})}catch(ne){throw We.create("failed-service-worker-registration",{browserErrorMessage:ne?.message})}})).apply(this,arguments)}function $e(J,ne){return ht.apply(this,arguments)}function ht(){return(ht=(0,ae.Z)(function*(J,ne){if(!ne&&!J.swRegistration&&(yield ke(J)),ne||!J.swRegistration){if(!(ne instanceof ServiceWorkerRegistration))throw We.create("invalid-sw-registration");J.swRegistration=ne}})).apply(this,arguments)}function yt(J,ne){return tn.apply(this,arguments)}function tn(){return(tn=(0,ae.Z)(function*(J,ne){ne?J.vapidKey=ne:J.vapidKey||(J.vapidKey=Cr)})).apply(this,arguments)}function kr(){return(kr=(0,ae.Z)(function*(J,ne){if(!navigator)throw We.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw We.create("permission-blocked");return yield yt(J,ne?.vapidKey),yield $e(J,ne?.serviceWorkerRegistration),Cn(J)})).apply(this,arguments)}function hr(J,ne,Ce){return qr.apply(this,arguments)}function qr(){return(qr=(0,ae.Z)(function*(J,ne,Ce){const et=Ni(ne);(yield J.firebaseDependencies.analyticsProvider.get()).logEvent(et,{message_id:Ce[fr],message_name:Ce[or],message_time:Ce[Wn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ni(J){switch(J){case gn.NOTIFICATION_CLICKED:return"notification_open";case gn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ki(){return(Ki=(0,ae.Z)(function*(J,ne){const Ce=ne.data;if(!Ce.isFirebaseMessaging)return;J.onMessageHandler&&Ce.messageType===gn.PUSH_RECEIVED&&("function"==typeof J.onMessageHandler?J.onMessageHandler(ar(Ce)):J.onMessageHandler.next(ar(Ce)));const et=Ce.data;ws(et)&&"1"===et[rn]&&(yield hr(J,Ce.messageType,et))})).apply(this,arguments)}const Ui="@firebase/messaging",ki=J=>{const ne=new ni(J.getProvider("app").getImmediate(),J.getProvider("installations-internal").getImmediate(),J.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ce=>function ri(J,ne){return Ki.apply(this,arguments)}(ne,Ce)),ne},Vo=J=>{const ne=J.getProvider("messaging").getImmediate();return{getToken:et=>function xn(J,ne){return kr.apply(this,arguments)}(ne,et)}};function Ds(){return Is.apply(this,arguments)}function Is(){return(Is=(0,ae.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ns(){(0,Ee.Xd)(new Pe.wA("messaging",ki,"PUBLIC")),(0,Ee.Xd)(new Pe.wA("messaging-internal",Vo,"PRIVATE")),(0,Ee.KN)(Ui,"0.12.0"),(0,Ee.KN)(Ui,"0.12.0","esm2017")}();var Ls=U(3008),ci=U(4408),mo=U(640);const si=new class bs extends mo.v{}(class Js extends ci.o{constructor(ne,Ce){super(ne,Ce),this.scheduler=ne,this.work=Ce}schedule(ne,Ce=0){return Ce>0?super.schedule(ne,Ce):(this.delay=Ce,this.state=ne,this.scheduler.flush(this),this)}execute(ne,Ce){return Ce>0||this.closed?super.execute(ne,Ce):this._execute(ne,Ce)}requestAsyncId(ne,Ce,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(ne,Ce,et):(ne.flush(this),0)}});var Hi=U(4986),Zi=U(9751),Vs=U(8505),hs=U(9468),Ts=U(5363);const Br=new m.GfV("7.5.0"),Ws="__angularfire_symbol__analyticsIsSupportedValue",Gi="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",di="__angularfire_symbol__remoteConfigIsSupported",is="__angularfire_symbol__messagingIsSupportedValue",Ti="__angularfire_symbol__messagingIsSupported";globalThis[Gi]||(globalThis[Gi]=(0,Ls.Gb)().then(J=>globalThis[Ws]=J).catch(()=>globalThis[Ws]=!1)),globalThis[Ti]||(globalThis[Ti]=Ds().then(J=>globalThis[is]=J).catch(()=>globalThis[is]=!1)),globalThis[di]||(globalThis[di]=Ir().then(J=>globalThis[Us]=J).catch(()=>globalThis[Us]=!1));const Fr={async:()=>globalThis[Gi],sync:()=>{const J=globalThis[Ws];if(void 0===J)throw new Error((J=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${J} in the constructor, first ensure that ${J} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${J})\`.`)("Analytics"));return J}};function fs(J,ne,Ce){if(ne){if(1===ne.length)return ne[0];const kt=ne.filter(Tn=>Tn.app===Ce);if(1===kt.length)return kt[0]}return Ce.container.getProvider(J).getImmediate({optional:!0})}const so=(J,ne)=>{const Ce=ne?[ne]:(0,F.C6)(),et=[];return Ce.forEach(vt=>{vt.container.getProvider(J).instances.forEach(Tn=>{et.includes(Tn)||et.push(Tn)})}),et};function _i(){}class oi{constructor(ne,Ce=si){this.zone=ne,this.delegate=Ce}now(){return this.delegate.now()}schedule(ne,Ce,et){const vt=this.zone;return this.delegate.schedule(function(Tn){vt.runGuarded(()=>{ne.apply(this,[Tn])})},Ce,et)}}class ai{constructor(ne){this.zone=ne,this.task=null}call(ne,Ce){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)),Ce.pipe((0,Vs.b)({next:et,complete:et,error:et})).subscribe(ne).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ks=(()=>{class J{constructor(Ce){this.ngZone=Ce,this.outsideAngular=Ce.runOutsideAngular(()=>new oi(Zone.current)),this.insideAngular=Ce.run(()=>new oi(Zone.current,Hi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return J.\u0275fac=function(Ce){return new(Ce||J)(m.LFG(m.R0b))},J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();function ui(){const J=globalThis.\u0275AngularFireScheduler;if(!J)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return J}function vr(J){return ui().ngZone.runOutsideAngular(()=>J())}function ps(J){return ui().ngZone.run(()=>J())}function zi(J){return ui(),function Cs(J){return function(Ce){return(Ce=Ce.lift(new ai(J.ngZone))).pipe((0,hs.R)(J.outsideAngular),(0,Ts.Q)(J.insideAngular))}}(ui())(J)}const ii=(J,ne)=>function(){const et=arguments;return ne&&setTimeout(()=>{"scheduled"===ne.state&&ne.invoke()},10),ps(()=>J.apply(void 0,et))},jn=(J,ne)=>function(){let Ce;const et=arguments;for(let kt=0;kt<arguments.length;kt++)"function"==typeof et[kt]&&(ne&&(Ce||(Ce=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)))),et[kt]=ii(et[kt],Ce));const vt=vr(()=>J.apply(this,et));if(!ne){if(vt instanceof Zi.y){const kt=ui();return vt.pipe((0,hs.R)(kt.outsideAngular),(0,Ts.Q)(kt.insideAngular))}return ps(()=>vt)}return vt instanceof Zi.y?vt.pipe(zi):vt instanceof Promise?ps(()=>new Promise((kt,Tn)=>vt.then(br=>ps(()=>kt(br)),br=>ps(()=>Tn(br))))):"function"==typeof vt&&Ce?function(){return setTimeout(()=>{Ce&&"scheduled"===Ce.state&&Ce.invoke()},10),vt.apply(this,arguments)}:ps(()=>vt)}},2090:(Jt,Ze,U)=>{U.d(Ze,{$s:()=>Ct,BH:()=>_n,L:()=>Me,LL:()=>Zn,P0:()=>ct,Pz:()=>Bn,Sg:()=>bt,UG:()=>Ke,US:()=>Pe,ZR:()=>er,aH:()=>qt,b$:()=>st,eu:()=>Oe,hl:()=>At,m9:()=>An,ne:()=>or,pd:()=>ti,q4:()=>_t,ru:()=>gt,tV:()=>Ue,uI:()=>Te,vZ:()=>Bt,w1:()=>en,xO:()=>cr,xb:()=>Vr,z$:()=>Ge,zI:()=>ze,zd:()=>Cr});const Ee=function(pe){const ce=[];let K=0;for(let ge=0;ge<pe.length;ge++){let se=pe.charCodeAt(ge);se<128?ce[K++]=se:se<2048?(ce[K++]=se>>6|192,ce[K++]=63&se|128):55296==(64512&se)&&ge+1<pe.length&&56320==(64512&pe.charCodeAt(ge+1))?(se=65536+((1023&se)<<10)+(1023&pe.charCodeAt(++ge)),ce[K++]=se>>18|240,ce[K++]=se>>12&63|128,ce[K++]=se>>6&63|128,ce[K++]=63&se|128):(ce[K++]=se>>12|224,ce[K++]=se>>6&63|128,ce[K++]=63&se|128)}return ce},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ce){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let se=0;se<pe.length;se+=3){const We=pe[se],ut=se+1<pe.length,Vt=ut?pe[se+1]:0,Yt=se+2<pe.length,Zt=Yt?pe[se+2]:0;let Q=(15&Vt)<<2|Zt>>6,Ae=63&Zt;Yt||(Ae=64,ut||(Q=64)),ge.push(K[We>>2],K[(3&We)<<4|Vt>>4],K[Q],K[Ae])}return ge.join("")},encodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(pe):this.encodeByteArray(Ee(pe),ce)},decodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(pe):function(pe){const ce=[];let K=0,ge=0;for(;K<pe.length;){const se=pe[K++];if(se<128)ce[ge++]=String.fromCharCode(se);else if(se>191&&se<224){const We=pe[K++];ce[ge++]=String.fromCharCode((31&se)<<6|63&We)}else if(se>239&&se<365){const Yt=((7&se)<<18|(63&pe[K++])<<12|(63&pe[K++])<<6|63&pe[K++])-65536;ce[ge++]=String.fromCharCode(55296+(Yt>>10)),ce[ge++]=String.fromCharCode(56320+(1023&Yt))}else{const We=pe[K++],ut=pe[K++];ce[ge++]=String.fromCharCode((15&se)<<12|(63&We)<<6|63&ut)}}return ce.join("")}(this.decodeStringToByteArray(pe,ce))},decodeStringToByteArray(pe,ce){this.init_();const K=ce?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let se=0;se<pe.length;){const We=K[pe.charAt(se++)],Vt=se<pe.length?K[pe.charAt(se)]:0;++se;const Zt=se<pe.length?K[pe.charAt(se)]:64;++se;const X=se<pe.length?K[pe.charAt(se)]:64;if(++se,null==We||null==Vt||null==Zt||null==X)throw Error();ge.push(We<<2|Vt>>4),64!==Zt&&(ge.push(Vt<<4&240|Zt>>2),64!==X&&ge.push(Zt<<6&192|X))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},Me=function(pe){return function(pe){const ce=Ee(pe);return Pe.encodeByteArray(ce,!0)}(pe).replace(/\./g,"")},Ue=function(pe){try{return Pe.decodeString(pe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function en(){const pe=Ge();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function At(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((pe,ce)=>{try{let K=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ge);se.onsuccess=()=>{se.result.close(),K||self.indexedDB.deleteDatabase(ge),pe(!0)},se.onupgradeneeded=()=>{K=!1},se.onerror=()=>{var We;ce((null===(We=se.error)||void 0===We?void 0:We.message)||"")}}catch(K){ce(K)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ve=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=pe&&Ue(pe[1]);return ce&&JSON.parse(ce)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},_t=pe=>{var ce,K;return null===(K=null===(ce=Ve())||void 0===ce?void 0:ce.emulatorHosts)||void 0===K?void 0:K[pe]},ct=pe=>{const ce=_t(pe);if(!ce)return;const K=ce.lastIndexOf(":");if(K<=0||K+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const ge=parseInt(ce.substring(K+1),10);return"["===ce[0]?[ce.substring(1,K-1),ge]:[ce.substring(0,K),ge]},qt=()=>{var pe;return null===(pe=Ve())||void 0===pe?void 0:pe.config},Bn=pe=>{var ce;return null===(ce=Ve())||void 0===ce?void 0:ce[`_${pe}`]};class _n{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,K)=>{this.resolve=ce,this.reject=K})}wrapCallback(ce){return(K,ge)=>{K?this.reject(K):this.resolve(ge),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(K):ce(K,ge))}}}function bt(pe,ce){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=ce||"demo-project",se=pe.iat||0,We=pe.sub||pe.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:se,exp:se+3600,auth_time:se,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(ut)),""].join(".")}class er extends Error{constructor(ce,K,ge){super(K),this.code=ce,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}}class Zn{constructor(ce,K,ge){this.service=ce,this.serviceName=K,this.errors=ge}create(ce,...K){const ge=K[0]||{},se=`${this.service}/${ce}`,We=this.errors[ce],ut=We?function zn(pe,ce){return pe.replace(Fn,(K,ge)=>{const se=ce[ge];return null!=se?String(se):`<${ge}?>`})}(We,ge):"Error";return new er(se,`${this.serviceName}: ${ut} (${se}).`,ge)}}const Fn=/\{\$([^}]+)}/g;function Vr(pe){for(const ce in pe)if(Object.prototype.hasOwnProperty.call(pe,ce))return!1;return!0}function Bt(pe,ce){if(pe===ce)return!0;const K=Object.keys(pe),ge=Object.keys(ce);for(const se of K){if(!ge.includes(se))return!1;const We=pe[se],ut=ce[se];if(vn(We)&&vn(ut)){if(!Bt(We,ut))return!1}else if(We!==ut)return!1}for(const se of ge)if(!K.includes(se))return!1;return!0}function vn(pe){return null!==pe&&"object"==typeof pe}function cr(pe){const ce=[];for(const[K,ge]of Object.entries(pe))Array.isArray(ge)?ge.forEach(se=>{ce.push(encodeURIComponent(K)+"="+encodeURIComponent(se))}):ce.push(encodeURIComponent(K)+"="+encodeURIComponent(ge));return ce.length?"&"+ce.join("&"):""}function Cr(pe){const ce={};return pe.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[se,We]=ge.split("=");ce[decodeURIComponent(se)]=decodeURIComponent(We)}}),ce}function ti(pe){const ce=pe.indexOf("?");if(!ce)return"";const K=pe.indexOf("#",ce);return pe.substring(ce,K>0?K:void 0)}function or(pe,ce){const K=new Wn(pe,ce);return K.subscribe.bind(K)}class Wn{constructor(ce,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{ce(this)}).catch(ge=>{this.error(ge)})}next(ce){this.forEachObserver(K=>{K.next(ce)})}error(ce){this.forEachObserver(K=>{K.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,K,ge){let se;if(void 0===ce&&void 0===K&&void 0===ge)throw new Error("Missing Observer.");se=function Ht(pe,ce){if("object"!=typeof pe||null===pe)return!1;for(const K of ce)if(K in pe&&"function"==typeof pe[K])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:K,complete:ge},void 0===se.next&&(se.next=gn),void 0===se.error&&(se.error=gn),void 0===se.complete&&(se.complete=gn);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),We}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,ce)}sendOne(ce,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{K(this.observers[ce])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function Ct(pe,ce=1e3,K=2){const ge=ce*Math.pow(K,pe),se=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+se)}function An(pe){return pe&&pe._delegate?pe._delegate:pe}},74:(Jt,Ze,U)=>{var m=U(1481),F=U(4650),ae=U(3060);const Ee=[{path:"store",loadChildren:()=>Promise.all([U.e(854),U.e(592),U.e(938)]).then(U.bind(U,8938)).then(B=>B.PublicModule)},{path:"admin",loadChildren:()=>Promise.all([U.e(854),U.e(401)]).then(U.bind(U,9401)).then(B=>B.DashboardModule)},{path:"user",loadChildren:()=>Promise.all([U.e(592),U.e(95)]).then(U.bind(U,6095)).then(B=>B.UserModule)}];let Ie=(()=>{class B{}return B.\u0275fac=function(E){return new(E||B)},B.\u0275mod=F.oAB({type:B}),B.\u0275inj=F.cJS({imports:[ae.Bz.forRoot(Ee,{enableTracing:!1}),ae.Bz]}),B})(),Pe=(()=>{class B{constructor(E,N){this.router=E,this.route=N,this.currentLevel=1,this.showFiller=!1}ngOnInit(){if(null!=localStorage.getItem("order"))return localStorage.removeItem("order"),void this.router.navigate(["store","checkout"]);console.log("redirect to home"),this.router.navigate(["store","home"])}}return B.\u0275fac=function(E){return new(E||B)(F.Y36(ae.F0),F.Y36(ae.gz))},B.\u0275cmp=F.Xpm({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(E,N){1&E&&F._UZ(0,"router-outlet")},dependencies:[ae.lC],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.nav[_ngcontent-%COMP%]{height:10vh;display:flex;flex-direction:row;align-items:center}.main-content[_ngcontent-%COMP%]{width:100%;height:90vh}.example-sidenav[_ngcontent-%COMP%]{min-width:200px;padding:10px}.touchable[_ngcontent-%COMP%]:hover{cursor:pointer;-webkit-user-select:none;user-select:none;opacity:70%}.icon[_ngcontent-%COMP%]{margin:7px}.mat-list-item[_ngcontent-%COMP%]:hover{cursor:pointer;-webkit-user-select:none;user-select:none;opacity:.7}.chat[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:50px}.chat-icon[_ngcontent-%COMP%]{height:50px;aspect-ratio:1;display:flex;justify-content:center;align-items:center;background-color:#44a5cb;border-radius:50%}.chat-bot[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:50px}"]}),B})();var ue=U(7340);function Ue(B){return new F.vHH(3e3,!1)}function Wr(){return typeof window<"u"&&typeof window.document<"u"}function nr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function lr(B){switch(B.length){case 0:return new ue.ZN;case 1:return B[0];default:return new ue.ZE(B)}}function $n(B,y,E,N,j=new Map,Z=new Map){const me=[],_e=[];let je=-1,mt=null;if(N.forEach(ve=>{const Xt=ve.get("offset"),Mn=Xt==je,Gt=Mn&&mt||new Map;ve.forEach((pn,Dn)=>{let Sr=Dn,Lr=pn;if("offset"!==Dn)switch(Sr=y.normalizePropertyName(Sr,me),Lr){case ue.k1:Lr=j.get(Dn);break;case ue.l3:Lr=Z.get(Dn);break;default:Lr=y.normalizeStyleValue(Dn,Sr,Lr,me)}Gt.set(Sr,Lr)}),Mn||_e.push(Gt),mt=Gt,je=Xt}),me.length)throw function ct(B){return new F.vHH(3502,!1)}();return _e}function Rn(B,y,E,N){switch(y){case"start":B.onStart(()=>N(E&&sr(E,"start",B)));break;case"done":B.onDone(()=>N(E&&sr(E,"done",B)));break;case"destroy":B.onDestroy(()=>N(E&&sr(E,"destroy",B)))}}function sr(B,y,E){const Z=Vr(B.element,B.triggerName,B.fromState,B.toState,y||B.phaseName,E.totalTime??B.totalTime,!!E.disabled),me=B._data;return null!=me&&(Z._data=me),Z}function Vr(B,y,E,N,j="",Z=0,me){return{element:B,triggerName:y,fromState:E,toState:N,phaseName:j,totalTime:Z,disabled:!!me}}function Ir(B,y,E){let N=B.get(y);return N||B.set(y,N=E),N}function Bt(B){const y=B.indexOf(":");return[B.substring(1,y),B.slice(y+1)]}let vn=(B,y)=>!1,Hr=(B,y,E)=>[],cr=null;function Cr(B){const y=B.parentNode||B.host;return y===cr?null:y}(nr()||typeof Element<"u")&&(Wr()?(cr=(()=>document.documentElement)(),vn=(B,y)=>{for(;y;){if(y===B)return!0;y=Cr(y)}return!1}):vn=(B,y)=>B.contains(y),Hr=(B,y,E)=>{if(E)return Array.from(B.querySelectorAll(y));const N=B.querySelector(y);return N?[N]:[]});let or=null,Wn=!1;const dr=vn,pr=Hr;let Tt=(()=>{class B{validateStyleProperty(E){return function rn(B){or||(or=function gn(){return typeof document<"u"?document.body:null}()||{},Wn=!!or.style&&"WebkitAppearance"in or.style);let y=!0;return or.style&&!function fr(B){return"ebkit"==B.substring(1,6)}(B)&&(y=B in or.style,!y&&Wn&&(y="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in or.style)),y}(E)}matchesElement(E,N){return!1}containsElement(E,N){return dr(E,N)}getParentElement(E){return Cr(E)}query(E,N,j){return pr(E,N,j)}computeStyle(E,N,j){return j||""}animate(E,N,j,Z,me,_e=[],je){return new ue.ZN(j,Z)}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})(),_r=(()=>{class B{}return B.NOOP=new Tt,B})();const tr="ng-enter",Dr="ng-leave",Dt="ng-trigger",qe=".ng-trigger",Ct="ng-animating",cn=".ng-animating";function $t(B){if("number"==typeof B)return B;const y=B.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:An(parseFloat(y[1]),y[2])}function An(B,y){return"s"===y?1e3*B:B}function pe(B,y,E){return B.hasOwnProperty("duration")?B:function ce(B,y,E){let j,Z=0,me="";if("string"==typeof B){const _e=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return y.push(Ue()),{duration:0,delay:0,easing:""};j=An(parseFloat(_e[1]),_e[2]);const je=_e[3];null!=je&&(Z=An(parseFloat(je),_e[4]));const mt=_e[5];mt&&(me=mt)}else j=B;if(!E){let _e=!1,je=y.length;j<0&&(y.push(function he(){return new F.vHH(3100,!1)}()),_e=!0),Z<0&&(y.push(function fe(){return new F.vHH(3101,!1)}()),_e=!0),_e&&y.splice(je,0,Ue())}return{duration:j,delay:Z,easing:me}}(B,y,E)}function K(B,y={}){return Object.keys(B).forEach(E=>{y[E]=B[E]}),y}function ge(B){const y=new Map;return Object.keys(B).forEach(E=>{y.set(E,B[E])}),y}function ut(B,y=new Map,E){if(E)for(let[N,j]of E)y.set(N,j);for(let[N,j]of B)y.set(N,j);return y}function Vt(B,y,E){return E?y+":"+E+";":""}function Yt(B){let y="";for(let E=0;E<B.style.length;E++){const N=B.style.item(E);y+=Vt(0,N,B.style.getPropertyValue(N))}for(const E in B.style)B.style.hasOwnProperty(E)&&!E.startsWith("_")&&(y+=Vt(0,bi(E),B.style[E]));B.setAttribute("style",y)}function Zt(B,y,E){B.style&&(y.forEach((N,j)=>{const Z=Mr(j);E&&!E.has(j)&&E.set(j,B.style[Z]),B.style[Z]=N}),nr()&&Yt(B))}function ie(B,y){B.style&&(y.forEach((E,N)=>{const j=Mr(N);B.style[j]=""}),nr()&&Yt(B))}function X(B){return Array.isArray(B)?1==B.length?B[0]:(0,ue.vP)(B):B}const Ae=new RegExp("{{\\s*(.+?)\\s*}}","g");function lt(B){let y=[];if("string"==typeof B){let E;for(;E=Ae.exec(B);)y.push(E[1]);Ae.lastIndex=0}return y}function Ot(B,y,E){const N=B.toString(),j=N.replace(Ae,(Z,me)=>{let _e=y[me];return null==_e&&(E.push(function Ge(B){return new F.vHH(3003,!1)}()),_e=""),_e.toString()});return j==N?B:j}function mn(B){const y=[];let E=B.next();for(;!E.done;)y.push(E.value),E=B.next();return y}const Cn=/-+([a-z0-9])/g;function Mr(B){return B.replace(Cn,(...y)=>y[1].toUpperCase())}function bi(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tt(B,y,E){switch(y.type){case 7:return B.visitTrigger(y,E);case 0:return B.visitState(y,E);case 1:return B.visitTransition(y,E);case 2:return B.visitSequence(y,E);case 3:return B.visitGroup(y,E);case 4:return B.visitAnimate(y,E);case 5:return B.visitKeyframes(y,E);case 6:return B.visitStyle(y,E);case 8:return B.visitReference(y,E);case 9:return B.visitAnimateChild(y,E);case 10:return B.visitAnimateRef(y,E);case 11:return B.visitQuery(y,E);case 12:return B.visitStagger(y,E);default:throw function Te(B){return new F.vHH(3004,!1)}()}}function wt(B,y){return window.getComputedStyle(B)[y]}function ws(B,y){const E=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(N=>function qi(B,y,E){if(":"==B[0]){const je=function Rr(B,y){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,N)=>parseFloat(N)>parseFloat(E);case":decrement":return(E,N)=>parseFloat(N)<parseFloat(E);default:return y.push(function Le(B){return new F.vHH(3016,!1)}()),"* => *"}}(B,E);if("function"==typeof je)return void y.push(je);B=je}const N=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return E.push(function Re(B){return new F.vHH(3015,!1)}()),y;const j=N[1],Z=N[2],me=N[3];y.push(ke(j,me));"<"==Z[0]&&!("*"==j&&"*"==me)&&y.push(ke(me,j))}(N,E,y)):E.push(B),E}const Pi=new Set(["true","1"]),ni=new Set(["false","0"]);function ke(B,y){const E=Pi.has(B)||ni.has(B),N=Pi.has(y)||ni.has(y);return(j,Z)=>{let me="*"==B||B==j,_e="*"==y||y==Z;return!me&&E&&"boolean"==typeof j&&(me=j?Pi.has(B):ni.has(B)),!_e&&N&&"boolean"==typeof Z&&(_e=Z?Pi.has(y):ni.has(y)),me&&_e}}const $e=new RegExp("s*:selfs*,?","g");function ht(B,y,E,N){return new tn(B).build(y,E,N)}class tn{constructor(y){this._driver=y}build(y,E,N){const j=new hr(E);return this._resetContextStyleTimingState(j),tt(this,X(y),j)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let N=E.queryCount=0,j=E.depCount=0;const Z=[],me=[];return"@"==y.name.charAt(0)&&E.errors.push(function He(){return new F.vHH(3006,!1)}()),y.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(E),0==_e.type){const je=_e,mt=je.name;mt.toString().split(/\s*,\s*/).forEach(ve=>{je.name=ve,Z.push(this.visitState(je,E))}),je.name=mt}else if(1==_e.type){const je=this.visitTransition(_e,E);N+=je.queryCount,j+=je.depCount,me.push(je)}else E.errors.push(function gt(){return new F.vHH(3007,!1)}())}),{type:7,name:y.name,states:Z,transitions:me,queryCount:N,depCount:j,options:null}}visitState(y,E){const N=this.visitStyle(y.styles,E),j=y.options&&y.options.params||null;if(N.containsDynamicStyles){const Z=new Set,me=j||{};N.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(je=>{lt(je).forEach(mt=>{me.hasOwnProperty(mt)||Z.add(mt)})})}),Z.size&&(mn(Z.values()),E.errors.push(function st(B,y){return new F.vHH(3008,!1)}()))}return{type:0,name:y.name,style:N,options:j?{params:j}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const N=tt(this,X(y.animation),E);return{type:1,matchers:ws(y.expr,E.errors),animation:N,queryCount:E.queryCount,depCount:E.depCount,options:ri(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(N=>tt(this,N,E)),options:ri(y.options)}}visitGroup(y,E){const N=E.currentTime;let j=0;const Z=y.steps.map(me=>{E.currentTime=N;const _e=tt(this,me,E);return j=Math.max(j,E.currentTime),_e});return E.currentTime=j,{type:3,steps:Z,options:ri(y.options)}}visitAnimate(y,E){const N=function Ni(B,y){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Ki(pe(B,y).duration,0,"");const E=B;if(E.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=Ki(0,0,"");return Z.dynamic=!0,Z.strValue=E,Z}const j=pe(E,y);return Ki(j.duration,j.delay,j.easing)}(y.timings,E.errors);E.currentAnimateTimings=N;let j,Z=y.styles?y.styles:(0,ue.oB)({});if(5==Z.type)j=this.visitKeyframes(Z,E);else{let me=y.styles,_e=!1;if(!me){_e=!0;const mt={};N.easing&&(mt.easing=N.easing),me=(0,ue.oB)(mt)}E.currentTime+=N.duration+N.delay;const je=this.visitStyle(me,E);je.isEmptyStep=_e,j=je}return E.currentAnimateTimings=null,{type:4,timings:N,style:j,options:null}}visitStyle(y,E){const N=this._makeStyleAst(y,E);return this._validateStyleAst(N,E),N}_makeStyleAst(y,E){const N=[],j=Array.isArray(y.styles)?y.styles:[y.styles];for(let _e of j)"string"==typeof _e?_e===ue.l3?N.push(_e):E.errors.push(new F.vHH(3002,!1)):N.push(ge(_e));let Z=!1,me=null;return N.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(me=_e.get("easing"),_e.delete("easing")),!Z))for(let je of _e.values())if(je.toString().indexOf("{{")>=0){Z=!0;break}}),{type:6,styles:N,easing:me,offset:y.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(y,E){const N=E.currentAnimateTimings;let j=E.currentTime,Z=E.currentTime;N&&Z>0&&(Z-=N.duration+N.delay),y.styles.forEach(me=>{"string"!=typeof me&&me.forEach((_e,je)=>{const mt=E.collectedStyles.get(E.currentQuerySelector),ve=mt.get(je);let Xt=!0;ve&&(Z!=j&&Z>=ve.startTime&&j<=ve.endTime&&(E.errors.push(function Be(B,y,E,N,j){return new F.vHH(3010,!1)}()),Xt=!1),Z=ve.startTime),Xt&&mt.set(je,{startTime:Z,endTime:j}),E.options&&function Q(B,y,E){const N=y.params||{},j=lt(B);j.length&&j.forEach(Z=>{N.hasOwnProperty(Z)||E.push(function be(B){return new F.vHH(3001,!1)}())})}(_e,E.options,E.errors)})})}visitKeyframes(y,E){const N={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Se(){return new F.vHH(3011,!1)}()),N;let Z=0;const me=[];let _e=!1,je=!1,mt=0;const ve=y.steps.map(Lr=>{const Ei=this._makeStyleAst(Lr,E);let ms=null!=Ei.offset?Ei.offset:function qr(B){if("string"==typeof B)return null;let y=null;if(Array.isArray(B))B.forEach(E=>{if(E instanceof Map&&E.has("offset")){const N=E;y=parseFloat(N.get("offset")),N.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const E=B;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(Ei.styles),Rs=0;return null!=ms&&(Z++,Rs=Ei.offset=ms),je=je||Rs<0||Rs>1,_e=_e||Rs<mt,mt=Rs,me.push(Rs),Ei});je&&E.errors.push(function Je(){return new F.vHH(3012,!1)}()),_e&&E.errors.push(function At(){return new F.vHH(3200,!1)}());const Xt=y.steps.length;let Mn=0;Z>0&&Z<Xt?E.errors.push(function Oe(){return new F.vHH(3202,!1)}()):0==Z&&(Mn=1/(Xt-1));const Gt=Xt-1,pn=E.currentTime,Dn=E.currentAnimateTimings,Sr=Dn.duration;return ve.forEach((Lr,Ei)=>{const ms=Mn>0?Ei==Gt?1:Mn*Ei:me[Ei],Rs=ms*Sr;E.currentTime=pn+Dn.delay+Rs,Dn.duration=Rs,this._validateStyleAst(Lr,E),Lr.offset=ms,N.styles.push(Lr)}),N}visitReference(y,E){return{type:8,animation:tt(this,X(y.animation),E),options:ri(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:ri(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:ri(y.options)}}visitQuery(y,E){const N=E.currentQuerySelector,j=y.options||{};E.queryCount++,E.currentQuery=y;const[Z,me]=function xn(B){const y=!!B.split(/\s*,\s*/).find(E=>":self"==E);return y&&(B=B.replace($e,"")),B=B.replace(/@\*/g,qe).replace(/@\w+/g,E=>qe+"-"+E.slice(1)).replace(/:animating/g,cn),[B,y]}(y.selector);E.currentQuerySelector=N.length?N+" "+Z:Z,Ir(E.collectedStyles,E.currentQuerySelector,new Map);const _e=tt(this,X(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=N,{type:11,selector:Z,limit:j.limit||0,optional:!!j.optional,includeSelf:me,animation:_e,originalSelector:y.selector,options:ri(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function ze(){return new F.vHH(3013,!1)}());const N="full"===y.timings?{duration:0,delay:0,easing:"full"}:pe(y.timings,E.errors,!0);return{type:12,animation:tt(this,X(y.animation),E),timings:N,options:null}}}class hr{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ri(B){return B?(B=K(B)).params&&(B.params=function kr(B){return B?K(B):null}(B.params)):B={},B}function Ki(B,y,E){return{duration:B,delay:y,easing:E}}function Ui(B,y,E,N,j,Z,me=null,_e=!1){return{type:1,element:B,keyframes:y,preStyleProps:E,postStyleProps:N,duration:j,delay:Z,totalTime:j+Z,easing:me,subTimeline:_e}}class Oi{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let N=this._map.get(y);N||this._map.set(y,N=[]),N.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ns=new RegExp(":enter","g"),Is=new RegExp(":leave","g");function Xs(B,y,E,N,j,Z=new Map,me=new Map,_e,je,mt=[]){return(new zs).buildKeyframes(B,y,E,N,j,Z,me,_e,je,mt)}class zs{buildKeyframes(y,E,N,j,Z,me,_e,je,mt,ve=[]){mt=mt||new Oi;const Xt=new ks(y,E,mt,j,Z,ve,[]);Xt.options=je;const Mn=je.delay?$t(je.delay):0;Xt.currentTimeline.delayNextStep(Mn),Xt.currentTimeline.setStyles([me],null,Xt.errors,je),tt(this,N,Xt);const Gt=Xt.timelines.filter(pn=>pn.containsAnimation());if(Gt.length&&_e.size){let pn;for(let Dn=Gt.length-1;Dn>=0;Dn--){const Sr=Gt[Dn];if(Sr.element===E){pn=Sr;break}}pn&&!pn.allowOnlyTimelineStyles()&&pn.setStyles([_e],null,Xt.errors,je)}return Gt.length?Gt.map(pn=>pn.buildKeyframes()):[Ui(E,[],[],[],0,Mn,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const N=E.subInstructions.get(E.element);if(N){const j=E.createSubContext(y.options),Z=E.currentTimeline.currentTime,me=this._visitSubInstructions(N,j,j.options);Z!=me&&E.transformIntoNewTimeline(me)}E.previousNode=y}visitAnimateRef(y,E){const N=E.createSubContext(y.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,N),this.visitReference(y.animation,N),E.transformIntoNewTimeline(N.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,N){for(const j of y){const Z=j?.delay;if(Z){const me="number"==typeof Z?Z:$t(Ot(Z,j?.params??{},E.errors));N.delayNextStep(me)}}}_visitSubInstructions(y,E,N){let Z=E.currentTimeline.currentTime;const me=null!=N.duration?$t(N.duration):null,_e=null!=N.delay?$t(N.delay):null;return 0!==me&&y.forEach(je=>{const mt=E.appendInstructionToTimeline(je,me,_e);Z=Math.max(Z,mt.duration+mt.delay)}),Z}visitReference(y,E){E.updateOptions(y.options,!0),tt(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const N=E.subContextCount;let j=E;const Z=y.options;if(Z&&(Z.params||Z.delay)&&(j=E.createSubContext(Z),j.transformIntoNewTimeline(),null!=Z.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=Os);const me=$t(Z.delay);j.delayNextStep(me)}y.steps.length&&(y.steps.forEach(me=>tt(this,me,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>N&&j.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const N=[];let j=E.currentTimeline.currentTime;const Z=y.options&&y.options.delay?$t(y.options.delay):0;y.steps.forEach(me=>{const _e=E.createSubContext(y.options);Z&&_e.delayNextStep(Z),tt(this,me,_e),j=Math.max(j,_e.currentTimeline.currentTime),N.push(_e.currentTimeline)}),N.forEach(me=>E.currentTimeline.mergeTimelineCollectedStyles(me)),E.transformIntoNewTimeline(j),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const N=y.strValue;return pe(E.params?Ot(N,E.params,E.errors):N,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const N=E.currentAnimateTimings=this._visitTiming(y.timings,E),j=E.currentTimeline;N.delay&&(E.incrementTime(N.delay),j.snapshotCurrentStyles());const Z=y.style;5==Z.type?this.visitKeyframes(Z,E):(E.incrementTime(N.duration),this.visitStyle(Z,E),j.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const N=E.currentTimeline,j=E.currentAnimateTimings;!j&&N.hasCurrentStyleProperties()&&N.forwardFrame();const Z=j&&j.easing||y.easing;y.isEmptyStep?N.applyEmptyStep(Z):N.setStyles(y.styles,Z,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const N=E.currentAnimateTimings,j=E.currentTimeline.duration,Z=N.duration,_e=E.createSubContext().currentTimeline;_e.easing=N.easing,y.styles.forEach(je=>{_e.forwardTime((je.offset||0)*Z),_e.setStyles(je.styles,je.easing,E.errors,E.options),_e.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(_e),E.transformIntoNewTimeline(j+Z),E.previousNode=y}visitQuery(y,E){const N=E.currentTimeline.currentTime,j=y.options||{},Z=j.delay?$t(j.delay):0;Z&&(6===E.previousNode.type||0==N&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Os);let me=N;const _e=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!j.optional,E.errors);E.currentQueryTotal=_e.length;let je=null;_e.forEach((mt,ve)=>{E.currentQueryIndex=ve;const Xt=E.createSubContext(y.options,mt);Z&&Xt.delayNextStep(Z),mt===E.element&&(je=Xt.currentTimeline),tt(this,y.animation,Xt),Xt.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,Xt.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(me),je&&(E.currentTimeline.mergeTimelineCollectedStyles(je),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const N=E.parentContext,j=E.currentTimeline,Z=y.timings,me=Math.abs(Z.duration),_e=me*(E.currentQueryTotal-1);let je=me*E.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":je=_e-je;break;case"full":je=N.currentStaggerTime}const ve=E.currentTimeline;je&&ve.delayNextStep(je);const Xt=ve.currentTime;tt(this,y.animation,E),E.previousNode=y,N.currentStaggerTime=j.currentTime-Xt+(j.startTime-N.currentTimeline.startTime)}}const Os={};class ks{constructor(y,E,N,j,Z,me,_e,je){this._driver=y,this.element=E,this.subInstructions=N,this._enterClassName=j,this._leaveClassName=Z,this.errors=me,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new Fi(this._driver,E,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const N=y;let j=this.options;null!=N.duration&&(j.duration=$t(N.duration)),null!=N.delay&&(j.delay=$t(N.delay));const Z=N.params;if(Z){let me=j.params;me||(me=this.options.params={}),Object.keys(Z).forEach(_e=>{(!E||!me.hasOwnProperty(_e))&&(me[_e]=Ot(Z[_e],me,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const N=y.params={};Object.keys(E).forEach(j=>{N[j]=E[j]})}}return y}createSubContext(y=null,E,N){const j=E||this.element,Z=new ks(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,N||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(y),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(y){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,N){const j={duration:E??y.duration,delay:this.currentTimeline.currentTime+(N??0)+y.delay,easing:""},Z=new rs(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,j,y.stretchStartingKeyframe);return this.timelines.push(Z),j}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,N,j,Z,me){let _e=[];if(j&&_e.push(this.element),y.length>0){y=(y=y.replace(Ns,"."+this._enterClassName)).replace(Is,"."+this._leaveClassName);let mt=this._driver.query(this.element,y,1!=N);0!==N&&(mt=N<0?mt.slice(mt.length+N,mt.length):mt.slice(0,N)),_e.push(...mt)}return!Z&&0==_e.length&&me.push(function at(B){return new F.vHH(3014,!1)}()),_e}}class Fi{constructor(y,E,N,j){this._driver=y,this.element=E,this.startTime=N,this._elementTimelineStylesLookup=j,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new Fi(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,N]of this._globalTimelineStyles)this._backFill.set(E,N||ue.l3),this._currentKeyframe.set(E,ue.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,N,j){E&&this._previousKeyframe.set("easing",E);const Z=j&&j.params||{},me=function Yi(B,y){const E=new Map;let N;return B.forEach(j=>{if("*"===j){N=N||y.keys();for(let Z of N)E.set(Z,ue.l3)}else ut(j,E)}),E}(y,this._globalTimelineStyles);for(let[_e,je]of me){const mt=Ot(je,Z,N);this._pendingStyles.set(_e,mt),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??ue.l3),this._updateStyle(_e,mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,N)=>{const j=this._styleSummary.get(N);(!j||E.time>j.time)&&this._updateStyle(N,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,N=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((_e,je)=>{const mt=ut(_e,new Map,this._backFill);mt.forEach((ve,Xt)=>{ve===ue.k1?y.add(Xt):ve===ue.l3&&E.add(Xt)}),N||mt.set("offset",je/this.duration),j.push(mt)});const Z=y.size?mn(y.values()):[],me=E.size?mn(E.values()):[];if(N){const _e=j[0],je=new Map(_e);_e.set("offset",0),je.set("offset",1),j=[_e,je]}return Ui(this.element,j,Z,me,this.duration,this.startTime,this.easing,!1)}}class rs extends Fi{constructor(y,E,N,j,Z,me,_e=!1){super(y,E,me.delay),this.keyframes=N,this.preStyleProps=j,this.postStyleProps=Z,this._stretchStartingKeyframe=_e,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:N,easing:j}=this.timings;if(this._stretchStartingKeyframe&&E){const Z=[],me=N+E,_e=E/me,je=ut(y[0]);je.set("offset",0),Z.push(je);const mt=ut(y[0]);mt.set("offset",Fs(_e)),Z.push(mt);const ve=y.length-1;for(let Xt=1;Xt<=ve;Xt++){let Mn=ut(y[Xt]);const Gt=Mn.get("offset");Mn.set("offset",Fs((E+Gt*N)/me)),Z.push(Mn)}N=me,E=0,j="",y=Z}return Ui(this.element,y,this.preStyleProps,this.postStyleProps,N,E,j,!0)}}function Fs(B,y=3){const E=Math.pow(10,y-1);return Math.round(B*E)/E}class ci{}const mo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bs extends ci{normalizePropertyName(y,E){return Mr(y)}normalizeStyleValue(y,E,N,j){let Z="";const me=N.toString().trim();if(mo.has(E)&&0!==N&&"0"!==N)if("number"==typeof N)Z="px";else{const _e=N.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&j.push(function Ke(B,y){return new F.vHH(3005,!1)}())}return me+Z}}function si(B,y,E,N,j,Z,me,_e,je,mt,ve,Xt,Mn){return{type:0,element:B,triggerName:y,isRemovalTransition:j,fromState:E,fromStyles:Z,toState:N,toStyles:me,timelines:_e,queriedElements:je,preStyleProps:mt,postStyleProps:ve,totalTime:Xt,errors:Mn}}const ds={};class Hi{constructor(y,E,N){this._triggerName=y,this.ast=E,this._stateStyles=N}match(y,E,N,j){return function Vs(B,y,E,N,j){return B.some(Z=>Z(y,E,N,j))}(this.ast.matchers,y,E,N,j)}buildStyles(y,E,N){let j=this._stateStyles.get("*");return void 0!==y&&(j=this._stateStyles.get(y?.toString())||j),j?j.buildStyles(E,N):new Map}build(y,E,N,j,Z,me,_e,je,mt,ve){const Xt=[],Mn=this.ast.options&&this.ast.options.params||ds,pn=this.buildStyles(N,_e&&_e.params||ds,Xt),Dn=je&&je.params||ds,Sr=this.buildStyles(j,Dn,Xt),Lr=new Set,Ei=new Map,ms=new Map,Rs="void"===j,So={params:hs(Dn,Mn),delay:this.ast.options?.delay},Ai=ve?[]:Xs(y,E,this.ast.animation,Z,me,pn,Sr,So,mt,Xt);let co=0;if(Ai.forEach(Zs=>{co=Math.max(Zs.duration+Zs.delay,co)}),Xt.length)return si(E,this._triggerName,N,j,Rs,pn,Sr,[],[],Ei,ms,co,Xt);Ai.forEach(Zs=>{const os=Zs.element,Da=Ir(Ei,os,new Set);Zs.preStyleProps.forEach(wi=>Da.add(wi));const $o=Ir(ms,os,new Set);Zs.postStyleProps.forEach(wi=>$o.add(wi)),os!==E&&Lr.add(os)});const zr=mn(Lr.values());return si(E,this._triggerName,N,j,Rs,pn,Sr,Ai,zr,Ei,ms,co)}}function hs(B,y){const E=K(y);for(const N in B)B.hasOwnProperty(N)&&null!=B[N]&&(E[N]=B[N]);return E}class Ts{constructor(y,E,N){this.styles=y,this.defaultParams=E,this.normalizer=N}buildStyles(y,E){const N=new Map,j=K(this.defaultParams);return Object.keys(y).forEach(Z=>{const me=y[Z];null!==me&&(j[Z]=me)}),this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((me,_e)=>{me&&(me=Ot(me,j,E));const je=this.normalizer.normalizePropertyName(_e,E);me=this.normalizer.normalizeStyleValue(_e,je,me,E),N.set(je,me)})}),N}}class Ws{constructor(y,E,N){this.name=y,this.ast=E,this._normalizer=N,this.transitionFactories=[],this.states=new Map,E.states.forEach(j=>{this.states.set(j.name,new Ts(j.style,j.options&&j.options.params||{},N))}),Us(this.states,"true","1"),Us(this.states,"false","0"),E.transitions.forEach(j=>{this.transitionFactories.push(new Hi(y,j,this.states))}),this.fallbackTransition=function Gi(B,y,E){return new Hi(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,_e)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,N,j){return this.transitionFactories.find(me=>me.match(y,E,N,j))||null}matchStyles(y,E,N){return this.fallbackTransition.buildStyles(y,E,N)}}function Us(B,y,E){B.has(y)?B.has(E)||B.set(E,B.get(y)):B.has(E)&&B.set(y,B.get(E))}const di=new Oi;class is{constructor(y,E,N){this.bodyNode=y,this._driver=E,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const N=[],Z=ht(this._driver,E,N,[]);if(N.length)throw function qt(B){return new F.vHH(3503,!1)}();this._animations.set(y,Z)}_buildPlayer(y,E,N){const j=y.element,Z=$n(0,this._normalizer,0,y.keyframes,E,N);return this._driver.animate(j,Z,y.duration,y.delay,y.easing,[],!0)}create(y,E,N={}){const j=[],Z=this._animations.get(y);let me;const _e=new Map;if(Z?(me=Xs(this._driver,E,Z,tr,Dr,new Map,new Map,N,di,j),me.forEach(ve=>{const Xt=Ir(_e,ve.element,new Map);ve.postStyleProps.forEach(Mn=>Xt.set(Mn,null))})):(j.push(function Bn(){return new F.vHH(3300,!1)}()),me=[]),j.length)throw function _n(B){return new F.vHH(3504,!1)}();_e.forEach((ve,Xt)=>{ve.forEach((Mn,Gt)=>{ve.set(Gt,this._driver.computeStyle(Xt,Gt,ue.l3))})});const mt=lr(me.map(ve=>{const Xt=_e.get(ve.element);return this._buildPlayer(ve,new Map,Xt)}));return this._playersById.set(y,mt),mt.onDestroy(()=>this.destroy(y)),this.players.push(mt),mt}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const N=this.players.indexOf(E);N>=0&&this.players.splice(N,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function bt(B){return new F.vHH(3301,!1)}();return E}listen(y,E,N,j){const Z=Vr(E,"","","");return Rn(this._getPlayer(y),N,Z,j),()=>{}}command(y,E,N,j){if("register"==N)return void this.register(y,j[0]);if("create"==N)return void this.create(y,E,j[0]||{});const Z=this._getPlayer(y);switch(N){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(y)}}}const Ti="ng-animate-queued",ss="ng-animate-disabled",so=[],_i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ai="__ng_removed";class Ks{constructor(y,E=""){this.namespaceId=E;const N=y&&y.hasOwnProperty("value");if(this.value=function Cs(B){return B??null}(N?y.value:y),N){const Z=K(y);delete Z.value,this.options=Z}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const E=y.params;if(E){const N=this.options.params;Object.keys(E).forEach(j=>{null==N[j]&&(N[j]=E[j])})}}}const ui="void",vr=new Ks(ui);class ps{constructor(y,E,N){this.id=y,this.hostElement=E,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,et(E,this._hostClassName)}listen(y,E,N,j){if(!this._triggers.has(E))throw function In(B,y){return new F.vHH(3302,!1)}();if(null==N||0==N.length)throw function er(B){return new F.vHH(3303,!1)}();if(!function jn(B){return"start"==B||"done"==B}(N))throw function Zn(B,y){return new F.vHH(3400,!1)}();const Z=Ir(this._elementListeners,y,[]),me={name:E,phase:N,callback:j};Z.push(me);const _e=Ir(this._engine.statesByElement,y,new Map);return _e.has(E)||(et(y,Dt),et(y,Dt+"-"+E),_e.set(E,vr)),()=>{this._engine.afterFlush(()=>{const je=Z.indexOf(me);je>=0&&Z.splice(je,1),this._triggers.has(E)||_e.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function zn(B){return new F.vHH(3401,!1)}();return E}trigger(y,E,N,j=!0){const Z=this._getTrigger(E),me=new yo(this.id,E,y);let _e=this._engine.statesByElement.get(y);_e||(et(y,Dt),et(y,Dt+"-"+E),this._engine.statesByElement.set(y,_e=new Map));let je=_e.get(E);const mt=new Ks(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&je&&mt.absorbOptions(je.options),_e.set(E,mt),je||(je=vr),mt.value!==ui&&je.value===mt.value){if(!function dt(B,y){const E=Object.keys(B),N=Object.keys(y);if(E.length!=N.length)return!1;for(let j=0;j<E.length;j++){const Z=E[j];if(!y.hasOwnProperty(Z)||B[Z]!==y[Z])return!1}return!0}(je.params,mt.params)){const Dn=[],Sr=Z.matchStyles(je.value,je.params,Dn),Lr=Z.matchStyles(mt.value,mt.params,Dn);Dn.length?this._engine.reportError(Dn):this._engine.afterFlush(()=>{ie(y,Sr),Zt(y,Lr)})}return}const Mn=Ir(this._engine.playersByElement,y,[]);Mn.forEach(Dn=>{Dn.namespaceId==this.id&&Dn.triggerName==E&&Dn.queued&&Dn.destroy()});let Gt=Z.matchTransition(je.value,mt.value,y,mt.params),pn=!1;if(!Gt){if(!j)return;Gt=Z.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:Gt,fromState:je,toState:mt,player:me,isFallbackTransition:pn}),pn||(et(y,Ti),me.onStart(()=>{vt(y,Ti)})),me.onDone(()=>{let Dn=this.players.indexOf(me);Dn>=0&&this.players.splice(Dn,1);const Sr=this._engine.playersByElement.get(y);if(Sr){let Lr=Sr.indexOf(me);Lr>=0&&Sr.splice(Lr,1)}}),this.players.push(me),Mn.push(me),me}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,N)=>{this._elementListeners.set(N,E.filter(j=>j.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(N=>N.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const N=this._engine.driver.query(y,qe,!0);N.forEach(j=>{if(j[ai])return;const Z=this._engine.fetchNamespacesByElement(j);Z.size?Z.forEach(me=>me.triggerLeaveAnimation(j,E,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(y,E,N,j){const Z=this._engine.statesByElement.get(y),me=new Map;if(Z){const _e=[];if(Z.forEach((je,mt)=>{if(me.set(mt,je.value),this._triggers.has(mt)){const ve=this.trigger(y,mt,ui,j);ve&&_e.push(ve)}}),_e.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,me),N&&lr(_e).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),N=this._engine.statesByElement.get(y);if(E&&N){const j=new Set;E.forEach(Z=>{const me=Z.name;if(j.has(me))return;j.add(me);const je=this._triggers.get(me).fallbackTransition,mt=N.get(me)||vr,ve=new Ks(ui),Xt=new yo(this.id,me,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:me,transition:je,fromState:mt,toState:ve,player:Xt,isFallbackTransition:!0})})}}removeNode(y,E){const N=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let j=!1;if(N.totalAnimations){const Z=N.players.length?N.playersByQueriedElement.get(y):[];if(Z&&Z.length)j=!0;else{let me=y;for(;me=me.parentNode;)if(N.statesByElement.get(me)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(y),j)N.markElementAsRemoved(this.id,y,!1,E);else{const Z=y[ai];(!Z||Z===_i)&&(N.afterFlush(()=>this.clearElementCache(y)),N.destroyInnerAnimations(y),N._onRemovalComplete(y,E))}}insertNode(y,E){et(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(N=>{const j=N.player;if(j.destroyed)return;const Z=N.element,me=this._elementListeners.get(Z);me&&me.forEach(_e=>{if(_e.name==N.triggerName){const je=Vr(Z,N.triggerName,N.fromState.value,N.toState.value);je._data=y,Rn(N.player,_e.phase,je,_e.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):E.push(N)}),this._queue=[],E.sort((N,j)=>{const Z=N.transition.ast.depCount,me=j.transition.ast.depCount;return 0==Z||0==me?Z-me:this._engine.driver.containsElement(N.element,j.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let E=!1;return this._elementListeners.has(y)&&(E=!0),E=!!this._queue.find(N=>N.element===y)||E,E}}class gs{constructor(y,E,N){this.bodyNode=y,this.driver=E,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,Z)=>{}}_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(N=>{N.queued&&y.push(N)})}),y}createNamespace(y,E){const N=new ps(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(N,E):(this.newHostElements.set(E,N),this.collectEnterElement(E)),this._namespaceLookup[y]=N}_balanceNamespaceList(y,E){const N=this._namespaceList,j=this.namespacesByHostElement;if(N.length-1>=0){let me=!1,_e=this.driver.getParentElement(E);for(;_e;){const je=j.get(_e);if(je){const mt=N.indexOf(je);N.splice(mt+1,0,y),me=!0;break}_e=this.driver.getParentElement(_e)}me||N.unshift(y)}else N.push(y);return j.set(E,y),y}register(y,E){let N=this._namespaceLookup[y];return N||(N=this.createNamespace(y,E)),N}registerTrigger(y,E,N){let j=this._namespaceLookup[y];j&&j.register(E,N)&&this.totalAnimations++}destroy(y,E){if(!y)return;const N=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[y];const j=this._namespaceList.indexOf(N);j>=0&&this._namespaceList.splice(j,1)}),this.afterFlushAnimationsDone(()=>N.destroy(E))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,N=this.statesByElement.get(y);if(N)for(let j of N.values())if(j.namespaceId){const Z=this._fetchNamespace(j.namespaceId);Z&&E.add(Z)}return E}trigger(y,E,N,j){if(ii(E)){const Z=this._fetchNamespace(y);if(Z)return Z.trigger(E,N,j),!0}return!1}insertNode(y,E,N,j){if(!ii(E))return;const Z=E[ai];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const me=this.collectedLeaveElements.indexOf(E);me>=0&&this.collectedLeaveElements.splice(me,1)}if(y){const me=this._fetchNamespace(y);me&&me.insertNode(E,N)}j&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),et(y,ss)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),vt(y,ss))}removeNode(y,E,N,j){if(ii(E)){const Z=y?this._fetchNamespace(y):null;if(Z?Z.removeNode(E,j):this.markElementAsRemoved(y,E,!1,j),N){const me=this.namespacesByHostElement.get(E);me&&me.id!==y&&me.removeNode(E,j)}}else this._onRemovalComplete(E,j)}markElementAsRemoved(y,E,N,j,Z){this.collectedLeaveElements.push(E),E[ai]={namespaceId:y,setForRemoval:j,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(y,E,N,j,Z){return ii(E)?this._fetchNamespace(y).listen(E,N,j,Z):()=>{}}_buildInstruction(y,E,N,j,Z){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,N,j,y.fromState.options,y.toState.options,E,Z)}destroyInnerAnimations(y){let E=this.driver.query(y,qe,!0);E.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,cn,!0),E.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return lr(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[ai];if(E&&E.setForRemoval){if(y[ai]=_i,E.namespaceId){this.destroyInnerAnimations(y);const N=this._fetchNamespace(E.namespaceId);N&&N.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(ss)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,j)=>this._balanceNamespaceList(N,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)et(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{E=this._flushAnimations(N,y)}finally{for(let j=0;j<N.length;j++)N[j]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],E.length?lr(E).onDone(()=>{N.forEach(j=>j())}):N.forEach(j=>j())}}reportError(y){throw function Fn(B){return new F.vHH(3402,!1)}()}_flushAnimations(y,E){const N=new Oi,j=[],Z=new Map,me=[],_e=new Map,je=new Map,mt=new Map,ve=new Set;this.disabledNodes.forEach(zt=>{ve.add(zt);const Sn=this.driver.query(zt,".ng-animate-queued",!0);for(let Nn=0;Nn<Sn.length;Nn++)ve.add(Sn[Nn])});const Xt=this.bodyNode,Mn=Array.from(this.statesByElement.keys()),Gt=Ce(Mn,this.collectedEnterElements),pn=new Map;let Dn=0;Gt.forEach((zt,Sn)=>{const Nn=tr+Dn++;pn.set(Sn,Nn),zt.forEach(Ln=>et(Ln,Nn))});const Sr=[],Lr=new Set,Ei=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const Sn=this.collectedLeaveElements[zt],Nn=Sn[ai];Nn&&Nn.setForRemoval&&(Sr.push(Sn),Lr.add(Sn),Nn.hasAnimation?this.driver.query(Sn,".ng-star-inserted",!0).forEach(Ln=>Lr.add(Ln)):Ei.add(Sn))}const ms=new Map,Rs=Ce(Mn,Array.from(Lr));Rs.forEach((zt,Sn)=>{const Nn=Dr+Dn++;ms.set(Sn,Nn),zt.forEach(Ln=>et(Ln,Nn))}),y.push(()=>{Gt.forEach((zt,Sn)=>{const Nn=pn.get(Sn);zt.forEach(Ln=>vt(Ln,Nn))}),Rs.forEach((zt,Sn)=>{const Nn=ms.get(Sn);zt.forEach(Ln=>vt(Ln,Nn))}),Sr.forEach(zt=>{this.processLeaveNode(zt)})});const So=[],Ai=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(E).forEach(Nn=>{const Ln=Nn.player,w=Nn.element;if(So.push(Ln),this.collectedEnterElements.length){const de=w[ai];if(de&&de.setForMove){if(de.previousTriggersValues&&de.previousTriggersValues.has(Nn.triggerName)){const it=de.previousTriggersValues.get(Nn.triggerName),Nt=this.statesByElement.get(Nn.element);if(Nt&&Nt.has(Nn.triggerName)){const Jn=Nt.get(Nn.triggerName);Jn.value=it,Nt.set(Nn.triggerName,Jn)}}return void Ln.destroy()}}const D=!Xt||!this.driver.containsElement(Xt,w),v=ms.get(w),M=pn.get(w),P=this._buildInstruction(Nn,N,M,v,D);if(P.errors&&P.errors.length)return void Ai.push(P);if(D)return Ln.onStart(()=>ie(w,P.fromStyles)),Ln.onDestroy(()=>Zt(w,P.toStyles)),void j.push(Ln);if(Nn.isFallbackTransition)return Ln.onStart(()=>ie(w,P.fromStyles)),Ln.onDestroy(()=>Zt(w,P.toStyles)),void j.push(Ln);const W=[];P.timelines.forEach(de=>{de.stretchStartingKeyframe=!0,this.disabledNodes.has(de.element)||W.push(de)}),P.timelines=W,N.append(w,P.timelines),me.push({instruction:P,player:Ln,element:w}),P.queriedElements.forEach(de=>Ir(_e,de,[]).push(Ln)),P.preStyleProps.forEach((de,it)=>{if(de.size){let Nt=je.get(it);Nt||je.set(it,Nt=new Set),de.forEach((Jn,un)=>Nt.add(un))}}),P.postStyleProps.forEach((de,it)=>{let Nt=mt.get(it);Nt||mt.set(it,Nt=new Set),de.forEach((Jn,un)=>Nt.add(un))})});if(Ai.length){const zt=[];Ai.forEach(Sn=>{zt.push(function on(B,y){return new F.vHH(3505,!1)}())}),So.forEach(Sn=>Sn.destroy()),this.reportError(zt)}const co=new Map,zr=new Map;me.forEach(zt=>{const Sn=zt.element;N.has(Sn)&&(zr.set(Sn,Sn),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,co))}),j.forEach(zt=>{const Sn=zt.element;this._getPreviousPlayers(Sn,!1,zt.namespaceId,zt.triggerName,null).forEach(Ln=>{Ir(co,Sn,[]).push(Ln),Ln.destroy()})});const Zs=Sr.filter(zt=>fn(zt,je,mt)),os=new Map;ne(os,this.driver,Ei,mt,ue.l3).forEach(zt=>{fn(zt,je,mt)&&Zs.push(zt)});const $o=new Map;Gt.forEach((zt,Sn)=>{ne($o,this.driver,new Set(zt),je,ue.k1)}),Zs.forEach(zt=>{const Sn=os.get(zt),Nn=$o.get(zt);os.set(zt,new Map([...Array.from(Sn?.entries()??[]),...Array.from(Nn?.entries()??[])]))});const wi=[],Ao=[],Ia={};me.forEach(zt=>{const{element:Sn,player:Nn,instruction:Ln}=zt;if(N.has(Sn)){if(ve.has(Sn))return Nn.onDestroy(()=>Zt(Sn,Ln.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(Ln.totalTime),void j.push(Nn);let w=Ia;if(zr.size>1){let v=Sn;const M=[];for(;v=v.parentNode;){const P=zr.get(v);if(P){w=P;break}M.push(v)}M.forEach(P=>zr.set(P,w))}const D=this._buildAnimation(Nn.namespaceId,Ln,co,Z,$o,os);if(Nn.setRealPlayer(D),w===Ia)wi.push(Nn);else{const v=this.playersByElement.get(w);v&&v.length&&(Nn.parentPlayer=lr(v)),j.push(Nn)}}else ie(Sn,Ln.fromStyles),Nn.onDestroy(()=>Zt(Sn,Ln.toStyles)),Ao.push(Nn),ve.has(Sn)&&j.push(Nn)}),Ao.forEach(zt=>{const Sn=Z.get(zt.element);if(Sn&&Sn.length){const Nn=lr(Sn);zt.setRealPlayer(Nn)}}),j.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<Sr.length;zt++){const Sn=Sr[zt],Nn=Sn[ai];if(vt(Sn,Dr),Nn&&Nn.hasAnimation)continue;let Ln=[];if(_e.size){let D=_e.get(Sn);D&&D.length&&Ln.push(...D);let v=this.driver.query(Sn,cn,!0);for(let M=0;M<v.length;M++){let P=_e.get(v[M]);P&&P.length&&Ln.push(...P)}}const w=Ln.filter(D=>!D.destroyed);w.length?kt(this,Sn,w):this.processLeaveNode(Sn)}return Sr.length=0,wi.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const Sn=this.players.indexOf(zt);this.players.splice(Sn,1)}),zt.play()}),wi}elementContainsData(y,E){let N=!1;const j=E[ai];return j&&j.setForRemoval&&(N=!0),this.playersByElement.has(E)&&(N=!0),this.playersByQueriedElement.has(E)&&(N=!0),this.statesByElement.has(E)&&(N=!0),this._fetchNamespace(y).elementContainsData(E)||N}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,N,j,Z){let me=[];if(E){const _e=this.playersByQueriedElement.get(y);_e&&(me=_e)}else{const _e=this.playersByElement.get(y);if(_e){const je=!Z||Z==ui;_e.forEach(mt=>{mt.queued||!je&&mt.triggerName!=j||me.push(mt)})}}return(N||j)&&(me=me.filter(_e=>!(N&&N!=_e.namespaceId||j&&j!=_e.triggerName))),me}_beforeAnimationBuild(y,E,N){const Z=E.element,me=E.isRemovalTransition?void 0:y,_e=E.isRemovalTransition?void 0:E.triggerName;for(const je of E.timelines){const mt=je.element,ve=mt!==Z,Xt=Ir(N,mt,[]);this._getPreviousPlayers(mt,ve,me,_e,E.toState).forEach(Gt=>{const pn=Gt.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),Gt.destroy(),Xt.push(Gt)})}ie(Z,E.fromStyles)}_buildAnimation(y,E,N,j,Z,me){const _e=E.triggerName,je=E.element,mt=[],ve=new Set,Xt=new Set,Mn=E.timelines.map(pn=>{const Dn=pn.element;ve.add(Dn);const Sr=Dn[ai];if(Sr&&Sr.removedBeforeQueried)return new ue.ZN(pn.duration,pn.delay);const Lr=Dn!==je,Ei=function Tn(B){const y=[];return br(B,y),y}((N.get(Dn)||so).map(co=>co.getRealPlayer())).filter(co=>!!co.element&&co.element===Dn),ms=Z.get(Dn),Rs=me.get(Dn),So=$n(0,this._normalizer,0,pn.keyframes,ms,Rs),Ai=this._buildPlayer(pn,So,Ei);if(pn.subTimeline&&j&&Xt.add(Dn),Lr){const co=new yo(y,_e,Dn);co.setRealPlayer(Ai),mt.push(co)}return Ai});mt.forEach(pn=>{Ir(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function zi(B,y,E){let N=B.get(y);if(N){if(N.length){const j=N.indexOf(E);N.splice(j,1)}0==N.length&&B.delete(y)}return N}(this.playersByQueriedElement,pn.element,pn))}),ve.forEach(pn=>et(pn,Ct));const Gt=lr(Mn);return Gt.onDestroy(()=>{ve.forEach(pn=>vt(pn,Ct)),Zt(je,E.toStyles)}),Xt.forEach(pn=>{Ir(j,pn,[]).push(Gt)}),Gt}_buildPlayer(y,E,N){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,N):new ue.ZN(y.duration,y.delay)}}class yo{constructor(y,E,N){this.namespaceId=y,this.triggerName=E,this.element=N,this._player=new ue.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,N)=>{E.forEach(j=>Rn(y,N,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){Ir(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function ii(B){return B&&1===B.nodeType}function J(B,y){const E=B.style.display;return B.style.display=y??"none",E}function ne(B,y,E,N,j){const Z=[];E.forEach(je=>Z.push(J(je)));const me=[];N.forEach((je,mt)=>{const ve=new Map;je.forEach(Xt=>{const Mn=y.computeStyle(mt,Xt,j);ve.set(Xt,Mn),(!Mn||0==Mn.length)&&(mt[ai]=oi,me.push(mt))}),B.set(mt,ve)});let _e=0;return E.forEach(je=>J(je,Z[_e++])),me}function Ce(B,y){const E=new Map;if(B.forEach(_e=>E.set(_e,[])),0==y.length)return E;const j=new Set(y),Z=new Map;function me(_e){if(!_e)return 1;let je=Z.get(_e);if(je)return je;const mt=_e.parentNode;return je=E.has(mt)?mt:j.has(mt)?1:me(mt),Z.set(_e,je),je}return y.forEach(_e=>{const je=me(_e);1!==je&&E.get(je).push(_e)}),E}function et(B,y){B.classList?.add(y)}function vt(B,y){B.classList?.remove(y)}function kt(B,y,E){lr(E).onDone(()=>B.processLeaveNode(y))}function br(B,y){for(let E=0;E<B.length;E++){const N=B[E];N instanceof ue.ZE?br(N.players,y):y.push(N)}}function fn(B,y,E){const N=E.get(B);if(!N)return!1;let j=y.get(B);return j?N.forEach(Z=>j.add(Z)):y.set(B,N),E.delete(B),!0}class Pr{constructor(y,E,N){this.bodyNode=y,this._driver=E,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(j,Z)=>{},this._transitionEngine=new gs(y,E,N),this._timelineEngine=new is(y,E,N),this._transitionEngine.onRemovalComplete=(j,Z)=>this.onRemovalComplete(j,Z)}registerTrigger(y,E,N,j,Z){const me=y+"-"+j;let _e=this._triggerCache[me];if(!_e){const je=[],ve=ht(this._driver,Z,je,[]);if(je.length)throw function _t(B,y){return new F.vHH(3404,!1)}();_e=function Br(B,y,E){return new Ws(B,y,E)}(j,ve,this._normalizer),this._triggerCache[me]=_e}this._transitionEngine.registerTrigger(E,j,_e)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,N,j){this._transitionEngine.insertNode(y,E,N,j)}onRemove(y,E,N,j){this._transitionEngine.removeNode(y,E,j||!1,N)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,N,j){if("@"==N.charAt(0)){const[Z,me]=Bt(N);this._timelineEngine.command(Z,E,me,j)}else this._transitionEngine.trigger(y,E,N,j)}listen(y,E,N,j,Z){if("@"==N.charAt(0)){const[me,_e]=Bt(N);return this._timelineEngine.listen(me,E,_e,Z)}return this._transitionEngine.listen(y,E,N,j,Z)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vn=(()=>{class B{constructor(E,N,j){this._element=E,this._startStyles=N,this._endStyles=j,this._state=0;let Z=B.initialStylesByElement.get(E);Z||B.initialStylesByElement.set(E,Z=new Map),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zt(this._element,this._initialStyles),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(ie(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),Zt(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function k(B){let y=null;return B.forEach((E,N)=>{(function O(B){return"display"===B||"position"===B})(N)&&(y=y||new Map,y.set(N,E))}),y}class f{constructor(y,E,N,j){this.element=y,this.keyframes=E,this.options=N,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(N=>{E.push(Object.fromEntries(N))}),E}_triggerWebAnimation(y,E,N){return y.animate(this._convertKeyframesToObject(E),N)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,j)=>{"offset"!==j&&y.set(j,this._finished?N:wt(this.element,j))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(N=>N()),E.length=0}}class I{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return dr(y,E)}getParentElement(y){return Cr(y)}query(y,E,N){return pr(y,E,N)}computeStyle(y,E,N){return window.getComputedStyle(y)[E]}animate(y,E,N,j,Z,me=[]){const je={duration:N,delay:j,fill:0==j?"both":"forwards"};Z&&(je.easing=Z);const mt=new Map,ve=me.filter(Gt=>Gt instanceof f);(function an(B,y){return 0===B||0===y})(N,j)&&ve.forEach(Gt=>{Gt.currentSnapshot.forEach((pn,Dn)=>mt.set(Dn,pn))});let Xt=function se(B){return B.length?B[0]instanceof Map?B:B.map(y=>ge(y)):[]}(E).map(Gt=>ut(Gt));Xt=function Fe(B,y,E){if(E.size&&y.length){let N=y[0],j=[];if(E.forEach((Z,me)=>{N.has(me)||j.push(me),N.set(me,Z)}),j.length)for(let Z=1;Z<y.length;Z++){let me=y[Z];j.forEach(_e=>me.set(_e,wt(B,_e)))}}return y}(y,Xt,mt);const Mn=function Yn(B,y){let E=null,N=null;return Array.isArray(y)&&y.length?(E=k(y[0]),y.length>1&&(N=k(y[y.length-1]))):y instanceof Map&&(E=k(y)),E||N?new Vn(B,E,N):null}(y,Xt);return new f(y,Xt,je,Mn)}}var G=U(6895);let re=(()=>{class B extends ue._j{constructor(E,N){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(N.body,{id:"0",encapsulation:F.ifc.None,styles:[],data:{animation:[]}})}build(E){const N=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(E)?(0,ue.vP)(E):E;return Mt(this._renderer,null,N,"register",[j]),new Ne(N,this._renderer)}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(F.FYo),F.LFG(G.K0))},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})();class Ne extends ue.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new ft(this._id,y,E||{},this._renderer)}}class ft{constructor(y,E,N,j){this.id=y,this.element=E,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Mt(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Mt(B,y,E,N,j){return B.setProperty(y,`@@${E}:${N}`,j)}const nn="@.disabled";let Qn=(()=>{class B{constructor(E,N,j){this.delegate=E,this.engine=N,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(Z,me)=>{const _e=me?.parentNode(Z);_e&&me.removeChild(_e,Z)}}createRenderer(E,N){const Z=this.delegate.createRenderer(E,N);if(!(E&&N&&N.data&&N.data.animation)){let ve=this._rendererCache.get(Z);return ve||(ve=new mr("",Z,this.engine,()=>this._rendererCache.delete(Z)),this._rendererCache.set(Z,ve)),ve}const me=N.id,_e=N.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,E);const je=ve=>{Array.isArray(ve)?ve.forEach(je):this.engine.registerTrigger(me,_e,E,ve.name,ve)};return N.data.animation.forEach(je),new Gr(this,_e,Z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,N,j){E>=0&&E<this._microtaskId?this._zone.run(()=>N(j)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Z=>{const[me,_e]=Z;me(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(F.FYo),F.LFG(Pr),F.LFG(F.R0b))},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})();class mr{constructor(y,E,N,j){this.namespaceId=y,this.delegate=E,this.engine=N,this._onDestroy=j,this.destroyNode=this.delegate.destroyNode?Z=>E.destroyNode(Z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,N,j=!0){this.delegate.insertBefore(y,E,N),this.engine.onInsert(this.namespaceId,E,y,j)}removeChild(y,E,N){this.engine.onRemove(this.namespaceId,E,this.delegate,N)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,N,j){this.delegate.setAttribute(y,E,N,j)}removeAttribute(y,E,N){this.delegate.removeAttribute(y,E,N)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,N,j){this.delegate.setStyle(y,E,N,j)}removeStyle(y,E,N){this.delegate.removeStyle(y,E,N)}setProperty(y,E,N){"@"==E.charAt(0)&&E==nn?this.disableAnimations(y,!!N):this.delegate.setProperty(y,E,N)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,N){return this.delegate.listen(y,E,N)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Gr extends mr{constructor(y,E,N,j,Z){super(E,N,j,Z),this.factory=y,this.namespaceId=E}setProperty(y,E,N){"@"==E.charAt(0)?"."==E.charAt(1)&&E==nn?this.disableAnimations(y,N=void 0===N||!!N):this.engine.process(this.namespaceId,y,E.slice(1),N):this.delegate.setProperty(y,E,N)}listen(y,E,N){if("@"==E.charAt(0)){const j=function vi(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(y);let Z=E.slice(1),me="";return"@"!=Z.charAt(0)&&([Z,me]=function Ci(B){const y=B.indexOf(".");return[B.substring(0,y),B.slice(y+1)]}(Z)),this.engine.listen(this.namespaceId,j,Z,me,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,N,_e)})}return this.delegate.listen(y,E,N)}}const $s=[{provide:ue._j,useClass:re},{provide:ci,useFactory:function Bs(){return new bs}},{provide:Pr,useClass:(()=>{class B extends Pr{constructor(E,N,j,Z){super(E.body,N,j)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(G.K0),F.LFG(_r),F.LFG(ci),F.LFG(F.z2F))},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:F.FYo,useFactory:function Jr(B,y,E){return new Qn(B,y,E)},deps:[m.se,Pr,F.R0b]}],Ji=[{provide:_r,useFactory:()=>new I},{provide:F.QbO,useValue:"BrowserAnimations"},...$s],fi=[{provide:_r,useClass:Tt},{provide:F.QbO,useValue:"NoopAnimations"},...$s];let pi=(()=>{class B{static withConfig(E){return{ngModule:B,providers:E.disableAnimations?fi:Ji}}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275mod=F.oAB({type:B}),B.\u0275inj=F.cJS({providers:Ji,imports:[m.b2]}),B})();var js=U(3692);const To_firebase={projectId:"edshare-348e7",appId:"1:1005475426712:web:5afe490c0209cbcc847bed",storageBucket:"edshare-348e7.appspot.com",locationId:"us-central",apiKey:"AIzaSyD3ATUZmGh5ikZji09qb11rJAm8c1cYYgo",authDomain:"edshare-348e7.firebaseapp.com",messagingSenderId:"1005475426712",measurementId:"G-XETQ4FGP1H"};var A=U(462),$=U(9646),R=U(9300),q=U(3900),ye=U(4004),rt=U(9751),pt=U(8421),dn=U(7579),Xn=U(4482),Nr=U(5403);var Er=U(5577),Wi=U(1884),Yr=U(8675),As=U(259),eo=U(655),to=U(3008),oo=U(7323);class Bi{constructor(y){return y}}const Ms="analytics",ao=A.nk.async,Co=(0,A.u3)(to.IH,!0),za=(0,A.u3)(to.Kz,!0),aa=(0,A.u3)(to.Iv,!0);let wn=(()=>{class B{constructor(E,N,j){let Z;this.disposables=[],(0,As.KN)("angularfire",A.q4.full,"user-tracking"),this.initialized=N.runOutsideAngular(()=>new Promise(me=>{Z=me})),ao().then(()=>{const me=j.get(Bi);me?this.disposables=[(0,oo.fD)(E).subscribe(_e=>{aa(me,_e?.uid),Z()})]:Z()})}ngOnDestroy(){this.disposables.forEach(E=>E.unsubscribe())}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(oo.gx),F.LFG(F.R0b),F.LFG(F.zs3))},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})();const ea="firebase_screen_id",va="outlet",la="screen_class",Ys="screen_name";let ta=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Gn={},No=B=>{const y=[B[la],B[va]].join("#");if(Gn.hasOwnProperty(y))return Gn[y];{const E=ta++;return Gn[y]=E,E}},Uo=(B,y,E)=>B.events.pipe((0,R.h)(j=>j instanceof ae.jw)).pipe((0,q.w)(j=>{var Z;const _e=(null===(Z=B.parseUrl(B.url.replace(/(?:\().+(?:\))/g,Gt=>Gt.replace("://",":///"))).root.children[j.snapshot.outlet])||void 0===Z?void 0:Z.toString())||"",je=B.routerState.root.children.map(Gt=>Gt).find(Gt=>Gt.outlet===j.snapshot.outlet);if(!je)return(0,$.of)(null);let mt=je;for(;mt.firstChild;)mt=mt.firstChild;const ve=mt.pathFromRoot.map(Gt=>{var pn;return null===(pn=Gt.routeConfig)||void 0===pn?void 0:pn.path}).filter(Gt=>Gt).join("/")||"/",Xt={[Ys]:ve,page_path:`/${_e}`,firebase_event_origin:"auto",firebase_screen:ve,[va]:j.snapshot.outlet};y&&(Xt.page_title=y.getTitle());let Mn=je.component;if(Mn){if(Mn===ae.fw){let Gt=j.snapshot;for(;Gt.firstChild;)Gt=Gt.firstChild;Mn=Gt.component}}else Mn=j.snapshot.component;if("string"==typeof Mn)return(0,$.of)(Object.assign(Object.assign({},Xt),{[la]:Mn}));if(Mn){const Gt=E.resolveComponentFactory(Mn);return(0,$.of)(Object.assign(Object.assign({},Xt),{[la]:Gt.selector}))}return(0,$.of)(null)}),(0,R.h)(j=>!!j),(0,ye.U)(j=>Object.assign({firebase_screen_class:j[la],[ea]:No(j)},j)),function Kr(B,y,E,N){return(0,Xn.e)((j,Z)=>{let me;y&&"function"!=typeof y?({duration:E,element:me,connector:N}=y):me=y;const _e=new Map,je=pn=>{_e.forEach(pn),pn(Z)},mt=pn=>je(Dn=>Dn.error(pn));let ve=0,Xt=!1;const Mn=new Nr.Q(Z,pn=>{try{const Dn=B(pn);let Sr=_e.get(Dn);if(!Sr){_e.set(Dn,Sr=N?N():new dn.x);const Lr=function Gt(pn,Dn){const Sr=new rt.y(Lr=>{ve++;const Ei=Dn.subscribe(Lr);return()=>{Ei.unsubscribe(),0==--ve&&Xt&&Mn.unsubscribe()}});return Sr.key=pn,Sr}(Dn,Sr);if(Z.next(Lr),E){const Ei=(0,Nr.x)(Sr,()=>{Sr.complete(),Ei?.unsubscribe()},void 0,void 0,()=>_e.delete(Dn));Mn.add((0,pt.Xf)(E(Lr)).subscribe(Ei))}}Sr.next(me?me(pn):pn)}catch(Dn){mt(Dn)}},()=>je(pn=>pn.complete()),mt,()=>_e.clear(),()=>(Xt=!0,0===ve));j.subscribe(Mn)})}(j=>j[va]),(0,Er.z)(j=>j.pipe((0,Wi.x)((Z,me)=>JSON.stringify(Z)===JSON.stringify(me)),(0,Yr.O)(void 0),function Si(){return(0,Xn.e)((B,y)=>{let E,N=!1;B.subscribe((0,Nr.x)(y,j=>{const Z=E;E=j,N&&y.next([Z,j]),N=!0}))})}(),(0,ye.U)(([Z,me])=>Z?Object.assign({firebase_previous_class:Z[la],firebase_previous_screen:Z[Ys],firebase_previous_id:Z[ea]},me):me))));let gi=(()=>{class B{constructor(E,N,j,Z,me,_e){(0,As.KN)("angularfire",A.q4.full,"screen-tracking"),ao().then(()=>{const je=_e.get(Bi);!E||!je||Z.runOutsideAngular(()=>{this.disposable=Uo(E,N,j).pipe((0,q.w)(mt=>(0,eo.mG)(this,void 0,void 0,function*(){return me&&(yield me.initialized),za(je,"screen_view",mt)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(ae.F0,8),F.LFG(m.Dx,8),F.LFG(F._Vd),F.LFG(F.R0b),F.LFG(wn,8),F.LFG(F.zs3))},B.\u0275prov=F.Yz7({token:B,factory:B.\u0275fac}),B})();const bn=new F.OlP("angularfire2.analytics-instances");function $r(B){return(y,E)=>{if(!A.nk.sync())return null;const N=y.runOutsideAngular(()=>B(E));return new Bi(N)}}const Wa={provide:class zo{constructor(){return(0,A.vb)(Ms)}},deps:[[new F.FiY,bn]]},mi={provide:Bi,useFactory:function Oo(B,y){if(!A.nk.sync())return null;const E=(0,A.JM)(Ms,B,y);return E&&new Bi(E)},deps:[[new F.FiY,bn],js.Ot]};let Rt=(()=>{class B{constructor(E,N){(0,As.KN)("angularfire",A.q4.full,"analytics")}}return B.\u0275fac=function(E){return new(E||B)(F.LFG(gi,8),F.LFG(wn,8))},B.\u0275mod=F.oAB({type:B}),B.\u0275inj=F.cJS({providers:[mi,Wa,{provide:F.ip1,useValue:A.nk.async,multi:!0}]}),B})();function wa(B,...y){return{ngModule:Rt,providers:[{provide:bn,useFactory:$r(B),multi:!0,deps:[F.R0b,F.zs3,A.HU,js.z6,...y]}]}}var Bo=U(1566),lo=U(8032),ko=U(4006);let da=(()=>{class B{}return B.\u0275fac=function(E){return new(E||B)},B.\u0275mod=F.oAB({type:B,bootstrap:[Pe]}),B.\u0275inj=F.cJS({providers:[gi,wn],imports:[m.b2,Ie,pi,ko.u5,(0,js.hX)(()=>(0,js.ZF)(To_firebase)),wa(()=>Co()),(0,oo.AR)(()=>(0,oo.v0)()),(0,Bo.Cm)(()=>(0,Bo.ad)()),(0,lo.Vq)(()=>(0,lo.cF)())]}),B})();(0,F.G48)(),m.q6().bootstrapModule(da).catch(B=>console.error(B))},1135:(Jt,Ze,U)=>{U.d(Ze,{X:()=>F});var m=U(7579);class F extends m.x{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const Ie=super._subscribe(Ee);return!Ie.closed&&Ee.next(this._value),Ie}getValue(){const{hasError:Ee,thrownError:Ie,_value:Pe}=this;if(Ee)throw Ie;return this._throwIfClosed(),Pe}next(Ee){super.next(this._value=Ee)}}},9751:(Jt,Ze,U)=>{U.d(Ze,{y:()=>Me});var m=U(930),F=U(727),ae=U(8822),Ee=U(9635),Ie=U(2416),Pe=U(576),ue=U(2806);let Me=(()=>{class be{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ke=new be;return Ke.source=this,Ke.operator=Te,Ke}subscribe(Te,Ke,He){const gt=function fe(be){return be&&be instanceof m.Lv||function he(be){return be&&(0,Pe.m)(be.next)&&(0,Pe.m)(be.error)&&(0,Pe.m)(be.complete)}(be)&&(0,F.Nn)(be)}(Te)?Te:new m.Hp(Te,Ke,He);return(0,ue.x)(()=>{const{operator:st,source:Kt}=this;gt.add(st?st.call(gt,Kt):Kt?this._subscribe(gt):this._trySubscribe(gt))}),gt}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ke){Te.error(Ke)}}forEach(Te,Ke){return new(Ke=Ue(Ke))((He,gt)=>{const st=new m.Hp({next:Kt=>{try{Te(Kt)}catch(en){gt(en),st.unsubscribe()}},error:gt,complete:He});this.subscribe(st)})}_subscribe(Te){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Te)}[ae.L](){return this}pipe(...Te){return(0,Ee.U)(Te)(this)}toPromise(Te){return new(Te=Ue(Te))((Ke,He)=>{let gt;this.subscribe(st=>gt=st,st=>He(st),()=>Ke(gt))})}}return be.create=Ge=>new be(Ge),be})();function Ue(be){var Ge;return null!==(Ge=be??Ie.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(Jt,Ze,U)=>{U.d(Ze,{x:()=>ue});var m=U(9751),F=U(727);const Ee=(0,U(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=U(8737),Pe=U(2806);let ue=(()=>{class Ue extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const be=new Me(this,this);return be.operator=fe,be}_throwIfClosed(){if(this.closed)throw new Ee}next(fe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(fe)}})}error(fe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:be}=this;for(;be.length;)be.shift().error(fe)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:be,isStopped:Ge,observers:Te}=this;return be||Ge?F.Lc:(this.currentObservers=null,Te.push(fe),new F.w0(()=>{this.currentObservers=null,(0,Ie.P)(Te,fe)}))}_checkFinalizedStatuses(fe){const{hasError:be,thrownError:Ge,isStopped:Te}=this;be?fe.error(Ge):Te&&fe.complete()}asObservable(){const fe=new m.y;return fe.source=this,fe}}return Ue.create=(he,fe)=>new Me(he,fe),Ue})();class Me extends ue{constructor(he,fe){super(),this.destination=he,this.source=fe}next(he){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===be||be.call(fe,he)}error(he){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===be||be.call(fe,he)}complete(){var he,fe;null===(fe=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===fe||fe.call(he)}_subscribe(he){var fe,be;return null!==(be=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(he))&&void 0!==be?be:F.Lc}}},930:(Jt,Ze,U)=>{U.d(Ze,{Hp:()=>He,Lv:()=>be});var m=U(576),F=U(727),ae=U(2416),Ee=U(7849),Ie=U(5032);const Pe=Ue("C",void 0,void 0);function Ue(Be,Se,Je){return{kind:Be,value:Se,error:Je}}var he=U(3410),fe=U(2806);class be extends F.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,F.Nn)(Se)&&Se.add(this)):this.destination=en}static create(Se,Je,At){return new He(Se,Je,At)}next(Se){this.isStopped?Kt(function Me(Be){return Ue("N",Be,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Kt(function ue(Be){return Ue("E",void 0,Be)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Kt(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Te(Be,Se){return Ge.call(Be,Se)}class Ke{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Se)}catch(At){gt(At)}}error(Se){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Se)}catch(At){gt(At)}else gt(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Je){gt(Je)}}}class He extends be{constructor(Se,Je,At){let Oe;if(super(),(0,m.m)(Se)||!Se)Oe={next:Se??void 0,error:Je??void 0,complete:At??void 0};else{let ze;this&&ae.v.useDeprecatedNextContext?(ze=Object.create(Se),ze.unsubscribe=()=>this.unsubscribe(),Oe={next:Se.next&&Te(Se.next,ze),error:Se.error&&Te(Se.error,ze),complete:Se.complete&&Te(Se.complete,ze)}):Oe=Se}this.destination=new Ke(Oe)}}function gt(Be){ae.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Be):(0,Ee.h)(Be)}function Kt(Be,Se){const{onStoppedNotification:Je}=ae.v;Je&&he.z.setTimeout(()=>Je(Be,Se))}const en={closed:!0,next:Ie.Z,error:function st(Be){throw Be},complete:Ie.Z}},727:(Jt,Ze,U)=>{U.d(Ze,{Lc:()=>Pe,w0:()=>Ie,Nn:()=>ue});var m=U(576);const ae=(0,U(3888).d)(Ue=>function(fe){Ue(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((be,Ge)=>`${Ge+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Ee=U(8737);class Ie{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Te of fe)Te.remove(this);else fe.remove(this);const{initialTeardown:be}=this;if((0,m.m)(be))try{be()}catch(Te){he=Te instanceof ae?Te.errors:[Te]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Te of Ge)try{Me(Te)}catch(Ke){he=he??[],Ke instanceof ae?he=[...he,...Ke.errors]:he.push(Ke)}}if(he)throw new ae(he)}}add(he){var fe;if(he&&he!==this)if(this.closed)Me(he);else{if(he instanceof Ie){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(he)}}_hasParent(he){const{_parentage:fe}=this;return fe===he||Array.isArray(fe)&&fe.includes(he)}_addParent(he){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(he),fe):fe?[fe,he]:he}_removeParent(he){const{_parentage:fe}=this;fe===he?this._parentage=null:Array.isArray(fe)&&(0,Ee.P)(fe,he)}remove(he){const{_finalizers:fe}=this;fe&&(0,Ee.P)(fe,he),he instanceof Ie&&he._removeParent(this)}}Ie.EMPTY=(()=>{const Ue=new Ie;return Ue.closed=!0,Ue})();const Pe=Ie.EMPTY;function ue(Ue){return Ue instanceof Ie||Ue&&"closed"in Ue&&(0,m.m)(Ue.remove)&&(0,m.m)(Ue.add)&&(0,m.m)(Ue.unsubscribe)}function Me(Ue){(0,m.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(Jt,Ze,U)=>{U.d(Ze,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Jt,Ze,U)=>{U.d(Ze,{a:()=>he});var m=U(9751),F=U(4742),ae=U(8996),Ee=U(4671),Ie=U(3268),Pe=U(3269),ue=U(1810),Me=U(5403),Ue=U(9672);function he(...Ge){const Te=(0,Pe.yG)(Ge),Ke=(0,Pe.jO)(Ge),{args:He,keys:gt}=(0,F.D)(Ge);if(0===He.length)return(0,ae.D)([],Te);const st=new m.y(function fe(Ge,Te,Ke=Ee.y){return He=>{be(Te,()=>{const{length:gt}=Ge,st=new Array(gt);let Kt=gt,en=gt;for(let Be=0;Be<gt;Be++)be(Te,()=>{const Se=(0,ae.D)(Ge[Be],Te);let Je=!1;Se.subscribe((0,Me.x)(He,At=>{st[Be]=At,Je||(Je=!0,en--),en||He.next(Ke(st.slice()))},()=>{--Kt||He.complete()}))},He)},He)}}(He,Te,gt?Kt=>(0,ue.n)(gt,Kt):Ee.y));return Ke?st.pipe((0,Ie.Z)(Ke)):st}function be(Ge,Te,Ke){Ge?(0,Ue.f)(Ke,Ge,Te):Te()}},7272:(Jt,Ze,U)=>{U.d(Ze,{z:()=>Ie});var m=U(8189),ae=U(3269),Ee=U(8996);function Ie(...Pe){return function F(){return(0,m.J)(1)}()((0,Ee.D)(Pe,(0,ae.yG)(Pe)))}},9770:(Jt,Ze,U)=>{U.d(Ze,{P:()=>ae});var m=U(9751),F=U(8421);function ae(Ee){return new m.y(Ie=>{(0,F.Xf)(Ee()).subscribe(Ie)})}},515:(Jt,Ze,U)=>{U.d(Ze,{E:()=>F});const F=new(U(9751).y)(Ie=>Ie.complete())},4128:(Jt,Ze,U)=>{U.d(Ze,{D:()=>Me});var m=U(9751),F=U(4742),ae=U(8421),Ee=U(3269),Ie=U(5403),Pe=U(3268),ue=U(1810);function Me(...Ue){const he=(0,Ee.jO)(Ue),{args:fe,keys:be}=(0,F.D)(Ue),Ge=new m.y(Te=>{const{length:Ke}=fe;if(!Ke)return void Te.complete();const He=new Array(Ke);let gt=Ke,st=Ke;for(let Kt=0;Kt<Ke;Kt++){let en=!1;(0,ae.Xf)(fe[Kt]).subscribe((0,Ie.x)(Te,Be=>{en||(en=!0,st--),He[Kt]=Be},()=>gt--,void 0,()=>{(!gt||!en)&&(st||Te.next(be?(0,ue.n)(be,He):He),Te.complete())}))}});return he?Ge.pipe((0,Pe.Z)(he)):Ge}},8996:(Jt,Ze,U)=>{U.d(Ze,{D:()=>Se});var m=U(8421),F=U(5363),ae=U(9468),Pe=U(9751),Me=U(2202),Ue=U(576),he=U(9672);function be(Je,At){if(!Je)throw new Error("Iterable cannot be null");return new Pe.y(Oe=>{(0,he.f)(Oe,At,()=>{const ze=Je[Symbol.asyncIterator]();(0,he.f)(Oe,At,()=>{ze.next().then(at=>{at.done?Oe.complete():Oe.next(at.value)})},0,!0)})})}var Ge=U(3670),Te=U(8239),Ke=U(1144),He=U(6495),gt=U(2206),st=U(4532),Kt=U(3260);function Se(Je,At){return At?function Be(Je,At){if(null!=Je){if((0,Ge.c)(Je))return function Ee(Je,At){return(0,m.Xf)(Je).pipe((0,ae.R)(At),(0,F.Q)(At))}(Je,At);if((0,Ke.z)(Je))return function ue(Je,At){return new Pe.y(Oe=>{let ze=0;return At.schedule(function(){ze===Je.length?Oe.complete():(Oe.next(Je[ze++]),Oe.closed||this.schedule())})})}(Je,At);if((0,Te.t)(Je))return function Ie(Je,At){return(0,m.Xf)(Je).pipe((0,ae.R)(At),(0,F.Q)(At))}(Je,At);if((0,gt.D)(Je))return be(Je,At);if((0,He.T)(Je))return function fe(Je,At){return new Pe.y(Oe=>{let ze;return(0,he.f)(Oe,At,()=>{ze=Je[Me.h](),(0,he.f)(Oe,At,()=>{let at,Re;try{({value:at,done:Re}=ze.next())}catch(Le){return void Oe.error(Le)}Re?Oe.complete():Oe.next(at)},0,!0)}),()=>(0,Ue.m)(ze?.return)&&ze.return()})}(Je,At);if((0,Kt.L)(Je))return function en(Je,At){return be((0,Kt.Q)(Je),At)}(Je,At)}throw(0,st.z)(Je)}(Je,At):(0,m.Xf)(Je)}},8421:(Jt,Ze,U)=>{U.d(Ze,{Xf:()=>Ge});var m=U(655),F=U(1144),ae=U(8239),Ee=U(9751),Ie=U(3670),Pe=U(2206),ue=U(4532),Me=U(6495),Ue=U(3260),he=U(576),fe=U(7849),be=U(8822);function Ge(Be){if(Be instanceof Ee.y)return Be;if(null!=Be){if((0,Ie.c)(Be))return function Te(Be){return new Ee.y(Se=>{const Je=Be[be.L]();if((0,he.m)(Je.subscribe))return Je.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,F.z)(Be))return function Ke(Be){return new Ee.y(Se=>{for(let Je=0;Je<Be.length&&!Se.closed;Je++)Se.next(Be[Je]);Se.complete()})}(Be);if((0,ae.t)(Be))return function He(Be){return new Ee.y(Se=>{Be.then(Je=>{Se.closed||(Se.next(Je),Se.complete())},Je=>Se.error(Je)).then(null,fe.h)})}(Be);if((0,Pe.D)(Be))return st(Be);if((0,Me.T)(Be))return function gt(Be){return new Ee.y(Se=>{for(const Je of Be)if(Se.next(Je),Se.closed)return;Se.complete()})}(Be);if((0,Ue.L)(Be))return function Kt(Be){return st((0,Ue.Q)(Be))}(Be)}throw(0,ue.z)(Be)}function st(Be){return new Ee.y(Se=>{(function en(Be,Se){var Je,At,Oe,ze;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Je=(0,m.KL)(Be);!(At=yield Je.next()).done;)if(Se.next(At.value),Se.closed)return}catch(at){Oe={error:at}}finally{try{At&&!At.done&&(ze=Je.return)&&(yield ze.call(Je))}finally{if(Oe)throw Oe.error}}Se.complete()})})(Be,Se).catch(Je=>Se.error(Je))})}},6451:(Jt,Ze,U)=>{U.d(Ze,{T:()=>Pe});var m=U(8189),F=U(8421),ae=U(515),Ee=U(3269),Ie=U(8996);function Pe(...ue){const Me=(0,Ee.yG)(ue),Ue=(0,Ee._6)(ue,1/0),he=ue;return he.length?1===he.length?(0,F.Xf)(he[0]):(0,m.J)(Ue)((0,Ie.D)(he,Me)):ae.E}},9646:(Jt,Ze,U)=>{U.d(Ze,{of:()=>ae});var m=U(3269),F=U(8996);function ae(...Ee){const Ie=(0,m.yG)(Ee);return(0,F.D)(Ee,Ie)}},2843:(Jt,Ze,U)=>{U.d(Ze,{_:()=>ae});var m=U(9751),F=U(576);function ae(Ee,Ie){const Pe=(0,F.m)(Ee)?Ee:()=>Ee,ue=Me=>Me.error(Pe());return new m.y(Ie?Me=>Ie.schedule(ue,0,Me):ue)}},5403:(Jt,Ze,U)=>{U.d(Ze,{Q:()=>ae,x:()=>F});var m=U(930);function F(Ee,Ie,Pe,ue,Me){return new ae(Ee,Ie,Pe,ue,Me)}class ae extends m.Lv{constructor(Ie,Pe,ue,Me,Ue,he){super(Ie),this.onFinalize=Ue,this.shouldUnsubscribe=he,this._next=Pe?function(fe){try{Pe(fe)}catch(be){Ie.error(be)}}:super._next,this._error=Me?function(fe){try{Me(fe)}catch(be){Ie.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(fe){Ie.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},262:(Jt,Ze,U)=>{U.d(Ze,{K:()=>Ee});var m=U(8421),F=U(5403),ae=U(4482);function Ee(Ie){return(0,ae.e)((Pe,ue)=>{let he,Me=null,Ue=!1;Me=Pe.subscribe((0,F.x)(ue,void 0,void 0,fe=>{he=(0,m.Xf)(Ie(fe,Ee(Ie)(Pe))),Me?(Me.unsubscribe(),Me=null,he.subscribe(ue)):Ue=!0})),Ue&&(Me.unsubscribe(),Me=null,he.subscribe(ue))})}},4351:(Jt,Ze,U)=>{U.d(Ze,{b:()=>ae});var m=U(5577),F=U(576);function ae(Ee,Ie){return(0,F.m)(Ie)?(0,m.z)(Ee,Ie,1):(0,m.z)(Ee,1)}},1884:(Jt,Ze,U)=>{U.d(Ze,{x:()=>Ee});var m=U(4671),F=U(4482),ae=U(5403);function Ee(Pe,ue=m.y){return Pe=Pe??Ie,(0,F.e)((Me,Ue)=>{let he,fe=!0;Me.subscribe((0,ae.x)(Ue,be=>{const Ge=ue(be);(fe||!Pe(he,Ge))&&(fe=!1,he=Ge,Ue.next(be))}))})}function Ie(Pe,ue){return Pe===ue}},9300:(Jt,Ze,U)=>{U.d(Ze,{h:()=>ae});var m=U(4482),F=U(5403);function ae(Ee,Ie){return(0,m.e)((Pe,ue)=>{let Me=0;Pe.subscribe((0,F.x)(ue,Ue=>Ee.call(Ie,Ue,Me++)&&ue.next(Ue)))})}},8746:(Jt,Ze,U)=>{U.d(Ze,{x:()=>F});var m=U(4482);function F(ae){return(0,m.e)((Ee,Ie)=>{try{Ee.subscribe(Ie)}finally{Ie.add(ae)}})}},4004:(Jt,Ze,U)=>{U.d(Ze,{U:()=>ae});var m=U(4482),F=U(5403);function ae(Ee,Ie){return(0,m.e)((Pe,ue)=>{let Me=0;Pe.subscribe((0,F.x)(ue,Ue=>{ue.next(Ee.call(Ie,Ue,Me++))}))})}},9718:(Jt,Ze,U)=>{U.d(Ze,{h:()=>F});var m=U(4004);function F(ae){return(0,m.U)(()=>ae)}},8189:(Jt,Ze,U)=>{U.d(Ze,{J:()=>ae});var m=U(5577),F=U(4671);function ae(Ee=1/0){return(0,m.z)(F.y,Ee)}},5577:(Jt,Ze,U)=>{U.d(Ze,{z:()=>Me});var m=U(4004),F=U(8421),ae=U(4482),Ee=U(9672),Ie=U(5403),ue=U(576);function Me(Ue,he,fe=1/0){return(0,ue.m)(he)?Me((be,Ge)=>(0,m.U)((Te,Ke)=>he(be,Te,Ge,Ke))((0,F.Xf)(Ue(be,Ge))),fe):("number"==typeof he&&(fe=he),(0,ae.e)((be,Ge)=>function Pe(Ue,he,fe,be,Ge,Te,Ke,He){const gt=[];let st=0,Kt=0,en=!1;const Be=()=>{en&&!gt.length&&!st&&he.complete()},Se=At=>st<be?Je(At):gt.push(At),Je=At=>{Te&&he.next(At),st++;let Oe=!1;(0,F.Xf)(fe(At,Kt++)).subscribe((0,Ie.x)(he,ze=>{Ge?.(ze),Te?Se(ze):he.next(ze)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(st--;gt.length&&st<be;){const ze=gt.shift();Ke?(0,Ee.f)(he,Ke,()=>Je(ze)):Je(ze)}Be()}catch(ze){he.error(ze)}}))};return Ue.subscribe((0,Ie.x)(he,Se,()=>{en=!0,Be()})),()=>{He?.()}}(be,Ge,Ue,fe)))}},5363:(Jt,Ze,U)=>{U.d(Ze,{Q:()=>Ee});var m=U(9672),F=U(4482),ae=U(5403);function Ee(Ie,Pe=0){return(0,F.e)((ue,Me)=>{ue.subscribe((0,ae.x)(Me,Ue=>(0,m.f)(Me,Ie,()=>Me.next(Ue),Pe),()=>(0,m.f)(Me,Ie,()=>Me.complete(),Pe),Ue=>(0,m.f)(Me,Ie,()=>Me.error(Ue),Pe)))})}},3099:(Jt,Ze,U)=>{U.d(Ze,{B:()=>Ie});var m=U(8421),F=U(7579),ae=U(930),Ee=U(4482);function Ie(ue={}){const{connector:Me=(()=>new F.x),resetOnError:Ue=!0,resetOnComplete:he=!0,resetOnRefCountZero:fe=!0}=ue;return be=>{let Ge,Te,Ke,He=0,gt=!1,st=!1;const Kt=()=>{Te?.unsubscribe(),Te=void 0},en=()=>{Kt(),Ge=Ke=void 0,gt=st=!1},Be=()=>{const Se=Ge;en(),Se?.unsubscribe()};return(0,Ee.e)((Se,Je)=>{He++,!st&&!gt&&Kt();const At=Ke=Ke??Me();Je.add(()=>{He--,0===He&&!st&&!gt&&(Te=Pe(Be,fe))}),At.subscribe(Je),!Ge&&He>0&&(Ge=new ae.Hp({next:Oe=>At.next(Oe),error:Oe=>{st=!0,Kt(),Te=Pe(en,Ue,Oe),At.error(Oe)},complete:()=>{gt=!0,Kt(),Te=Pe(en,he),At.complete()}}),(0,m.Xf)(Se).subscribe(Ge))})(be)}}function Pe(ue,Me,...Ue){if(!0===Me)return void ue();if(!1===Me)return;const he=new ae.Hp({next:()=>{he.unsubscribe(),ue()}});return Me(...Ue).subscribe(he)}},8675:(Jt,Ze,U)=>{U.d(Ze,{O:()=>Ee});var m=U(7272),F=U(3269),ae=U(4482);function Ee(...Ie){const Pe=(0,F.yG)(Ie);return(0,ae.e)((ue,Me)=>{(Pe?(0,m.z)(Ie,ue,Pe):(0,m.z)(Ie,ue)).subscribe(Me)})}},9468:(Jt,Ze,U)=>{U.d(Ze,{R:()=>F});var m=U(4482);function F(ae,Ee=0){return(0,m.e)((Ie,Pe)=>{Pe.add(ae.schedule(()=>Ie.subscribe(Pe),Ee))})}},3900:(Jt,Ze,U)=>{U.d(Ze,{w:()=>Ee});var m=U(8421),F=U(4482),ae=U(5403);function Ee(Ie,Pe){return(0,F.e)((ue,Me)=>{let Ue=null,he=0,fe=!1;const be=()=>fe&&!Ue&&Me.complete();ue.subscribe((0,ae.x)(Me,Ge=>{Ue?.unsubscribe();let Te=0;const Ke=he++;(0,m.Xf)(Ie(Ge,Ke)).subscribe(Ue=(0,ae.x)(Me,He=>Me.next(Pe?Pe(Ge,He,Ke,Te++):He),()=>{Ue=null,be()}))},()=>{fe=!0,be()}))})}},5698:(Jt,Ze,U)=>{U.d(Ze,{q:()=>Ee});var m=U(515),F=U(4482),ae=U(5403);function Ee(Ie){return Ie<=0?()=>m.E:(0,F.e)((Pe,ue)=>{let Me=0;Pe.subscribe((0,ae.x)(ue,Ue=>{++Me<=Ie&&(ue.next(Ue),Ie<=Me&&ue.complete())}))})}},2529:(Jt,Ze,U)=>{U.d(Ze,{o:()=>ae});var m=U(4482),F=U(5403);function ae(Ee,Ie=!1){return(0,m.e)((Pe,ue)=>{let Me=0;Pe.subscribe((0,F.x)(ue,Ue=>{const he=Ee(Ue,Me++);(he||Ie)&&ue.next(Ue),!he&&ue.complete()}))})}},8505:(Jt,Ze,U)=>{U.d(Ze,{b:()=>Ie});var m=U(576),F=U(4482),ae=U(5403),Ee=U(4671);function Ie(Pe,ue,Me){const Ue=(0,m.m)(Pe)||ue||Me?{next:Pe,error:ue,complete:Me}:Pe;return Ue?(0,F.e)((he,fe)=>{var be;null===(be=Ue.subscribe)||void 0===be||be.call(Ue);let Ge=!0;he.subscribe((0,ae.x)(fe,Te=>{var Ke;null===(Ke=Ue.next)||void 0===Ke||Ke.call(Ue,Te),fe.next(Te)},()=>{var Te;Ge=!1,null===(Te=Ue.complete)||void 0===Te||Te.call(Ue),fe.complete()},Te=>{var Ke;Ge=!1,null===(Ke=Ue.error)||void 0===Ke||Ke.call(Ue,Te),fe.error(Te)},()=>{var Te,Ke;Ge&&(null===(Te=Ue.unsubscribe)||void 0===Te||Te.call(Ue)),null===(Ke=Ue.finalize)||void 0===Ke||Ke.call(Ue)}))}):Ee.y}},4408:(Jt,Ze,U)=>{U.d(Ze,{o:()=>Ie});var m=U(727);class F extends m.w0{constructor(ue,Me){super()}schedule(ue,Me=0){return this}}const ae={setInterval(Pe,ue,...Me){const{delegate:Ue}=ae;return Ue?.setInterval?Ue.setInterval(Pe,ue,...Me):setInterval(Pe,ue,...Me)},clearInterval(Pe){const{delegate:ue}=ae;return(ue?.clearInterval||clearInterval)(Pe)},delegate:void 0};var Ee=U(8737);class Ie extends F{constructor(ue,Me){super(ue,Me),this.scheduler=ue,this.work=Me,this.pending=!1}schedule(ue,Me=0){var Ue;if(this.closed)return this;this.state=ue;const he=this.id,fe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(fe,he,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(fe,this.id,Me),this}requestAsyncId(ue,Me,Ue=0){return ae.setInterval(ue.flush.bind(ue,this),Ue)}recycleAsyncId(ue,Me,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Me;null!=Me&&ae.clearInterval(Me)}execute(ue,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(ue,Me);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Me){let he,Ue=!1;try{this.work(ue)}catch(fe){Ue=!0,he=fe||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:ue,scheduler:Me}=this,{actions:Ue}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.P)(Ue,this),null!=ue&&(this.id=this.recycleAsyncId(Me,ue,null)),this.delay=null,super.unsubscribe()}}}},640:(Jt,Ze,U)=>{U.d(Ze,{v:()=>ae});const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class F{constructor(Ie,Pe=F.now){this.schedulerActionCtor=Ie,this.now=Pe}schedule(Ie,Pe=0,ue){return new this.schedulerActionCtor(this,Ie).schedule(ue,Pe)}}F.now=m.now;class ae extends F{constructor(Ie,Pe=F.now){super(Ie,Pe),this.actions=[],this._active=!1}flush(Ie){const{actions:Pe}=this;if(this._active)return void Pe.push(Ie);let ue;this._active=!0;do{if(ue=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Pe.shift());if(this._active=!1,ue){for(;Ie=Pe.shift();)Ie.unsubscribe();throw ue}}}},4986:(Jt,Ze,U)=>{U.d(Ze,{P:()=>Ee,z:()=>ae});var m=U(4408);const ae=new(U(640).v)(m.o),Ee=ae},3410:(Jt,Ze,U)=>{U.d(Ze,{z:()=>m});const m={setTimeout(F,ae,...Ee){const{delegate:Ie}=m;return Ie?.setTimeout?Ie.setTimeout(F,ae,...Ee):setTimeout(F,ae,...Ee)},clearTimeout(F){const{delegate:ae}=m;return(ae?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Jt,Ze,U)=>{U.d(Ze,{h:()=>F});const F=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,Ze,U)=>{U.d(Ze,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Jt,Ze,U)=>{U.d(Ze,{_6:()=>Pe,jO:()=>Ee,yG:()=>Ie});var m=U(576),F=U(3532);function ae(ue){return ue[ue.length-1]}function Ee(ue){return(0,m.m)(ae(ue))?ue.pop():void 0}function Ie(ue){return(0,F.K)(ae(ue))?ue.pop():void 0}function Pe(ue,Me){return"number"==typeof ae(ue)?ue.pop():Me}},4742:(Jt,Ze,U)=>{U.d(Ze,{D:()=>Ie});const{isArray:m}=Array,{getPrototypeOf:F,prototype:ae,keys:Ee}=Object;function Ie(ue){if(1===ue.length){const Me=ue[0];if(m(Me))return{args:Me,keys:null};if(function Pe(ue){return ue&&"object"==typeof ue&&F(ue)===ae}(Me)){const Ue=Ee(Me);return{args:Ue.map(he=>Me[he]),keys:Ue}}}return{args:ue,keys:null}}},8737:(Jt,Ze,U)=>{function m(F,ae){if(F){const Ee=F.indexOf(ae);0<=Ee&&F.splice(Ee,1)}}U.d(Ze,{P:()=>m})},3888:(Jt,Ze,U)=>{function m(F){const Ee=F(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}U.d(Ze,{d:()=>m})},1810:(Jt,Ze,U)=>{function m(F,ae){return F.reduce((Ee,Ie,Pe)=>(Ee[Ie]=ae[Pe],Ee),{})}U.d(Ze,{n:()=>m})},2806:(Jt,Ze,U)=>{U.d(Ze,{O:()=>Ee,x:()=>ae});var m=U(2416);let F=null;function ae(Ie){if(m.v.useDeprecatedSynchronousErrorHandling){const Pe=!F;if(Pe&&(F={errorThrown:!1,error:null}),Ie(),Pe){const{errorThrown:ue,error:Me}=F;if(F=null,ue)throw Me}}else Ie()}function Ee(Ie){m.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Ie)}},9672:(Jt,Ze,U)=>{function m(F,ae,Ee,Ie=0,Pe=!1){const ue=ae.schedule(function(){Ee(),Pe?F.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(F.add(ue),!Pe)return ue}U.d(Ze,{f:()=>m})},4671:(Jt,Ze,U)=>{function m(F){return F}U.d(Ze,{y:()=>m})},1144:(Jt,Ze,U)=>{U.d(Ze,{z:()=>m});const m=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Jt,Ze,U)=>{U.d(Ze,{D:()=>F});var m=U(576);function F(ae){return Symbol.asyncIterator&&(0,m.m)(ae?.[Symbol.asyncIterator])}},576:(Jt,Ze,U)=>{function m(F){return"function"==typeof F}U.d(Ze,{m:()=>m})},3670:(Jt,Ze,U)=>{U.d(Ze,{c:()=>ae});var m=U(8822),F=U(576);function ae(Ee){return(0,F.m)(Ee[m.L])}},6495:(Jt,Ze,U)=>{U.d(Ze,{T:()=>ae});var m=U(2202),F=U(576);function ae(Ee){return(0,F.m)(Ee?.[m.h])}},8239:(Jt,Ze,U)=>{U.d(Ze,{t:()=>F});var m=U(576);function F(ae){return(0,m.m)(ae?.then)}},3260:(Jt,Ze,U)=>{U.d(Ze,{L:()=>Ee,Q:()=>ae});var m=U(655),F=U(576);function ae(Ie){return(0,m.FC)(this,arguments,function*(){const ue=Ie.getReader();try{for(;;){const{value:Me,done:Ue}=yield(0,m.qq)(ue.read());if(Ue)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Me)}}finally{ue.releaseLock()}})}function Ee(Ie){return(0,F.m)(Ie?.getReader)}},3532:(Jt,Ze,U)=>{U.d(Ze,{K:()=>F});var m=U(576);function F(ae){return ae&&(0,m.m)(ae.schedule)}},4482:(Jt,Ze,U)=>{U.d(Ze,{A:()=>F,e:()=>ae});var m=U(576);function F(Ee){return(0,m.m)(Ee?.lift)}function ae(Ee){return Ie=>{if(F(Ie))return Ie.lift(function(Pe){try{return Ee(Pe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,Ze,U)=>{U.d(Ze,{Z:()=>Ee});var m=U(4004);const{isArray:F}=Array;function Ee(Ie){return(0,m.U)(Pe=>function ae(Ie,Pe){return F(Pe)?Ie(...Pe):Ie(Pe)}(Ie,Pe))}},5032:(Jt,Ze,U)=>{function m(){}U.d(Ze,{Z:()=>m})},9635:(Jt,Ze,U)=>{U.d(Ze,{U:()=>ae,z:()=>F});var m=U(4671);function F(...Ee){return ae(Ee)}function ae(Ee){return 0===Ee.length?m.y:1===Ee.length?Ee[0]:function(Pe){return Ee.reduce((ue,Me)=>Me(ue),Pe)}}},7849:(Jt,Ze,U)=>{U.d(Ze,{h:()=>ae});var m=U(2416),F=U(3410);function ae(Ee){F.z.setTimeout(()=>{const{onUnhandledError:Ie}=m.v;if(!Ie)throw Ee;Ie(Ee)})}},4532:(Jt,Ze,U)=>{function m(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ze,{z:()=>m})},655:(Jt,Ze,U)=>{function Ee(Re,Le){var nt={};for(var Ve in Re)Object.prototype.hasOwnProperty.call(Re,Ve)&&Le.indexOf(Ve)<0&&(nt[Ve]=Re[Ve]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Ve=Object.getOwnPropertySymbols(Re);_t<Ve.length;_t++)Le.indexOf(Ve[_t])<0&&Object.prototype.propertyIsEnumerable.call(Re,Ve[_t])&&(nt[Ve[_t]]=Re[Ve[_t]])}return nt}function Ie(Re,Le,nt,Ve){var qt,_t=arguments.length,ct=_t<3?Le:null===Ve?Ve=Object.getOwnPropertyDescriptor(Le,nt):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ct=Reflect.decorate(Re,Le,nt,Ve);else for(var Bn=Re.length-1;Bn>=0;Bn--)(qt=Re[Bn])&&(ct=(_t<3?qt(ct):_t>3?qt(Le,nt,ct):qt(Le,nt))||ct);return _t>3&&ct&&Object.defineProperty(Le,nt,ct),ct}function Pe(Re,Le){return function(nt,Ve){Le(nt,Ve,Re)}}function ue(Re,Le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Re,Le)}function Me(Re,Le,nt,Ve){return new(nt||(nt=Promise))(function(ct,qt){function Bn(In){try{bt(Ve.next(In))}catch(er){qt(er)}}function _n(In){try{bt(Ve.throw(In))}catch(er){qt(er)}}function bt(In){In.done?ct(In.value):function _t(ct){return ct instanceof nt?ct:new nt(function(qt){qt(ct)})}(In.value).then(Bn,_n)}bt((Ve=Ve.apply(Re,Le||[])).next())})}function gt(Re){return this instanceof gt?(this.v=Re,this):new gt(Re)}function st(Re,Le,nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,Ve=nt.apply(Re,Le||[]),ct=[];return _t={},qt("next"),qt("throw"),qt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function qt(Zn){Ve[Zn]&&(_t[Zn]=function(zn){return new Promise(function(Fn,ln){ct.push([Zn,zn,Fn,ln])>1||Bn(Zn,zn)})})}function Bn(Zn,zn){try{!function _n(Zn){Zn.value instanceof gt?Promise.resolve(Zn.value.v).then(bt,In):er(ct[0][2],Zn)}(Ve[Zn](zn))}catch(Fn){er(ct[0][3],Fn)}}function bt(Zn){Bn("next",Zn)}function In(Zn){Bn("throw",Zn)}function er(Zn,zn){Zn(zn),ct.shift(),ct.length&&Bn(ct[0][0],ct[0][1])}}function en(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Le=Re[Symbol.asyncIterator];return Le?Le.call(Re):(Re=function be(Re){var Le="function"==typeof Symbol&&Symbol.iterator,nt=Le&&Re[Le],Ve=0;if(nt)return nt.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&Ve>=Re.length&&(Re=void 0),{value:Re&&Re[Ve++],done:!Re}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),nt={},Ve("next"),Ve("throw"),Ve("return"),nt[Symbol.asyncIterator]=function(){return this},nt);function Ve(ct){nt[ct]=Re[ct]&&function(qt){return new Promise(function(Bn,_n){!function _t(ct,qt,Bn,_n){Promise.resolve(_n).then(function(bt){ct({value:bt,done:Bn})},qt)}(Bn,_n,(qt=Re[ct](qt)).done,qt.value)})}}}U.d(Ze,{FC:()=>st,KL:()=>en,_T:()=>Ee,fM:()=>Pe,gn:()=>Ie,mG:()=>Me,qq:()=>gt,w6:()=>ue})},7340:(Jt,Ze,U)=>{U.d(Ze,{F4:()=>he,IO:()=>Ke,LC:()=>F,SB:()=>Ue,X$:()=>Ee,ZE:()=>Kt,ZN:()=>st,_j:()=>m,eR:()=>fe,jt:()=>Ie,k1:()=>en,l3:()=>ae,oB:()=>Me,pV:()=>Ge,vP:()=>ue});class m{}class F{}const ae="*";function Ee(Be,Se){return{type:7,name:Be,definitions:Se,options:{}}}function Ie(Be,Se=null){return{type:4,styles:Se,timings:Be}}function ue(Be,Se=null){return{type:2,steps:Be,options:Se}}function Me(Be){return{type:6,styles:Be,offset:null}}function Ue(Be,Se,Je){return{type:0,name:Be,styles:Se,options:Je}}function he(Be){return{type:5,steps:Be}}function fe(Be,Se,Je=null){return{type:1,expr:Be,animation:Se,options:Je}}function Ge(Be=null){return{type:9,options:Be}}function Ke(Be,Se,Je=null){return{type:11,selector:Be,animation:Se,options:Je}}function gt(Be){Promise.resolve().then(Be)}class st{constructor(Se=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const Je="start"==Se?this._onStartFns:this._onDoneFns;Je.forEach(At=>At()),Je.length=0}}class Kt{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let Je=0,At=0,Oe=0;const ze=this.players.length;0==ze?gt(()=>this._onFinish()):this.players.forEach(at=>{at.onDone(()=>{++Je==ze&&this._onFinish()}),at.onDestroy(()=>{++At==ze&&this._onDestroy()}),at.onStart(()=>{++Oe==ze&&this._onStart()})}),this.totalTime=this.players.reduce((at,Re)=>Math.max(at,Re.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const Je=Se*this.totalTime;this.players.forEach(At=>{const Oe=At.totalTime?Math.min(1,Je/At.totalTime):1;At.setPosition(Oe)})}getPosition(){const Se=this.players.reduce((Je,At)=>null===Je||At.totalTime>Je.totalTime?At:Je,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const Je="start"==Se?this._onStartFns:this._onDoneFns;Je.forEach(At=>At()),Je.length=0}}const en="!"},6895:(Jt,Ze,U)=>{U.d(Ze,{Do:()=>en,ED:()=>hr,EM:()=>fs,H9:()=>Zi,HT:()=>Ie,JF:()=>Ks,JJ:()=>ds,K0:()=>ue,Mx:()=>Ri,NF:()=>Ti,Nd:()=>bs,O5:()=>$e,Ov:()=>Xs,PC:()=>Ki,RF:()=>xn,S$:()=>gt,Ts:()=>Js,V_:()=>he,Ye:()=>Be,b0:()=>Kt,bD:()=>Gi,ez:()=>Ws,mk:()=>ur,n9:()=>kr,q:()=>ae,sg:()=>ni,tP:()=>Ui,uU:()=>Fs,w_:()=>Pe});var m=U(4650);let F=null;function ae(){return F}function Ie(A){F||(F=A)}class Pe{}const ue=new m.OlP("DocumentToken");let Me=(()=>{class A{historyGo(R){throw new Error("Not implemented")}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275prov=m.Yz7({token:A,factory:function(){return function Ue(){return(0,m.LFG)(fe)}()},providedIn:"platform"}),A})();const he=new m.OlP("Location Initialized");let fe=(()=>{class A extends Me{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(R){const q=ae().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",R,!1),()=>q.removeEventListener("popstate",R)}onHashChange(R){const q=ae().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",R,!1),()=>q.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,q,ye){be()?this._history.pushState(R,q,ye):this.location.hash=ye}replaceState(R,q,ye){be()?this._history.replaceState(R,q,ye):this.location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return A.\u0275fac=function(R){return new(R||A)(m.LFG(ue))},A.\u0275prov=m.Yz7({token:A,factory:function(){return function Ge(){return new fe((0,m.LFG)(ue))}()},providedIn:"platform"}),A})();function be(){return!!window.history.pushState}function Te(A,$){if(0==A.length)return $;if(0==$.length)return A;let R=0;return A.endsWith("/")&&R++,$.startsWith("/")&&R++,2==R?A+$.substring(1):1==R?A+$:A+"/"+$}function Ke(A){const $=A.match(/#|\?|$/),R=$&&$.index||A.length;return A.slice(0,R-("/"===A[R-1]?1:0))+A.slice(R)}function He(A){return A&&"?"!==A[0]?"?"+A:A}let gt=(()=>{class A{historyGo(R){throw new Error("Not implemented")}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275prov=m.Yz7({token:A,factory:function(){return(0,m.f3M)(Kt)},providedIn:"root"}),A})();const st=new m.OlP("appBaseHref");let Kt=(()=>{class A extends gt{constructor(R,q){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Te(this._baseHref,R)}path(R=!1){const q=this._platformLocation.pathname+He(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&R?`${q}${ye}`:q}pushState(R,q,ye,rt){const pt=this.prepareExternalUrl(ye+He(rt));this._platformLocation.pushState(R,q,pt)}replaceState(R,q,ye,rt){const pt=this.prepareExternalUrl(ye+He(rt));this._platformLocation.replaceState(R,q,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return A.\u0275fac=function(R){return new(R||A)(m.LFG(Me),m.LFG(st,8))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),en=(()=>{class A extends gt{constructor(R,q){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(R){const q=Te(this._baseHref,R);return q.length>0?"#"+q:q}pushState(R,q,ye,rt){let pt=this.prepareExternalUrl(ye+He(rt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(R,q,pt)}replaceState(R,q,ye,rt){let pt=this.prepareExternalUrl(ye+He(rt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(R,q,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return A.\u0275fac=function(R){return new(R||A)(m.LFG(Me),m.LFG(st,8))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})(),Be=(()=>{class A{constructor(R){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const q=this._locationStrategy.getBaseHref();this._baseHref=Ke(At(q)),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,q=""){return this.path()==this.normalize(R+He(q))}normalize(R){return A.stripTrailingSlash(function Je(A,$){return A&&$.startsWith(A)?$.substring(A.length):$}(this._baseHref,At(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,q="",ye=null){this._locationStrategy.pushState(ye,"",R,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+He(q)),ye)}replaceState(R,q="",ye=null){this._locationStrategy.replaceState(ye,"",R,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+He(q)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",q){this._urlChangeListeners.forEach(ye=>ye(R,q))}subscribe(R,q,ye){return this._subject.subscribe({next:R,error:q,complete:ye})}}return A.normalizeQueryParams=He,A.joinWithSlash=Te,A.stripTrailingSlash=Ke,A.\u0275fac=function(R){return new(R||A)(m.LFG(gt))},A.\u0275prov=m.Yz7({token:A,factory:function(){return function Se(){return new Be((0,m.LFG)(gt))}()},providedIn:"root"}),A})();function At(A){return A.replace(/\/index.html$/,"")}const Oe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Percent=1]="Percent",ze[ze.Currency=2]="Currency",ze[ze.Scientific=3]="Scientific",ze))(),Re=(()=>((Re=Re||{})[Re.Format=0]="Format",Re[Re.Standalone=1]="Standalone",Re))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.Medium=1]="Medium",nt[nt.Long=2]="Long",nt[nt.Full=3]="Full",nt))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function Zn(A,$){return Bt((0,m.cg1)(A)[m.wAp.DateFormat],$)}function zn(A,$){return Bt((0,m.cg1)(A)[m.wAp.TimeFormat],$)}function Fn(A,$){return Bt((0,m.cg1)(A)[m.wAp.DateTimeFormat],$)}function ln(A,$){const R=(0,m.cg1)(A),q=R[m.wAp.NumberSymbols][$];if(typeof q>"u"){if($===Ve.CurrencyDecimal)return R[m.wAp.NumberSymbols][Ve.Decimal];if($===Ve.CurrencyGroup)return R[m.wAp.NumberSymbols][Ve.Group]}return q}function on(A,$){return(0,m.cg1)(A)[m.wAp.NumberFormats][$]}function Rn(A){if(!A[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bt(A,$){for(let R=$;R>-1;R--)if(typeof A[R]<"u")return A[R];throw new Error("Locale data API: locale data undefined")}function vn(A){const[$,R]=A.split(":");return{hours:+$,minutes:+R}}const ti=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fr={},or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wn=(()=>((Wn=Wn||{})[Wn.Short=0]="Short",Wn[Wn.ShortGMT=1]="ShortGMT",Wn[Wn.Long=2]="Long",Wn[Wn.Extended=3]="Extended",Wn))(),rn=(()=>((rn=rn||{})[rn.FullYear=0]="FullYear",rn[rn.Month=1]="Month",rn[rn.Date=2]="Date",rn[rn.Hours=3]="Hours",rn[rn.Minutes=4]="Minutes",rn[rn.Seconds=5]="Seconds",rn[rn.FractionalSeconds=6]="FractionalSeconds",rn[rn.Day=7]="Day",rn))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function gn(A,$,R,q){let ye=function We(A){if(Vt(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[ye,rt=1,pt=1]=A.split("-").map(dn=>+dn);return dr(ye,rt-1,pt)}const R=parseFloat(A);if(!isNaN(A-R))return new Date(R);let q;if(q=A.match(ti))return function ut(A){const $=new Date(0);let R=0,q=0;const ye=A[8]?$.setUTCFullYear:$.setFullYear,rt=A[8]?$.setUTCHours:$.setHours;A[9]&&(R=Number(A[9]+A[10]),q=Number(A[9]+A[11])),ye.call($,Number(A[1]),Number(A[2])-1,Number(A[3]));const pt=Number(A[4]||0)-R,dn=Number(A[5]||0)-q,Xn=Number(A[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return rt.call($,pt,dn,Xn,Nr),$}(q)}const $=new Date(A);if(!Vt($))throw new Error(`Unable to convert "${A}" into a date`);return $}(A);$=pr(R,$)||$;let dn,pt=[];for(;$;){if(dn=or.exec($),!dn){pt.push($);break}{pt=pt.concat(dn.slice(1));const Kr=pt.pop();if(!Kr)break;$=Kr}}let Xn=ye.getTimezoneOffset();q&&(Xn=K(q,Xn),ye=function se(A,$,R){const q=R?-1:1,ye=A.getTimezoneOffset();return function ge(A,$){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+$),A}(A,q*(K($,ye)-ye))}(ye,q,!0));let Nr="";return pt.forEach(Kr=>{const Er=function ce(A){if(pe[A])return pe[A];let $;switch(A){case"G":case"GG":case"GGG":$=Un(Ht.Eras,Le.Abbreviated);break;case"GGGG":$=Un(Ht.Eras,Le.Wide);break;case"GGGGG":$=Un(Ht.Eras,Le.Narrow);break;case"y":$=qn(rn.FullYear,1,0,!1,!0);break;case"yy":$=qn(rn.FullYear,2,0,!0,!0);break;case"yyy":$=qn(rn.FullYear,3,0,!1,!0);break;case"yyyy":$=qn(rn.FullYear,4,0,!1,!0);break;case"Y":$=An(1);break;case"YY":$=An(2,!0);break;case"YYY":$=An(3);break;case"YYYY":$=An(4);break;case"M":case"L":$=qn(rn.Month,1,1);break;case"MM":case"LL":$=qn(rn.Month,2,1);break;case"MMM":$=Un(Ht.Months,Le.Abbreviated);break;case"MMMM":$=Un(Ht.Months,Le.Wide);break;case"MMMMM":$=Un(Ht.Months,Le.Narrow);break;case"LLL":$=Un(Ht.Months,Le.Abbreviated,Re.Standalone);break;case"LLLL":$=Un(Ht.Months,Le.Wide,Re.Standalone);break;case"LLLLL":$=Un(Ht.Months,Le.Narrow,Re.Standalone);break;case"w":$=$t(1);break;case"ww":$=$t(2);break;case"W":$=$t(1,!0);break;case"d":$=qn(rn.Date,1);break;case"dd":$=qn(rn.Date,2);break;case"c":case"cc":$=qn(rn.Day,1);break;case"ccc":$=Un(Ht.Days,Le.Abbreviated,Re.Standalone);break;case"cccc":$=Un(Ht.Days,Le.Wide,Re.Standalone);break;case"ccccc":$=Un(Ht.Days,Le.Narrow,Re.Standalone);break;case"cccccc":$=Un(Ht.Days,Le.Short,Re.Standalone);break;case"E":case"EE":case"EEE":$=Un(Ht.Days,Le.Abbreviated);break;case"EEEE":$=Un(Ht.Days,Le.Wide);break;case"EEEEE":$=Un(Ht.Days,Le.Narrow);break;case"EEEEEE":$=Un(Ht.Days,Le.Short);break;case"a":case"aa":case"aaa":$=Un(Ht.DayPeriods,Le.Abbreviated);break;case"aaaa":$=Un(Ht.DayPeriods,Le.Wide);break;case"aaaaa":$=Un(Ht.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":$=Un(Ht.DayPeriods,Le.Abbreviated,Re.Standalone,!0);break;case"bbbb":$=Un(Ht.DayPeriods,Le.Wide,Re.Standalone,!0);break;case"bbbbb":$=Un(Ht.DayPeriods,Le.Narrow,Re.Standalone,!0);break;case"B":case"BB":case"BBB":$=Un(Ht.DayPeriods,Le.Abbreviated,Re.Format,!0);break;case"BBBB":$=Un(Ht.DayPeriods,Le.Wide,Re.Format,!0);break;case"BBBBB":$=Un(Ht.DayPeriods,Le.Narrow,Re.Format,!0);break;case"h":$=qn(rn.Hours,1,-12);break;case"hh":$=qn(rn.Hours,2,-12);break;case"H":$=qn(rn.Hours,1);break;case"HH":$=qn(rn.Hours,2);break;case"m":$=qn(rn.Minutes,1);break;case"mm":$=qn(rn.Minutes,2);break;case"s":$=qn(rn.Seconds,1);break;case"ss":$=qn(rn.Seconds,2);break;case"S":$=qn(rn.FractionalSeconds,1);break;case"SS":$=qn(rn.FractionalSeconds,2);break;case"SSS":$=qn(rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":$=Dr(Wn.Short);break;case"ZZZZZ":$=Dr(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":$=Dr(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":$=Dr(Wn.Long);break;default:return null}return pe[A]=$,$}(Kr);Nr+=Er?Er(ye,R,Xn):"''"===Kr?"'":Kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function dr(A,$,R){const q=new Date(0);return q.setFullYear(A,$,R),q.setHours(0,0,0),q}function pr(A,$){const R=function ct(A){return(0,m.cg1)(A)[m.wAp.LocaleId]}(A);if(fr[R]=fr[R]||{},fr[R][$])return fr[R][$];let q="";switch($){case"shortDate":q=Zn(A,nt.Short);break;case"mediumDate":q=Zn(A,nt.Medium);break;case"longDate":q=Zn(A,nt.Long);break;case"fullDate":q=Zn(A,nt.Full);break;case"shortTime":q=zn(A,nt.Short);break;case"mediumTime":q=zn(A,nt.Medium);break;case"longTime":q=zn(A,nt.Long);break;case"fullTime":q=zn(A,nt.Full);break;case"short":const ye=pr(A,"shortTime"),rt=pr(A,"shortDate");q=wr(Fn(A,nt.Short),[ye,rt]);break;case"medium":const pt=pr(A,"mediumTime"),dn=pr(A,"mediumDate");q=wr(Fn(A,nt.Medium),[pt,dn]);break;case"long":const Xn=pr(A,"longTime"),Nr=pr(A,"longDate");q=wr(Fn(A,nt.Long),[Xn,Nr]);break;case"full":const Kr=pr(A,"fullTime"),Er=pr(A,"fullDate");q=wr(Fn(A,nt.Full),[Kr,Er])}return q&&(fr[R][$]=q),q}function wr(A,$){return $&&(A=A.replace(/\{([^}]+)}/g,function(R,q){return null!=$&&q in $?$[q]:R})),A}function Tt(A,$,R="-",q,ye){let rt="";(A<0||ye&&A<=0)&&(ye?A=1-A:(A=-A,rt=R));let pt=String(A);for(;pt.length<$;)pt="0"+pt;return q&&(pt=pt.slice(pt.length-$)),rt+pt}function qn(A,$,R=0,q=!1,ye=!1){return function(rt,pt){let dn=function Ur(A,$){switch(A){case rn.FullYear:return $.getFullYear();case rn.Month:return $.getMonth();case rn.Date:return $.getDate();case rn.Hours:return $.getHours();case rn.Minutes:return $.getMinutes();case rn.Seconds:return $.getSeconds();case rn.FractionalSeconds:return $.getMilliseconds();case rn.Day:return $.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,rt);if((R>0||dn>-R)&&(dn+=R),A===rn.Hours)0===dn&&-12===R&&(dn=12);else if(A===rn.FractionalSeconds)return function _r(A,$){return Tt(A,3).substring(0,$)}(dn,$);const Xn=ln(pt,Ve.MinusSign);return Tt(dn,$,Xn,q,ye)}}function Un(A,$,R=Re.Format,q=!1){return function(ye,rt){return function tr(A,$,R,q,ye,rt){switch(R){case Ht.Months:return function _n(A,$,R){const q=(0,m.cg1)(A),rt=Bt([q[m.wAp.MonthsFormat],q[m.wAp.MonthsStandalone]],$);return Bt(rt,R)}($,ye,q)[A.getMonth()];case Ht.Days:return function Bn(A,$,R){const q=(0,m.cg1)(A),rt=Bt([q[m.wAp.DaysFormat],q[m.wAp.DaysStandalone]],$);return Bt(rt,R)}($,ye,q)[A.getDay()];case Ht.DayPeriods:const pt=A.getHours(),dn=A.getMinutes();if(rt){const Nr=function sr(A){const $=(0,m.cg1)(A);return Rn($),($[m.wAp.ExtraData][2]||[]).map(q=>"string"==typeof q?vn(q):[vn(q[0]),vn(q[1])])}($),Kr=function Vr(A,$,R){const q=(0,m.cg1)(A);Rn(q);const rt=Bt([q[m.wAp.ExtraData][0],q[m.wAp.ExtraData][1]],$)||[];return Bt(rt,R)||[]}($,ye,q),Er=Nr.findIndex(Wi=>{if(Array.isArray(Wi)){const[Yr,Si]=Wi,As=pt>=Yr.hours&&dn>=Yr.minutes,eo=pt<Si.hours||pt===Si.hours&&dn<Si.minutes;if(Yr.hours<Si.hours){if(As&&eo)return!0}else if(As||eo)return!0}else if(Wi.hours===pt&&Wi.minutes===dn)return!0;return!1});if(-1!==Er)return Kr[Er]}return function qt(A,$,R){const q=(0,m.cg1)(A),rt=Bt([q[m.wAp.DayPeriodsFormat],q[m.wAp.DayPeriodsStandalone]],$);return Bt(rt,R)}($,ye,q)[pt<12?0:1];case Ht.Eras:return function bt(A,$){return Bt((0,m.cg1)(A)[m.wAp.Eras],$)}($,q)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(ye,rt,A,$,R,q)}}function Dr(A){return function($,R,q){const ye=-1*q,rt=ln(R,Ve.MinusSign),pt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(A){case Wn.Short:return(ye>=0?"+":"")+Tt(pt,2,rt)+Tt(Math.abs(ye%60),2,rt);case Wn.ShortGMT:return"GMT"+(ye>=0?"+":"")+Tt(pt,1,rt);case Wn.Long:return"GMT"+(ye>=0?"+":"")+Tt(pt,2,rt)+":"+Tt(Math.abs(ye%60),2,rt);case Wn.Extended:return 0===q?"Z":(ye>=0?"+":"")+Tt(pt,2,rt)+":"+Tt(Math.abs(ye%60),2,rt);default:throw new Error(`Unknown zone width "${A}"`)}}}function cn(A){return dr(A.getFullYear(),A.getMonth(),A.getDate()+(4-A.getDay()))}function $t(A,$=!1){return function(R,q){let ye;if($){const rt=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,pt=R.getDate();ye=1+Math.floor((pt+rt)/7)}else{const rt=cn(R),pt=function Ct(A){const $=dr(A,0,1).getDay();return dr(A,0,1+($<=4?4:11)-$)}(rt.getFullYear()),dn=rt.getTime()-pt.getTime();ye=1+Math.round(dn/6048e5)}return Tt(ye,A,ln(q,Ve.MinusSign))}}function An(A,$=!1){return function(R,q){return Tt(cn(R).getFullYear(),A,ln(q,Ve.MinusSign),$)}}const pe={};function K(A,$){A=A.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(R)?$:R}function Vt(A){return A instanceof Date&&!isNaN(A.valueOf())}const Yt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,X="0";function Cn(A,$,R,q,ye,rt,pt=!1){let dn="",Xn=!1;if(isFinite(A)){let Nr=function wt(A){let q,ye,rt,pt,dn,$=Math.abs(A)+"",R=0;for((ye=$.indexOf("."))>-1&&($=$.replace(".","")),(rt=$.search(/e/i))>0?(ye<0&&(ye=rt),ye+=+$.slice(rt+1),$=$.substring(0,rt)):ye<0&&(ye=$.length),rt=0;$.charAt(rt)===X;rt++);if(rt===(dn=$.length))q=[0],ye=1;else{for(dn--;$.charAt(dn)===X;)dn--;for(ye-=rt,q=[],pt=0;rt<=dn;rt++,pt++)q[pt]=Number($.charAt(rt))}return ye>22&&(q=q.splice(0,21),R=ye-1,ye=1),{digits:q,exponent:R,integerLen:ye}}(A);pt&&(Nr=function tt(A){if(0===A.digits[0])return A;const $=A.digits.length-A.integerLen;return A.exponent?A.exponent+=2:(0===$?A.digits.push(0,0):1===$&&A.digits.push(0),A.integerLen+=2),A}(Nr));let Kr=$.minInt,Er=$.minFrac,Wi=$.maxFrac;if(rt){const oo=rt.match(Yt);if(null===oo)throw new Error(`${rt} is not a valid digit info`);const Bi=oo[1],Ms=oo[3],zo=oo[5];null!=Bi&&(Kr=Pn(Bi)),null!=Ms&&(Er=Pn(Ms)),null!=zo?Wi=Pn(zo):null!=Ms&&Er>Wi&&(Wi=Er)}!function Qt(A,$,R){if($>R)throw new Error(`The minimum number of digits after fraction (${$}) is higher than the maximum (${R}).`);let q=A.digits,ye=q.length-A.integerLen;const rt=Math.min(Math.max($,ye),R);let pt=rt+A.integerLen,dn=q[pt];if(pt>0){q.splice(Math.max(A.integerLen,pt));for(let Er=pt;Er<q.length;Er++)q[Er]=0}else{ye=Math.max(0,ye),A.integerLen=1,q.length=Math.max(1,pt=rt+1),q[0]=0;for(let Er=1;Er<pt;Er++)q[Er]=0}if(dn>=5)if(pt-1<0){for(let Er=0;Er>pt;Er--)q.unshift(0),A.integerLen++;q.unshift(1),A.integerLen++}else q[pt-1]++;for(;ye<Math.max(0,rt);ye++)q.push(0);let Xn=0!==rt;const Nr=$+A.integerLen,Kr=q.reduceRight(function(Er,Wi,Yr,Si){return Si[Yr]=(Wi+=Er)<10?Wi:Wi-10,Xn&&(0===Si[Yr]&&Yr>=Nr?Si.pop():Xn=!1),Wi>=10?1:0},0);Kr&&(q.unshift(Kr),A.integerLen++)}(Nr,Er,Wi);let Yr=Nr.digits,Si=Nr.integerLen;const As=Nr.exponent;let eo=[];for(Xn=Yr.every(oo=>!oo);Si<Kr;Si++)Yr.unshift(0);for(;Si<0;Si++)Yr.unshift(0);Si>0?eo=Yr.splice(Si,Yr.length):(eo=Yr,Yr=[0]);const to=[];for(Yr.length>=$.lgSize&&to.unshift(Yr.splice(-$.lgSize,Yr.length).join(""));Yr.length>$.gSize;)to.unshift(Yr.splice(-$.gSize,Yr.length).join(""));Yr.length&&to.unshift(Yr.join("")),dn=to.join(ln(R,q)),eo.length&&(dn+=ln(R,ye)+eo.join("")),As&&(dn+=ln(R,Ve.Exponential)+"+"+As)}else dn=ln(R,Ve.Infinity);return dn=A<0&&!Xn?$.negPre+dn+$.negSuf:$.posPre+dn+$.posSuf,dn}function Fe(A,$="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},q=A.split(";"),ye=q[0],rt=q[1],pt=-1!==ye.indexOf(".")?ye.split("."):[ye.substring(0,ye.lastIndexOf(X)+1),ye.substring(ye.lastIndexOf(X)+1)],dn=pt[0],Xn=pt[1]||"";R.posPre=dn.substring(0,dn.indexOf("#"));for(let Kr=0;Kr<Xn.length;Kr++){const Er=Xn.charAt(Kr);Er===X?R.minFrac=R.maxFrac=Kr+1:"#"===Er?R.maxFrac=Kr+1:R.posSuf+=Er}const Nr=dn.split(",");if(R.gSize=Nr[1]?Nr[1].length:0,R.lgSize=Nr[2]||Nr[1]?(Nr[2]||Nr[1]).length:0,rt){const Kr=ye.length-R.posPre.length-R.posSuf.length,Er=rt.indexOf("#");R.negPre=rt.substring(0,Er).replace(/'/g,""),R.negSuf=rt.slice(Er+Kr).replace(/'/g,"")}else R.negPre=$+R.posPre,R.negSuf=R.posSuf;return R}function Pn(A){const $=parseInt(A);if(isNaN($))throw new Error("Invalid integer literal when parsing "+A);return $}function Ri(A,$){$=encodeURIComponent($);for(const R of A.split(";")){const q=R.indexOf("="),[ye,rt]=-1==q?[R,""]:[R.slice(0,q),R.slice(q+1)];if(ye.trim()===$)return decodeURIComponent(rt)}return null}let ur=(()=>{class A{constructor(R,q,ye,rt){this._iterableDiffers=R,this._keyValueDiffers=q,this._ngEl=ye,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(q=>this._toggleClass(q.key,q.currentValue)),R.forEachChangedItem(q=>this._toggleClass(q.key,q.currentValue)),R.forEachRemovedItem(q=>{q.previousValue&&this._toggleClass(q.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(q=>{if("string"!=typeof q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(q.item)}`);this._toggleClass(q.item,!0)}),R.forEachRemovedItem(q=>this._toggleClass(q.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(q=>this._toggleClass(q,!0)):Object.keys(R).forEach(q=>this._toggleClass(q,!!R[q])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(q=>this._toggleClass(q,!1)):Object.keys(R).forEach(q=>this._toggleClass(q,!1)))}_toggleClass(R,q){(R=R.trim())&&R.split(/\s+/g).forEach(ye=>{q?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class Pi{constructor($,R,q,ye){this.$implicit=$,this.ngForOf=R,this.index=q,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class A{constructor(R,q,ye){this._viewContainer=R,this._template=q,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const q=this._viewContainer;R.forEachOperation((ye,rt,pt)=>{if(null==ye.previousIndex)q.createEmbeddedView(this._template,new Pi(ye.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)q.remove(null===rt?void 0:rt);else if(null!==rt){const dn=q.get(rt);q.move(dn,pt),ke(dn,ye)}});for(let ye=0,rt=q.length;ye<rt;ye++){const dn=q.get(ye).context;dn.index=ye,dn.count=rt,dn.ngForOf=this._ngForOf}R.forEachIdentityChange(ye=>{ke(q.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(R,q){return!0}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function ke(A,$){A.context.$implicit=$.item}let $e=(()=>{class A{constructor(R,q){this._viewContainer=R,this._context=new ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){yt("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){yt("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,q){return!0}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.s_b),m.Y36(m.Rgc))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class ht{constructor(){this.$implicit=null,this.ngIf=null}}function yt(A,$){if($&&!$.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,m.AaK)($)}'.`)}class tn{constructor($,R){this._viewContainerRef=$,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState($){$&&!this._created?this.create():!$&&this._created&&this.destroy()}}let xn=(()=>{class A{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const q=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let q=0;q<this._defaultViews.length;q++)this._defaultViews[q].enforceState(R)}}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275dir=m.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),A})(),kr=(()=>{class A{constructor(R,q,ye){this.ngSwitch=ye,ye._addCase(),this._view=new tn(R,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(xn,9))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),A})(),hr=(()=>{class A{constructor(R,q,ye){ye._addDefault(new tn(R,q))}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(xn,9))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngSwitchDefault",""]],standalone:!0}),A})(),Ki=(()=>{class A{constructor(R,q,ye){this._ngEl=R,this._differs=q,this._renderer=ye,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,q){const[ye,rt]=R.split("."),pt=-1===ye.indexOf("-")?void 0:m.JOm.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,ye,rt?`${q}${rt}`:q,pt):this._renderer.removeStyle(this._ngEl.nativeElement,ye,pt)}_applyChanges(R){R.forEachRemovedItem(q=>this._setStyle(q.key,null)),R.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),R.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),A})(),Ui=(()=>{class A{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(R.ngTemplateOutlet||R.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:rt,ngTemplateOutletInjector:pt}=this;this._viewRef=q.createEmbeddedView(ye,rt,pt?{injector:pt}:void 0)}else this._viewRef=null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.s_b))},A.\u0275dir=m.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),A})();function ki(A,$){return new m.vHH(2100,!1)}class Vo{createSubscription($,R){return $.subscribe({next:R,error:q=>{throw q}})}dispose($){$.unsubscribe()}}class Ns{createSubscription($,R){return $.then(R,q=>{throw q})}dispose($){}}const Ds=new Ns,Is=new Vo;let Xs=(()=>{class A{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,q=>this._updateLatestValue(R,q))}_selectStrategy(R){if((0,m.QGY)(R))return Ds;if((0,m.F4k)(R))return Is;throw ki()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,q){R===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.sBO,16))},A.\u0275pipe=m.Yjl({name:"async",type:A,pure:!1,standalone:!0}),A})();const rs=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Fs=(()=>{class A{constructor(R,q){this.locale=R,this.defaultTimezone=q}transform(R,q="mediumDate",ye,rt){if(null==R||""===R||R!=R)return null;try{return gn(R,q,rt||this.locale,ye??this.defaultTimezone??void 0)}catch(pt){throw ki()}}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.soG,16),m.Y36(rs,24))},A.\u0275pipe=m.Yjl({name:"date",type:A,pure:!0,standalone:!0}),A})(),Js=(()=>{class A{transform(R){return JSON.stringify(R,null,2)}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275pipe=m.Yjl({name:"json",type:A,pure:!1,standalone:!0}),A})(),bs=(()=>{class A{constructor(R){this.differs=R,this.keyValues=[],this.compareFn=si}transform(R,q=si){if(!R||!(R instanceof Map)&&"object"!=typeof R)return null;this.differ||(this.differ=this.differs.find(R).create());const ye=this.differ.diff(R),rt=q!==this.compareFn;return ye&&(this.keyValues=[],ye.forEachItem(pt=>{this.keyValues.push(function mo(A,$){return{key:A,value:$}}(pt.key,pt.currentValue))})),(ye||rt)&&(this.keyValues.sort(q),this.compareFn=q),this.keyValues}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.aQg,16))},A.\u0275pipe=m.Yjl({name:"keyvalue",type:A,pure:!1,standalone:!0}),A})();function si(A,$){const R=A.key,q=$.key;if(R===q)return 0;if(void 0===R)return 1;if(void 0===q)return-1;if(null===R)return 1;if(null===q)return-1;if("string"==typeof R&&"string"==typeof q)return R<q?-1:1;if("number"==typeof R&&"number"==typeof q)return R-q;if("boolean"==typeof R&&"boolean"==typeof q)return R<q?-1:1;const ye=String(R),rt=String(q);return ye==rt?0:ye<rt?-1:1}let ds=(()=>{class A{constructor(R){this._locale=R}transform(R,q,ye){if(!Vs(R))return null;ye=ye||this._locale;try{return function an(A,$,R){return Cn(A,Fe(on($,ze.Decimal),ln($,Ve.MinusSign)),$,Ve.Group,Ve.Decimal,R)}(hs(R),ye,q)}catch(rt){throw ki()}}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.soG,16))},A.\u0275pipe=m.Yjl({name:"number",type:A,pure:!0,standalone:!0}),A})(),Zi=(()=>{class A{constructor(R,q="USD"){this._locale=R,this._defaultCurrencyCode=q}transform(R,q=this._defaultCurrencyCode,ye="symbol",rt,pt){if(!Vs(R))return null;pt=pt||this._locale,"boolean"==typeof ye&&(ye=ye?"symbol":"code");let dn=q||this._defaultCurrencyCode;"code"!==ye&&(dn="symbol"===ye||"symbol-narrow"===ye?function Hr(A,$,R="en"){const q=function lr(A){return(0,m.cg1)(A)[m.wAp.Currencies]}(R)[A]||Oe[A]||[],ye=q[1];return"narrow"===$&&"string"==typeof ye?ye:q[0]||A}(dn,"symbol"===ye?"wide":"narrow",pt):ye);try{return function Mr(A,$,R,q,ye){const pt=Fe(on($,ze.Currency),ln($,Ve.MinusSign));return pt.minFrac=function Cr(A){let $;const R=Oe[A];return R&&($=R[2]),"number"==typeof $?$:2}(q),pt.maxFrac=pt.minFrac,Cn(A,pt,$,Ve.CurrencyGroup,Ve.CurrencyDecimal,ye).replace("\xa4",R).replace("\xa4","").trim()}(hs(R),pt,dn,q,rt)}catch(Xn){throw ki()}}}return A.\u0275fac=function(R){return new(R||A)(m.Y36(m.soG,16),m.Y36(m.EJc,16))},A.\u0275pipe=m.Yjl({name:"currency",type:A,pure:!0,standalone:!0}),A})();function Vs(A){return!(null==A||""===A||A!=A)}function hs(A){if("string"==typeof A&&!isNaN(Number(A)-parseFloat(A)))return Number(A);if("number"!=typeof A)throw new Error(`${A} is not a number`);return A}let Ws=(()=>{class A{}return A.\u0275fac=function(R){return new(R||A)},A.\u0275mod=m.oAB({type:A}),A.\u0275inj=m.cJS({}),A})();const Gi="browser";function Ti(A){return A===Gi}let fs=(()=>{class A{}return A.\u0275prov=(0,m.Yz7)({token:A,providedIn:"root",factory:()=>new so((0,m.LFG)(ue),window)}),A})();class so{constructor($,R){this.document=$,this.window=R,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const R=function oi(A,$){const R=A.getElementById($)||A.getElementsByName($)[0];if(R)return R;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const q=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ye=q.currentNode;for(;ye;){const rt=ye.shadowRoot;if(rt){const pt=rt.getElementById($)||rt.querySelector(`[name="${$}"]`);if(pt)return pt}ye=q.nextNode()}}return null}(this.document,$);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=$)}}scrollToElement($){const R=$.getBoundingClientRect(),q=R.left+this.window.pageXOffset,ye=R.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(q-rt[0],ye-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=_i(this.window.history)||_i(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _i(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ks{}},4650:(Jt,Ze,U)=>{U.d(Ze,{$8M:()=>j,$Z:()=>Va,AFp:()=>V0,ALo:()=>s0,AaK:()=>Me,AsE:()=>ll,BQk:()=>sl,CHM:()=>Pr,CRH:()=>g0,CZH:()=>km,CqO:()=>gp,D6c:()=>OI,DdM:()=>YE,EJc:()=>YD,EiD:()=>Tu,EpF:()=>ol,F$t:()=>Ep,F4k:()=>Ql,FYo:()=>_g,FiY:()=>Sa,G48:()=>mI,Gf:()=>f0,GfV:()=>vg,GkF:()=>pp,Gpc:()=>fe,Gre:()=>w_,Hsn:()=>wp,Ikx:()=>Tm,JOm:()=>jo,JVY:()=>qm,Jf7:()=>Dg,KtG:()=>Yn,L6k:()=>Km,LAX:()=>Zm,LFG:()=>_s,LSH:()=>_c,Lbi:()=>zD,Lck:()=>jw,MAs:()=>Lu,MGl:()=>Xl,MMx:()=>ev,NdJ:()=>Jc,O4$:()=>dn,OlP:()=>Gt,Oqu:()=>ym,PXZ:()=>cI,Q6J:()=>Vu,QGY:()=>Xc,QP$:()=>Vt,QbO:()=>WD,Qsj:()=>uy,R0b:()=>Ha,RDi:()=>Zp,Rgc:()=>Op,SBq:()=>Ol,Sil:()=>QD,Suo:()=>p0,TTD:()=>Hi,TgZ:()=>Zl,Udp:()=>Ih,VKq:()=>ZE,WFA:()=>mp,WLB:()=>QE,X6Q:()=>gI,XFs:()=>Bt,Xpm:()=>qe,Xts:()=>Rd,Y36:()=>Au,YKP:()=>BE,YNc:()=>n_,Yjl:()=>ge,Yz7:()=>zn,Z0I:()=>Ar,ZZ4:()=>bv,_Bn:()=>UE,_UZ:()=>fp,_Vd:()=>La,_c5:()=>PI,_uU:()=>mm,aQg:()=>Tv,c2e:()=>qD,cJS:()=>ln,cg1:()=>Mp,d8E:()=>Cm,dDg:()=>oI,dqk:()=>gn,eBb:()=>Ym,eFA:()=>Q0,ekj:()=>bh,eoX:()=>K0,f3M:()=>Di,g9A:()=>B0,h0i:()=>Ph,hGG:()=>NI,hij:()=>Cp,iGM:()=>h0,ifc:()=>Ht,ip1:()=>L0,jDz:()=>jE,kEZ:()=>XE,kL8:()=>O_,kYT:()=>pe,kcU:()=>Nr,lG2:()=>K,lcZ:()=>o0,lqb:()=>Fa,lri:()=>W0,mCW:()=>Sd,n5z:()=>B,n_E:()=>xm,oAB:()=>An,oJD:()=>af,oxw:()=>vp,pB0:()=>Qm,q3G:()=>ts,q4F:()=>pf,qLn:()=>kl,qOj:()=>np,qZA:()=>Eh,qzn:()=>ru,rWj:()=>q0,s9C:()=>ed,sBO:()=>yI,sIi:()=>il,s_b:()=>Pm,soG:()=>Fm,tb:()=>$0,tp0:()=>Ka,uIk:()=>cp,vHH:()=>Ke,vpe:()=>Bu,wAp:()=>rr,xp6:()=>jd,ynx:()=>Qc,z2F:()=>Lm,z3N:()=>ka,zSh:()=>wc,zs3:()=>pa});var m=U(7579),F=U(727),ae=U(9751),Ee=U(6451),Ie=U(3099);function Pe(n){for(let r in n)if(n[r]===Pe)return r;throw Error("Could not find renamed property on target object.")}function ue(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ue(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const he=Pe({__forward_ref__:Pe});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Me(this())},n}function be(n){return Ge(n)?n():n}function Ge(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===fe}class Ke extends Error{constructor(r,s){super(function He(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function gt(n){return"string"==typeof n?n:null==n?"":String(n)}function Se(n,r){throw new Ke(-201,!1)}function _n(n,r){null==n&&function bt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function zn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function on(n){return Wr(n,Rn)||Wr(n,Vr)}function Ar(n){return null!==on(n)}function Wr(n,r){return n.hasOwnProperty(r)?n[r]:null}function $n(n){return n&&(n.hasOwnProperty(sr)||n.hasOwnProperty(Ir))?n[sr]:null}const Rn=Pe({\u0275prov:Pe}),sr=Pe({\u0275inj:Pe}),Vr=Pe({ngInjectableDef:Pe}),Ir=Pe({ngInjectorDef:Pe});var Bt=(()=>((Bt=Bt||{})[Bt.Default=0]="Default",Bt[Bt.Host=1]="Host",Bt[Bt.Self=2]="Self",Bt[Bt.SkipSelf=4]="SkipSelf",Bt[Bt.Optional=8]="Optional",Bt))();let vn;function cr(n){const r=vn;return vn=n,r}function Cr(n,r,s){const a=on(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Bt.Optional?null:void 0!==r?r:void Se(Me(n))}function fr(n){return{toString:n}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),Ht=(()=>{return(n=Ht||(Ht={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ht;var n})();const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wr={},Tt=[],_r=Pe({\u0275cmp:Pe}),qn=Pe({\u0275dir:Pe}),Ur=Pe({\u0275pipe:Pe}),Un=Pe({\u0275mod:Pe}),tr=Pe({\u0275fac:Pe}),Dr=Pe({__NG_ELEMENT_ID__:Pe});let Dt=0;function qe(n){return fr(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Tt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ht.Emulated,id:"c"+Dt++,styles:n.styles||Tt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.dependencies,_=n.features;return l.inputs=ce(n.inputs,a),l.outputs=ce(n.outputs),_&&_.forEach(T=>T(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(cn).filter($t):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(ut).filter($t):null,l})}function cn(n){return se(n)||We(n)}function $t(n){return null!==n}function An(n){return fr(()=>({type:n.type,bootstrap:n.bootstrap||Tt,declarations:n.declarations||Tt,imports:n.imports||Tt,exports:n.exports||Tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pe(n,r){return fr(()=>{const s=Yt(n,!0);s.declarations=r.declarations||Tt,s.imports=r.imports||Tt,s.exports=r.exports||Tt})}function ce(n,r){if(null==n)return wr;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const K=qe;function ge(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function se(n){return n[_r]||null}function We(n){return n[qn]||null}function ut(n){return n[Ur]||null}function Vt(n){const r=se(n)||We(n)||ut(n);return null!==r&&r.standalone}function Yt(n,r){const s=n[Un]||null;if(!s&&!0===r)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return s}function yt(n){return Array.isArray(n)&&"object"==typeof n[1]}function tn(n){return Array.isArray(n)&&!0===n[1]}function xn(n){return 0!=(8&n.flags)}function kr(n){return 2==(2&n.flags)}function hr(n){return 1==(1&n.flags)}function qr(n){return null!==n.template}function Ni(n){return 0!=(256&n[2])}function si(n,r){return n.hasOwnProperty(tr)?n[tr]:null}class ds{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Hi(){return Zi}function Zi(n){return n.type.prototype.ngOnChanges&&(n.setInput=hs),Vs}function Vs(){const n=Br(this),r=n?.current;if(r){const s=n.previous;if(s===wr)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function hs(n,r,s,a){const l=Br(n)||function Ws(n,r){return n[Ts]=r}(n,{previous:wr,current:null}),d=l.current||(l.current={}),_=l.previous,T=this.declaredInputs[s],x=_[T];d[T]=new ds(x&&x.currentValue,r,_===wr),n[a]=r}Hi.ngInherit=!0;const Ts="__ngSimpleChanges__";function Br(n){return n[Ts]||null}function Fr(n){for(;Array.isArray(n);)n=n[0];return n}function _i(n,r){return Fr(r[n])}function oi(n,r){return Fr(r[n.index])}function Ks(n,r){return n.data[r]}function ui(n,r){return n[r]}function vr(n,r){const s=r[n];return yt(s)?s:s[0]}function gs(n){return 64==(64&n[2])}function zi(n,r){return null==r?null:n[r]}function Cs(n){n[18]=0}function ii(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const jn={lFrame:js(null),bindingsEnabled:!0};function kt(){return jn.bindingsEnabled}function dt(){return jn.lFrame.lView}function fn(){return jn.lFrame.tView}function Pr(n){return jn.lFrame.contextLView=n,n[8]}function Yn(n){return jn.lFrame.contextLView=null,n}function Vn(){let n=k();for(;null!==n&&64===n.type;)n=n.parent;return n}function k(){return jn.lFrame.currentTNode}function f(n,r){const s=jn.lFrame;s.currentTNode=n,s.isParent=r}function I(){return jn.lFrame.isParent}function G(){jn.lFrame.isParent=!1}function Ft(){const n=jn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function mr(){return jn.lFrame.bindingIndex++}function Gr(n){const r=jn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function hi(n,r){const s=jn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Jr(r)}function Jr(n){jn.lFrame.currentDirectiveIndex=n}function $s(n){const r=jn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ji(){return jn.lFrame.currentQueryIndex}function fi(n){jn.lFrame.currentQueryIndex=n}function pi(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function _o(n,r,s){if(s&Bt.SkipSelf){let l=r,d=n;for(;!(l=l.parent,null!==l||s&Bt.Host||(l=pi(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,n=d}const a=jn.lFrame=bo();return a.currentTNode=r,a.lView=n,!0}function Ss(n){const r=bo(),s=n[1];jn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function bo(){const n=jn.lFrame,r=null===n?null:n.child;return null===r?js(n):r}function js(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function To(){const n=jn.lFrame;return jn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const A=To;function $(){const n=To();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ye(){return jn.lFrame.selectedIndex}function rt(n){jn.lFrame.selectedIndex=n}function pt(){const n=jn.lFrame;return Ks(n.tView,n.selectedIndex)}function dn(){jn.lFrame.currentNamespace="svg"}function Nr(){!function Kr(){jn.lFrame.currentNamespace=null}()}function Yr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:V,ngOnDestroy:Y}=d;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),V&&((n.viewHooks||(n.viewHooks=[])).push(s,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,V)),null!=Y&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Y)}}function Si(n,r,s){to(n,r,3,s)}function As(n,r,s,a){(3&n[2])===s&&to(n,r,s,a)}function eo(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function to(n,r,s,a){const d=a??-1,_=r.length-1;let T=0;for(let x=void 0!==a?65535&n[18]:0;x<_;x++)if("number"==typeof r[x+1]){if(T=r[x],null!=a&&T>=a)break}else r[x]<0&&(n[18]+=65536),(T<d||-1==d)&&(oo(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function oo(n,r,s,a){const l=s[a]<0,d=s[a+1],T=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(T)}finally{}}}else try{d.call(T)}finally{}}class Ms{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function uo(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const d=s[a++],_=s[a++],T=s[a++];n.setAttribute(r,_,T,d)}else{const d=l,_=s[++a];En(d)?n.setProperty(r,d,_):n.setAttribute(r,d,_),a++}}return a}function aa(n){return 3===n||4===n||6===n}function En(n){return 64===n.charCodeAt(0)}function wn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||$u(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function $u(n,r,s,a,l){let d=0,_=n.length;if(-1===r)_=-1;else for(;d<n.length;){const T=n[d++];if("number"==typeof T){if(T===r){_=-1;break}if(T>r){_=d-1;break}}}for(;d<n.length;){const T=n[d];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==l&&(n[d+1]=l));if(a===n[d+1])return void(n[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==_&&(n.splice(_,0,r),d=_+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==l&&n.splice(d++,0,l)}function sn(n){return-1!==n}function ot(n){return 32767&n}function li(n,r){let s=function xt(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ea=!0;function ua(n){const r=ea;return ea=n,r}let la=0;const Ys={};function Wo(n,r){const s=ta(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,ca(a.data,n),ca(r,null),ca(a.blueprint,null));const l=Gn(n,r),d=n.injectorIndex;if(sn(l)){const _=ot(l),T=li(l,r),x=T[1].data;for(let V=0;V<8;V++)r[d+V]=T[_+V]|x[_+V]}return r[d+8]=l,d}function ca(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ta(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Gn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=N(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function No(n,r,s){!function Ea(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Dr)&&(a=s[Dr]),null==a&&(a=s[Dr]=la++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function gi(n,r,s){if(s&Bt.Optional||void 0!==n)return n;Se()}function bn(n,r,s,a){if(s&Bt.Optional&&void 0===a&&(a=null),0==(s&(Bt.Self|Bt.Host))){const l=n[9],d=cr(void 0);try{return l?l.get(r,a,s&Bt.Optional):Cr(r,a,s&Bt.Optional)}finally{cr(d)}}return gi(a,0,s)}function Oo(n,r,s,a=Bt.Default,l){if(null!==n){if(1024&r[2]){const _=function E(n,r,s,a,l){let d=n,_=r;for(;null!==d&&null!==_&&1024&_[2]&&!(256&_[2]);){const T=$r(d,_,s,a|Bt.Self,Ys);if(T!==Ys)return T;let x=d.parent;if(!x){const V=_[21];if(V){const Y=V.get(s,Ys,a);if(Y!==Ys)return Y}x=N(_),_=_[15]}d=x}return l}(n,r,s,a,Ys);if(_!==Ys)return _}const d=$r(n,r,s,a,Ys);if(d!==Ys)return d}return bn(r,s,a,l)}function $r(n,r,s,a,l){const d=function wa(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Dr)?n[Dr]:void 0;return"number"==typeof r?r>=0?255&r:da:r}(s);if("function"==typeof d){if(!_o(r,n,a))return a&Bt.Host?gi(l,0,a):bn(r,s,a,l);try{const _=d(a);if(null!=_||a&Bt.Optional)return _;Se()}finally{A()}}else if("number"==typeof d){let _=null,T=ta(n,r),x=-1,V=a&Bt.Host?r[16][6]:null;for((-1===T||a&Bt.SkipSelf)&&(x=-1===T?Gn(n,r):r[T+8],-1!==x&&lo(a,!1)?(_=r[1],T=ot(x),r=li(x,r)):T=-1);-1!==T;){const Y=r[1];if(Bo(d,T,Y.data)){const oe=Wa(T,r,s,_,a,V);if(oe!==Ys)return oe}x=r[T+8],-1!==x&&lo(a,r[1].data[T+8]===V)&&Bo(d,T,r)?(_=Y,T=ot(x),r=li(x,r)):T=-1}}return l}function Wa(n,r,s,a,l,d){const _=r[1],T=_.data[n+8],Y=mi(T,_,s,null==a?kr(T)&&ea:a!=_&&0!=(3&T.type),l&Bt.Host&&d===T);return null!==Y?Rt(r,_,Y,T):Ys}function mi(n,r,s,a,l){const d=n.providerIndexes,_=r.data,T=1048575&d,x=n.directiveStart,Y=d>>20,xe=l?T+Y:n.directiveEnd;for(let Xe=a?T:T+Y;Xe<xe;Xe++){const Et=_[Xe];if(Xe<x&&s===Et||Xe>=x&&Et.type===s)return Xe}if(l){const Xe=_[x];if(Xe&&qr(Xe)&&Xe.type===s)return x}return null}function Rt(n,r,s,a){let l=n[s];const d=r.data;if(function zo(n){return n instanceof Ms}(l)){const _=l;_.resolving&&function Kt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${n}${s}`)}(function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():gt(n)}(d[s]));const T=ua(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?cr(_.injectImpl):null;_o(n,a,Bt.Default);try{l=n[s]=_.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Wi(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const _=Zi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==x&&cr(x),ua(T),_.resolving=!1,A()}}return l}function Bo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function lo(n,r){return!(n&Bt.Self||n&Bt.Host&&r)}class ko{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Oo(this._tNode,this._lView,r,a,s)}}function da(){return new ko(Vn(),dt())}function B(n){return fr(()=>{const r=n.prototype.constructor,s=r[tr]||y(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const d=l[tr]||y(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function y(n){return Ge(n)?()=>{const r=y(be(n));return r&&r()}:si(n)}function N(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function j(n){return function Uo(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(aa(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(Vn(),n)}const me="__parameters__";function ve(n,r,s){return fr(()=>{const a=function mt(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const _=new l(...d);return T.annotation=_,T;function T(x,V,Y){const oe=x.hasOwnProperty(me)?x[me]:Object.defineProperty(x,me,{value:[]})[me];for(;oe.length<=Y;)oe.push(null);return(oe[Y]=oe[Y]||[]).push(_),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Gt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wi(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),wi(a,r)):r!==n&&r.push(a)}return r}function Ao(n,r){n.forEach(s=>Array.isArray(s)?Ao(s,r):r(s))}function Ia(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function zt(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Sn(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function P(n,r,s){let a=le(n,r);return a>=0?n[1|a]=s:(a=~a,function w(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function W(n,r){const s=le(n,r);if(s>=0)return n[1|s]}function le(n,r){return function it(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const d=a+(l-a>>1),_=n[d<<s];if(r===_)return d<<s;_>r?l=d:a=d+1}return~(l<<s)}(n,r,1)}const Mo={},ha="__NG_DI_FLAG__",qa="ngTempTokenPath",rc=/\n/gm,ic="__source";let Fo;function Ta(n){const r=Fo;return Fo=n,r}function Fh(n,r=Bt.Default){if(void 0===Fo)throw new Ke(-203,!1);return null===Fo?Cr(n,void 0,r):Fo.get(n,r&Bt.Optional?null:void 0,r)}function _s(n,r=Bt.Default){return(function Hr(){return vn}()||Fh)(be(n),r)}function Di(n,r=Bt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),_s(n,r)}function Ca(n){const r=[];for(let s=0;s<n.length;s++){const a=be(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ke(900,!1);let l,d=Bt.Default;for(let _=0;_<a.length;_++){const T=a[_],x=Lh(T);"number"==typeof x?-1===x?l=T.token:d|=x:l=T}r.push(_s(l,d))}else r.push(_s(a))}return r}function fa(n,r){return n[ha]=r,n.prototype[ha]=r,n}function Lh(n){return n[ha]}const Sa=fa(ve("Optional"),8),Ka=fa(ve("SkipSelf"),4);var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();const Hu=new Map;let yd=0;const h="__ngContext__";function p(n,r){yt(r)?(n[h]=r[20],function Gh(n){Hu.set(n[20],n)}(r)):n[h]=r}function Gu(n,r){return undefined(n,r)}function Pa(n){const r=n[3];return tn(r)?r[3]:r}function Ja(n){return Es(n[13])}function Tl(n){return Es(n[4])}function Es(n){for(;null!==n&&!tn(n);)n=n[4];return n}function eu(n,r,s,a,l){if(null!=a){let d,_=!1;tn(a)?d=a:yt(a)&&(_=!0,a=a[0]);const T=Fr(a);0===n&&null!==s?null==l?qh(r,s,T):Du(r,s,T,l||null,!0):1===n&&null!==s?Du(r,s,T,l||null,!0):2===n?function zu(n,r,s){const a=gc(n,r);a&&function jm(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,T,_):3===n&&r.destroyNode(T),null!=d&&function zp(n,r,s,a,l){const d=s[7];d!==Fr(s)&&eu(r,n,a,d,l);for(let T=10;T<s.length;T++){const x=s[T];Wu(x[1],x,n,r,a,d)}}(r,n,d,s,l)}}function Ro(n,r,s){return n.createElement(r,s)}function Bp(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,ii(l,-1)),s.splice(a,1)}function zh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Bp(l,a),r>0&&(n[s-1][4]=a[4]);const d=zt(n,10+r);!function Lp(n,r){Wu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=d[19];null!==_&&_.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Or(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Wu(n,r,s,3,null,null),function Na(n){let r=n[13];if(!r)return Wh(n[1],n);for(;r;){let s=null;if(yt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)yt(r)&&Wh(r[1],r),r=r[3];null===r&&(r=n),yt(r)&&Wh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Wh(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function fc(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Ms)){const d=s[a+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const T=l[d[_]],x=d[_+1];try{x.call(T)}finally{}}else try{d.call(l)}finally{}}}}(n,r),function wd(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const _=s[d+1],T="function"==typeof _?_(r):Fr(r[_]),x=a[l=s[d+2]],V=s[d+3];"boolean"==typeof V?T.removeEventListener(s[d],x,V):V>=0?a[l=V]():a[l=-V].unsubscribe(),d+=2}else{const _=a[l=s[d+1]];s[d].call(_)}if(null!==a){for(let d=l+1;d<a.length;d++)(0,a[d])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&tn(r[3])){s!==r[3]&&Bp(s,r);const a=r[19];null!==a&&a.detachView(n)}!function vd(n){Hu.delete(n[20])}(r)}}function Cl(n,r,s){return function pc(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===Ht.None||l===Ht.Emulated)return null}return oi(a,s)}(n,r.parent,s)}function Du(n,r,s,a,l){n.insertBefore(r,s,a,l)}function qh(n,r,s){n.appendChild(r,s)}function Kh(n,r,s,a,l){null!==a?Du(n,r,s,a,l):qh(n,r,s)}function gc(n,r){return n.parentNode(r)}function $p(n,r,s){return Hp(n,r,s)}let Td,Xh,Cd,Hp=function jp(n,r,s){return 40&n.type?oi(n,s):null};function Dd(n,r,s,a){const l=Cl(n,a,r),d=r[11],T=$p(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)Kh(d,l,s[x],T,!1);else Kh(d,l,s,T,!1)}function us(n,r){if(null!==r){const s=r.type;if(3&s)return oi(r,n);if(4&s)return bd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return us(n,a);{const l=n[r.index];return tn(l)?bd(-1,l):Fr(l)}}if(32&s)return Gu(r,n)()||Fr(n[r.index]);{const a=Id(n,r);return null!==a?Array.isArray(a)?a[0]:us(Pa(n[16]),a):us(n,r.next)}}return null}function Id(n,r){return null!==r?n[16][6].projection[r.projection]:null}function bd(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return us(a,l)}return r[7]}function ra(n,r,s,a,l,d,_){for(;null!=s;){const T=a[s.index],x=s.type;if(_&&0===r&&(T&&p(Fr(T),a),s.flags|=4),64!=(64&s.flags))if(8&x)ra(n,r,s.child,a,l,d,!1),eu(r,n,l,T,d);else if(32&x){const V=Gu(s,a);let Y;for(;Y=V();)eu(r,n,l,Y,d);eu(r,n,l,T,d)}else 16&x?Sl(n,r,a,s,l,d):eu(r,n,l,T,d);s=_?s.projectionNext:s.next}}function Wu(n,r,s,a,l,d){ra(s,a,n.firstChild,r,l,d,!1)}function Sl(n,r,s,a,l,d){const _=s[16],x=_[6].projection[a.projection];if(Array.isArray(x))for(let V=0;V<x.length;V++)eu(r,n,l,x[V],d);else ra(n,r,x,_[3],l,d,!0)}function Zh(n,r,s){n.setAttribute(r,"style",s)}function Qh(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function nu(n){return function qu(){if(void 0===Td&&(Td=null,gn.trustedTypes))try{Td=gn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Td}()?.createHTML(n)||n}function Zp(n){Xh=n}function Ku(n){return function Jh(){if(void 0===Cd&&(Cd=null,gn.trustedTypes))try{Cd=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cd}()?.createHTML(n)||n}class Zu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xp extends Zu{getTypeName(){return"HTML"}}class Lo extends Zu{getTypeName(){return"Style"}}class Wm extends Zu{getTypeName(){return"Script"}}class Jp extends Zu{getTypeName(){return"URL"}}class Oa extends Zu{getTypeName(){return"ResourceURL"}}function ka(n){return n instanceof Zu?n.changingThisBreaksApplicationSecurity:n}function ru(n,r){const s=function eg(n){return n instanceof Zu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function qm(n){return new Xp(n)}function Km(n){return new Lo(n)}function Ym(n){return new Wm(n)}function Zm(n){return new Jp(n)}function Qm(n){return new Oa(n)}class Xm{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(nu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jm{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=nu(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=nu(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const _=s.item(l).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&r.removeAttribute(_)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ty=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Sd(n){return(n=String(n)).match(ty)?n:"unsafe:"+n}function iu(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function mc(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ng=iu("area,br,col,hr,img,wbr"),rg=iu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tf=iu("rp,rt"),nf=mc(ng,mc(rg,iu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mc(tf,iu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mc(tf,rg)),yc=iu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ad=mc(yc,iu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),iu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rf=iu("script,style,template");class bu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!nf.hasOwnProperty(s))return this.sanitizedSomething=!0,!rf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const d=a.item(l),_=d.name,T=_.toLowerCase();if(!Ad.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=d.value;yc[T]&&(x=Sd(x)),this.buf.push(" ",_,'="',sf(x),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();nf.hasOwnProperty(s)&&!ng.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(sf(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const sg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iy=/([^\#-~ |!])/g;function sf(n){return n.replace(/&/g,"&amp;").replace(sg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(iy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qu;function Tu(n,r){let s=null;try{Qu=Qu||function tg(n){const r=new Jm(n);return function ey(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new Xm(r):r}(n);let a=r?String(r):"";s=Qu.getInertBodyElement(a);let l=5,d=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=d,d=s.innerHTML,s=Qu.getInertBodyElement(a)}while(a!==d);return nu((new bu).sanitizeChildren(su(s)||s))}finally{if(s){const a=su(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function su(n){return"content"in n&&function Xu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ts=(()=>((ts=ts||{})[ts.NONE=0]="NONE",ts[ts.HTML=1]="HTML",ts[ts.STYLE=2]="STYLE",ts[ts.SCRIPT=3]="SCRIPT",ts[ts.URL=4]="URL",ts[ts.RESOURCE_URL=5]="RESOURCE_URL",ts))();function af(n){const r=vc();return r?Ku(r.sanitize(ts.HTML,n)||""):ru(n,"HTML")?Ku(ka(n)):Tu(function Qp(){return void 0!==Xh?Xh:typeof document<"u"?document:void 0}(),gt(n))}function _c(n){const r=vc();return r?r.sanitize(ts.URL,n)||"":ru(n,"URL")?ka(n):Sd(gt(n))}function vc(){const n=dt();return n&&n[12]}const Rd=new Gt("ENVIRONMENT_INITIALIZER"),lg=new Gt("INJECTOR",-1),cg=new Gt("INJECTOR_DEF_TYPES");class dg{get(r,s=Mo){if(s===Mo){const a=new Error(`NullInjectorError: No provider for ${Me(r)}!`);throw a.name="NullInjectorError",a}return s}}function Ec(...n){return{\u0275providers:Cu(0,n)}}function Cu(n,...r){const s=[],a=new Set;let l;return Ao(r,d=>{const _=d;Pd(_,s,[],a)&&(l||(l=[]),l.push(_))}),void 0!==l&&ou(l,s),s}function ou(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];Ao(l,d=>{r.push(d)})}}function Pd(n,r,s,a){if(!(n=be(n)))return!1;let l=null,d=$n(n);const _=!d&&se(n);if(d||_){if(_&&!_.standalone)return!1;l=n}else{const x=n.ngModule;if(d=$n(x),!d)return!1;l=x}const T=a.has(l);if(_){if(T)return!1;if(a.add(l),_.dependencies){const x="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const V of x)Pd(V,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!T){let V;a.add(l);try{Ao(d.imports,Y=>{Pd(Y,r,s,a)&&(V||(V=[]),V.push(Y))})}finally{}void 0!==V&&ou(V,r)}if(!T){const V=si(l)||(()=>new l);r.push({provide:l,useFactory:V,deps:Tt},{provide:cg,useValue:l,multi:!0},{provide:Rd,useValue:()=>_s(l),multi:!0})}const x=d.providers;null==x||T||Ao(x,Y=>{r.push(Y)})}}return l!==n&&void 0!==n.providers}const hg=Pe({provide:String,useValue:Pe});function cf(n){return null!==n&&"object"==typeof n&&hg in n}function Su(n){return"function"==typeof n}const wc=new Gt("Set Injector scope."),Dc={},kd={};let hf;function Ml(){return void 0===hf&&(hf=new dg),hf}class Fa{}class fg extends Fa{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rl(r,_=>this.processProvider(_)),this.records.set(lg,Ju(void 0,this)),l.has("environment")&&this.records.set(Fa,Ju(void 0,this));const d=this.records.get(wc);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(cg.multi,Tt,Bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ta(this),a=cr(void 0);try{return r()}finally{Ta(s),cr(a)}}get(r,s=Mo,a=Bt.Default){this.assertNotDestroyed();const l=Ta(this),d=cr(void 0);try{if(!(a&Bt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const x=function gg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Gt}(r)&&on(r);T=x&&this.injectableDefInScope(x)?Ju(Fd(r),Dc):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&Bt.Self?Ml():this.parent).get(r,s=a&Bt.Optional&&s===Mo?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[qa]=_[qa]||[]).unshift(Me(r)),l)throw _;return function dd(n,r,s,a){const l=n[qa];throw r[ic]&&l.unshift(r[ic]),n.message=function hl(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=Me(r);if(Array.isArray(r))l=r.map(Me).join(" -> ");else if("object"==typeof r){let d=[];for(let _ in r)if(r.hasOwnProperty(_)){let T=r[_];d.push(_+":"+("string"==typeof T?JSON.stringify(T):Me(T)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(rc,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[qa]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{cr(d),Ta(l)}}resolveInjectorInitializers(){const r=Ta(this),s=cr(void 0);try{const a=this.get(Rd.multi,Tt,Bt.Self);for(const l of a)l()}finally{Ta(r),cr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Me(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(r){let s=Su(r=be(r))?r:be(r&&r.provide);const a=function Ld(n){return cf(n)?Ju(void 0,n.useValue):Ju(xl(n),Dc)}(r);if(Su(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Ju(void 0,Dc,!0),l.factory=()=>Ca(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Dc&&(s.value=kd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Go(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=be(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Fd(n){const r=on(n),s=null!==r?r.factory:si(n);if(null!==s)return s;if(n instanceof Gt)throw new Ke(204,!1);if(n instanceof Function)return function Ic(n){const r=n.length;if(r>0)throw Sn(r,"?"),new Ke(204,!1);const s=function nr(n){const r=n&&(n[Rn]||n[Vr]);if(r){const s=function lr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ke(204,!1)}function xl(n,r,s){let a;if(Su(n)){const l=be(n);return si(l)||Fd(l)}if(cf(n))a=()=>be(n.useValue);else if(function Od(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Ca(n.deps||[]));else if(function Nd(n){return!(!n||!n.useExisting)}(n))a=()=>_s(be(n.useExisting));else{const l=be(n&&(n.useClass||n.provide));if(!function pg(n){return!!n.deps}(n))return si(l)||Fd(l);a=()=>new l(...Ca(n.deps))}return a}function Ju(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Vd(n){return!!n.\u0275providers}function Rl(n,r){for(const s of n)Array.isArray(s)?Rl(s,r):Vd(s)?Rl(s.\u0275providers,r):r(s)}class au{}class oy{resolveComponentFactory(r){throw function Pl(n){const r=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let La=(()=>{class n{}return n.NULL=new oy,n})();function yg(){return Yo(Vn(),dt())}function Yo(n,r){return new Ol(oi(n,r))}let Ol=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=yg,n})();function ay(n){return n instanceof Ol?n.nativeElement:n}class _g{}let uy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ud(){const n=dt(),s=vr(Vn().index,n);return(yt(s)?s:n)[11]}(),n})(),ly=(()=>{class n{}return n.\u0275prov=zn({token:n,providedIn:"root",factory:()=>null}),n})();class vg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const pf=new vg("14.2.12"),gf={};function tl(n){return n.ngOriginalError}class kl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&tl(r);for(;s&&tl(s);)s=tl(s);return s||null}}function Dg(n){return n.ownerDocument.defaultView}function uu(n){return n instanceof Function?n():n}function yf(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||n.charCodeAt(l+d)<=32)return l}s=l+1}}const $d="ng-template";function Tc(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==yf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Cc(n){return 4===n.type&&n.value!==$d}function _f(n,r,s){return r===(4!==n.type||s?n.value:$d)}function vf(n,r,s){let a=4;const l=n.attrs||[],d=function wf(n){for(let r=0;r<n.length;r++)if(aa(n[r]))return r;return n.length}(l);let _=!1;for(let T=0;T<r.length;T++){const x=r[T];if("number"!=typeof x){if(!_)if(4&a){if(a=2|1&a,""!==x&&!_f(n,x,s)||""===x&&1===r.length){if(ia(a))return!1;_=!0}}else{const V=8&a?x:r[++T];if(8&a&&null!==n.attrs){if(!Tc(n.attrs,V,s)){if(ia(a))return!1;_=!0}continue}const oe=gy(8&a?"class":x,l,Cc(n),s);if(-1===oe){if(ia(a))return!1;_=!0;continue}if(""!==V){let xe;xe=oe>d?"":l[oe+1].toLowerCase();const Xe=8&a?xe:null;if(Xe&&-1!==yf(Xe,V,0)||2&a&&V!==xe){if(ia(a))return!1;_=!0}}}}else{if(!_&&!ia(a)&&!ia(x))return!1;if(_&&ia(x))continue;_=!1,a=x|1&a}}return ia(a)||_}function ia(n){return 0==(1&n)}function gy(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)d=!0;else{if(1===_||2===_){let T=r[++l];for(;"string"==typeof T;)T=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=d?1:2}return-1}return function my(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ef(n,r,s=!1){for(let a=0;a<r.length;a++)if(vf(n,r[a],s))return!0;return!1}function Tg(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function Cg(n,r){return n?":not("+r.trim()+")":r}function Sg(n){let r=n[0],s=1,a=2,l="",d=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const T=n[++s];l+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!ia(_)&&(r+=Cg(d,l),l=""),a=_,d=d||!ia(a);s++}return""!==l&&(r+=Cg(d,l)),r}const gr={};function jd(n){Sc(fn(),dt(),ye()+n,!1)}function Sc(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&Si(r,d,s)}else{const d=n.preOrderHooks;null!==d&&As(r,d,0,s)}rt(s)}function Hd(n,r=null,s=null,a){const l=Ac(n,r,s,a);return l.resolveInjectorInitializers(),l}function Ac(n,r=null,s=null,a,l=new Set){const d=[s||Tt,Ec(n)];return a=a||("object"==typeof n?void 0:Me(n)),new fg(d,r||Ml(),a||null,l)}let pa=(()=>{class n{static create(s,a){if(Array.isArray(s))return Hd({name:""},a,s,"");{const l=s.name??"";return Hd({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=Mo,n.NULL=new dg,n.\u0275prov=zn({token:n,providedIn:"any",factory:()=>_s(lg)}),n.__NG_ELEMENT_ID__=-1,n})();function Au(n,r=Bt.Default){const s=dt();return null===s?_s(n,r):Oo(Vn(),s,be(n),r)}function Va(){throw new Error("invalid")}function Kd(n,r){return n<<17|r<<2}function Zo(n){return n>>17&32767}function xf(n){return 2|n}function ga(n){return(131068&n)>>2}function Bl(n,r){return-131069&n|r<<2}function Zd(n){return 1|n}function Wg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const _=n.data[d];fi(l),_.contentQueries(2,r[d],d)}}}function $l(n,r,s,a,l,d,_,T,x,V,Y){const oe=r.blueprint.slice();return oe[0]=l,oe[2]=76|a,(null!==Y||n&&1024&n[2])&&(oe[2]|=1024),Cs(oe),oe[3]=oe[15]=n,oe[8]=s,oe[10]=_||n&&n[10],oe[11]=T||n&&n[11],oe[12]=x||n&&n[12]||null,oe[9]=V||n&&n[9]||null,oe[6]=d,oe[20]=function Il(){return yd++}(),oe[21]=Y,oe[16]=2==r.type?n[16]:oe,oe}function Ru(n,r,s,a,l){let d=n.data[r];if(null===d)d=function $c(n,r,s,a,l){const d=k(),_=I(),x=n.data[r]=function Fy(n,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=x),null!==d&&(_?null==d.child&&null!==x.parent&&(d.child=x):null===d.next&&(d.next=x)),x}(n,r,s,a,l),function vi(){return jn.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const _=function O(){const n=jn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return f(d,!0),d}function jl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function jc(n,r,s){Ss(r);try{const a=n.viewQuery;null!==a&&Jf(1,a,s);const l=n.template;null!==l&&ih(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Wg(n,r),n.staticViewQueries&&Jf(2,n.viewQuery,s);const d=n.components;null!==d&&function Ny(n,r){for(let s=0;s<r.length;s++)jy(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,$()}}function rh(n,r,s,a){const l=r[2];if(128!=(128&l)){Ss(r);try{Cs(r),function Qn(n){return jn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&ih(n,r,s,2,a);const _=3==(3&l);if(_){const V=n.preOrderCheckHooks;null!==V&&Si(r,V,null)}else{const V=n.preOrderHooks;null!==V&&As(r,V,0,null),eo(r,0)}if(function Zf(n){for(let r=Ja(n);null!==r;r=Tl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&ii(d,1),l[2]|=512}}}(r),function $y(n){for(let r=Ja(n);null!==r;r=Tl(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];gs(a)&&rh(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Wg(n,r),_){const V=n.contentCheckHooks;null!==V&&Si(r,V)}else{const V=n.contentHooks;null!==V&&As(r,V,1),eo(r,1)}!function Ry(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)rt(~l);else{const d=l,_=s[++a],T=s[++a];hi(_,d),T(2,r[d])}}}finally{rt(-1)}}(n,r);const T=n.components;null!==T&&function Py(n,r){for(let s=0;s<r.length;s++)Qf(n,r[s])}(r,T);const x=n.viewQuery;if(null!==x&&Jf(2,x,a),_){const V=n.viewCheckHooks;null!==V&&Si(r,V)}else{const V=n.viewHooks;null!==V&&As(r,V,2),eo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,ii(r[3],-1))}finally{$()}}}function ih(n,r,s,a,l){const d=ye(),_=2&a;try{rt(-1),_&&r.length>22&&Sc(n,r,22,!1),s(a,l)}finally{rt(d)}}function $f(n,r,s){if(xn(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const _=n.data[d];_.contentQueries&&_.contentQueries(1,s[d],d)}}}function Hc(n,r,s){!kt()||(function Wf(n,r,s,a){const l=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||Wo(s,r),p(a,r);const _=s.initialInputs;for(let T=l;T<d;T++){const x=n.data[T],V=qr(x);V&&Yf(r,s,x);const Y=Rt(r,n,T,s);p(Y,r),null!==_&&Xg(0,T-l,Y,x,0,_),V&&(vr(s.index,r)[8]=Y)}}(n,r,s,oi(s,r)),128==(128&s.flags)&&function Vy(n,r,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,_=function Bs(){return jn.lFrame.currentDirectiveIndex}();try{rt(d);for(let T=a;T<l;T++){const x=n.data[T],V=r[T];Jr(T),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Yg(x,V)}}finally{rt(-1),Jr(_)}}(n,r,s))}function sh(n,r,s=oi){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const _=a[d+1],T=-1===_?s(r,n):n[_];n[l++]=T}}}function qg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Gc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Gc(n,r,s,a,l,d,_,T,x,V){const Y=22+a,oe=Y+l,xe=function Oy(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:gr);return s}(Y,oe),Xe="function"==typeof V?V():V;return xe[1]={type:n,blueprint:xe,template:s,queries:null,viewQuery:T,declTNode:r,data:xe.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:Xe,incompleteFirstPass:!1}}function oh(n,r,s,a){const l=ep(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&qc(n).push(a,l.length-1))}function ah(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function uh(n,r){const a=r.directiveEnd,l=n.data,d=r.attrs,_=[];let T=null,x=null;for(let V=r.directiveStart;V<a;V++){const Y=l[V],oe=Y.inputs,xe=null===d||Cc(r)?null:By(oe,d);_.push(xe),T=ah(oe,V,T),x=ah(Y.outputs,V,x)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=T,r.outputs=x}function fo(n,r,s,a,l,d,_,T){const x=oi(r,s);let Y,V=r.inputs;!T&&null!=V&&(Y=V[a])?(fh(n,s,Y,a,l),kr(r)&&Hf(s,r.index)):3&r.type&&(a=function jf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=_?_(l,r.value||"",a):l,d.setProperty(x,a,l))}function Hf(n,r){const s=vr(r,n);16&s[2]||(s[2]|=32)}function ma(n,r,s,a){let l=!1;if(kt()){const d=function qf(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const _=a[d];Ef(s,_.selectors,!1)&&(l||(l=[]),No(Wo(s,r),n,_.type),qr(_)?(Zg(n,s),l.unshift(_)):l.push(_))}return l}(n,r,s),_=null===a?null:{"":-1};if(null!==d){l=!0,ch(s,n.data.length,d.length);for(let Y=0;Y<d.length;Y++){const oe=d[Y];oe.providersResolver&&oe.providersResolver(oe)}let T=!1,x=!1,V=jl(n,r,d.length,null);for(let Y=0;Y<d.length;Y++){const oe=d[Y];s.mergedAttrs=wn(s.mergedAttrs,oe.hostAttrs),Qg(n,s,r,V,oe),Uy(V,oe,_),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const xe=oe.type.prototype;!T&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),T=!0),!x&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),V++}uh(n,s)}_&&function Kf(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new Ke(-301,!1);a.push(r[l],d)}}}(s,a,_)}return s.mergedAttrs=wn(s.mergedAttrs,s.attrs),l}function lh(n,r,s,a,l,d){const _=d.hostBindings;if(_){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const x=~r.index;(function Ly(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=x&&T.push(x),T.push(a,l,_)}}function Yg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Zg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Uy(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;qr(r)&&(s[""]=n)}}function ch(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Qg(n,r,s,a,l){n.data[a]=l;const d=l.factory||(l.factory=si(l.type)),_=new Ms(d,qr(l),Au);n.blueprint[a]=_,s[a]=_,lh(n,r,0,a,jl(n,s,l.hostVars,gr),l)}function Yf(n,r,s){const a=oi(r,n),l=qg(s),d=n[10],_=hh(n,$l(n,l,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));n[r.index]=_}function ya(n,r,s,a,l,d){const _=oi(n,r);!function zc(n,r,s,a,l,d,_){if(null==d)n.removeAttribute(r,l,s);else{const T=null==_?gt(d):_(d,a||"",l);n.setAttribute(r,l,T,s)}}(r[11],_,d,n.value,s,a,l)}function Xg(n,r,s,a,l,d){const _=d[r];if(null!==_){const T=a.setInput;for(let x=0;x<_.length;){const V=_[x++],Y=_[x++],oe=_[x++];null!==T?a.setInput(s,oe,V,Y):s[Y]=oe}}}function By(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function dh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Qf(n,r){const s=vr(r,n);if(gs(s)){const a=s[1];48&s[2]?rh(a,s,a.template,s[8]):s[5]>0&&Wc(s)}}function Wc(n){for(let a=Ja(n);null!==a;a=Tl(a))for(let l=10;l<a.length;l++){const d=a[l];if(gs(d))if(512&d[2]){const _=d[1];rh(_,d,_.template,d[8])}else d[5]>0&&Wc(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=vr(s[a],n);gs(l)&&l[5]>0&&Wc(l)}}function jy(n,r){const s=vr(r,n),a=s[1];(function Hy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),jc(a,s,s[8])}function hh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Xf(n){for(;n;){n[2]|=32;const r=Pa(n);if(Ni(n)&&!r)return n;n=r}return null}function Hl(n,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{rh(n,r,n.template,s)}catch(_){throw a&&tp(r,_),_}finally{l.end&&l.end()}}function Jf(n,r,s){fi(0),r(n,s)}function ep(n){return n[7]||(n[7]=[])}function qc(n){return n.cleanup||(n.cleanup=[])}function ei(n,r,s){return(null===n||qr(n))&&(s=function fs(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}function tp(n,r){const s=n[9],a=s?s.get(kl,null):null;a&&a.handleError(r)}function fh(n,r,s,a,l){for(let d=0;d<s.length;){const _=s[d++],T=s[d++],x=r[_],V=n.data[_];null!==V.setInput?V.setInput(x,l,a,T):x[T]=l}}function Ua(n,r,s){const a=_i(r,n);!function tu(n,r,s){n.setValue(r,s)}(n[11],a,s)}function Pu(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,d=0;if(null!==r)for(let _=0;_<r.length;_++){const T=r[_];"number"==typeof T?d=T:1==d?l=Ue(l,T):2==d&&(a=Ue(a,T+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function ph(n,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(Fr(d)),tn(d))for(let T=10;T<d.length;T++){const x=d[T],V=x[1].firstChild;null!==V&&ph(x[1],x,V,a)}const _=s.type;if(8&_)ph(n,r,s.child,a);else if(32&_){const T=Gu(s,r);let x;for(;x=T();)a.push(x)}else if(16&_){const T=Id(r,s);if(Array.isArray(T))a.push(...T);else{const x=Pa(r[16]);ph(x[1],x,T,a,!0)}}s=l?s.projectionNext:s.next}return a}class ns{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return ph(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(tn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(zh(r,a),zt(s,a))}this._attachedToViewContainer=!1}Or(this._lView[1],this._lView)}onDestroy(r){oh(this._lView[1],this._lView,null,r)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Hl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vp(n,r){Wu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=r}}class Do extends ns{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Hl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class sa extends La{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=se(r);return new gh(s,this.ngModule)}}function em(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class tm{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,gf,a);return l!==gf||s===gf?l:this.parentInjector.get(r,s,a)}}class gh extends au{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function yy(n){return n.map(Sg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return em(this.componentDef.inputs)}get outputs(){return em(this.componentDef.outputs)}create(r,s,a,l){let d=(l=l||this.ngModule)instanceof Fa?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new tm(r,d):r,T=_.get(_g,null);if(null===T)throw new Ke(407,!1);const x=_.get(ly,null),V=T.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",oe=a?function ky(n,r,s){return n.selectRootElement(r,s===Ht.ShadowDom)}(V,a,this.componentDef.encapsulation):Ro(V,Y,function zy(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),xe=this.componentDef.onPush?288:272,Xe=Gc(0,null,null,1,0,null,null,null,null,null),Et=$l(null,Xe,null,xe,null,null,T,V,x,_,null);let Wt,hn;Ss(Et);try{const kn=function Yv(n,r,s,a,l,d){const _=s[1];s[22]=n;const x=Ru(_,22,2,"#host",null),V=x.mergedAttrs=r.hostAttrs;null!==V&&(Pu(x,V,!0),null!==n&&(uo(l,n,V),null!==x.classes&&Qh(l,n,x.classes),null!==x.styles&&Zh(l,n,x.styles)));const Y=a.createRenderer(n,r),oe=$l(s,qg(r),null,r.onPush?32:16,s[22],x,a,Y,d||null,null,null);return _.firstCreatePass&&(No(Wo(x,s),_,r.type),Zg(_,x),ch(x,s.length,1)),hh(s,oe),s[22]=oe}(oe,this.componentDef,Et,T,V);if(oe)if(a)uo(V,oe,["ng-version",pf.full]);else{const{attrs:ir,classes:Pt}=function Ll(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===l?""!==d&&r.push(d,n[++a]):8===l&&s.push(d);else{if(!ia(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);ir&&uo(V,oe,ir),Pt&&Pt.length>0&&Qh(V,oe,Pt.join(" "))}if(hn=Ks(Xe,22),void 0!==s){const ir=hn.projection=[];for(let Pt=0;Pt<this.ngContentSelectors.length;Pt++){const yr=s[Pt];ir.push(null!=yr?Array.from(yr):null)}}Wt=function qy(n,r,s,a){const l=s[1],d=function zf(n,r,s){const a=Vn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Qg(n,a,r,jl(n,r,1,null),s),uh(n,a));const l=Rt(r,n,a.directiveStart,a);p(l,r);const d=oi(a,r);return d&&p(d,r),l}(l,s,r);if(n[8]=s[8]=d,null!==a)for(const T of a)T(d,r);if(r.contentQueries){const T=Vn();r.contentQueries(1,d,T.directiveStart)}const _=Vn();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rt(_.index),lh(s[1],_,0,_.directiveStart,_.directiveEnd,r),Yg(r,d)),d}(kn,this.componentDef,Et,[Ky]),jc(Xe,Et,null)}finally{$()}return new mh(this.componentType,Wt,Yo(hn,Et),Et,hn)}}class mh extends class mg{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new Do(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const d=this._rootLView;fh(d[1],d,l,r,s),Hf(d,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ky(){const n=Vn();Yr(dt()[1],n)}function np(n){let r=function rm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(qr(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ke(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const _=n;_.inputs=yh(n.inputs),_.declaredInputs=yh(n.declaredInputs),_.outputs=yh(n.outputs);const T=l.hostBindings;T&&ip(n,T);const x=l.viewQuery,V=l.contentQueries;if(x&&rp(n,x),V&&im(n,V),ue(n.inputs,l.inputs),ue(n.declaredInputs,l.declaredInputs),ue(n.outputs,l.outputs),qr(l)&&l.data.animation){const Y=n.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let _=0;_<d.length;_++){const T=d[_];T&&T.ngInherit&&T(n),T===np&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Yy(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=wn(l.hostAttrs,s=wn(s,l.hostAttrs))}}(a)}function yh(n){return n===wr?{}:n===Tt?[]:n}function rp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function im(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function ip(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Gl=null;function Nu(){if(!Gl){const n=gn.Symbol;if(n&&n.iterator)Gl=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gl=a)}}}return Gl}function il(n){return!!Ou(n)&&(Array.isArray(n)||!(n instanceof Map)&&Nu()in n)}function Ou(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ba(n,r,s){return n[r]=s}function Po(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function ku(n,r,s,a){const l=Po(n,r,s);return Po(n,r+1,a)||l}function cp(n,r,s,a){const l=dt();return Po(l,mr(),r)&&(fn(),ya(pt(),l,n,r,s,a)),cp}function Wl(n,r,s,a){return Po(n,mr(),s)?r+gt(s)+a:gr}function ql(n,r,s,a,l,d){const T=ku(n,function nn(){return jn.lFrame.bindingIndex}(),s,l);return Gr(2),T?r+gt(s)+a+gt(l)+d:gr}function n_(n,r,s,a,l,d,_,T){const x=dt(),V=fn(),Y=n+22,oe=V.firstCreatePass?function Qv(n,r,s,a,l,d,_,T,x){const V=r.consts,Y=Ru(r,n,4,_||null,zi(V,T));ma(r,s,Y,zi(V,x)),Yr(r,Y);const oe=Y.tViews=Gc(2,Y,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V);return null!==r.queries&&(r.queries.template(r,Y),oe.queries=r.queries.embeddedTView(Y)),Y}(Y,V,x,r,s,a,l,d,_):V.data[Y];f(oe,!1);const xe=x[11].createComment("");Dd(V,x,xe,oe),p(xe,x),hh(x,x[Y]=dh(xe,x,xe,oe)),hr(oe)&&Hc(V,x,oe),null!=_&&sh(x,oe,T)}function Lu(n){return ui(function Ne(){return jn.lFrame.contextLView}(),22+n)}function Vu(n,r,s){const a=dt();return Po(a,mr(),r)&&fo(fn(),pt(),a,n,r,a[11],s,!1),Vu}function am(n,r,s,a,l){const _=l?"class":"style";fh(n,s,r.inputs[_],_,a)}function Zl(n,r,s,a){const l=dt(),d=fn(),_=22+n,T=l[11],x=l[_]=Ro(T,r,function Er(){return jn.lFrame.currentNamespace}()),V=d.firstCreatePass?function um(n,r,s,a,l,d,_){const T=r.consts,V=Ru(r,n,2,l,zi(T,d));return ma(r,s,V,zi(T,_)),null!==V.attrs&&Pu(V,V.attrs,!1),null!==V.mergedAttrs&&Pu(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(_,d,l,0,r,s,a):d.data[_];f(V,!0);const Y=V.mergedAttrs;null!==Y&&uo(T,x,Y);const oe=V.classes;null!==oe&&Qh(T,x,oe);const xe=V.styles;return null!==xe&&Zh(T,x,xe),64!=(64&V.flags)&&Dd(d,l,x,V),0===function Ce(){return jn.lFrame.elementDepthCount}()&&p(x,l),function et(){jn.lFrame.elementDepthCount++}(),hr(V)&&(Hc(d,l,V),$f(d,V,l)),null!==a&&sh(l,V),Zl}function Eh(){let n=Vn();I()?G():(n=n.parent,f(n,!1));const r=n;!function vt(){jn.lFrame.elementDepthCount--}();const s=fn();return s.firstCreatePass&&(Yr(s,n),xn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ga(n){return 0!=(16&n.flags)}(r)&&am(s,r,dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function za(n){return 0!=(32&n.flags)}(r)&&am(s,r,dt(),r.stylesWithoutHost,!1),Eh}function fp(n,r,s,a){return Zl(n,r,s,a),Eh(),fp}function Qc(n,r,s){const a=dt(),l=fn(),d=n+22,_=l.firstCreatePass?function lm(n,r,s,a,l){const d=r.consts,_=zi(d,a),T=Ru(r,n,8,"ng-container",_);return null!==_&&Pu(T,_,!0),ma(r,s,T,zi(d,l)),null!==r.queries&&r.queries.elementStart(r,T),T}(d,l,a,r,s):l.data[d];f(_,!0);const T=a[d]=a[11].createComment("");return Dd(l,a,T,_),p(T,a),hr(_)&&(Hc(l,a,_),$f(l,_,a)),null!=s&&sh(a,_),Qc}function sl(){let n=Vn();const r=fn();return I()?G():(n=n.parent,f(n,!1)),r.firstCreatePass&&(Yr(r,n),xn(n)&&r.queries.elementEnd(n)),sl}function pp(n,r,s){return Qc(n,r,s),sl(),pp}function ol(){return dt()}function Xc(n){return!!n&&"function"==typeof n.then}function Ql(n){return!!n&&"function"==typeof n.subscribe}const gp=Ql;function Jc(n,r,s,a){const l=dt(),d=fn(),_=Vn();return cm(d,l,l[11],_,n,r,0,a),Jc}function mp(n,r){const s=Vn(),a=dt(),l=fn();return cm(l,a,ei($s(l.data),s,a),s,n,r),mp}function cm(n,r,s,a,l,d,_,T){const x=hr(a),Y=n.firstCreatePass&&qc(n),oe=r[8],xe=ep(r);let Xe=!0;if(3&a.type||T){const hn=oi(a,r),kn=T?T(hn):hn,ir=xe.length,Pt=T?Vi=>T(Fr(Vi[a.index])):a.index;let yr=null;if(!T&&x&&(yr=function r_(n,r,s,a){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const _=l[d];if(_===s&&l[d+1]===a){const T=r[7],x=l[d+2];return T.length>x?T[x]:null}"string"==typeof _&&(d+=2)}return null}(n,r,l,a.index)),null!==yr)(yr.__ngLastListenerFn__||yr).__ngNextListenerFn__=d,yr.__ngLastListenerFn__=d,Xe=!1;else{d=_p(a,r,oe,d,!1);const Vi=s.listen(kn,l,d);xe.push(d,Vi),Y&&Y.push(l,Pt,ir,ir+1)}}else d=_p(a,r,oe,d,!1);const Et=a.outputs;let Wt;if(Xe&&null!==Et&&(Wt=Et[l])){const hn=Wt.length;if(hn)for(let kn=0;kn<hn;kn+=2){const Ps=r[Wt[kn]][Wt[kn+1]].subscribe(d),cd=xe.length;xe.push(d,Ps),Y&&Y.push(l,a.index,cd,-(cd+1))}}}function yp(n,r,s,a){try{return!1!==s(a)}catch(l){return tp(n,l),!1}}function _p(n,r,s,a,l){return function d(_){if(_===Function)return a;Xf(2&n.flags?vr(n.index,r):r);let x=yp(r,0,a,_),V=d.__ngNextListenerFn__;for(;V;)x=yp(r,0,V,_)&&x,V=V.__ngNextListenerFn__;return l&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function vp(n=1){return function R(n){return(jn.lFrame.contextLView=function q(n,r){for(;n>0;)r=r[15],n--;return r}(n,jn.lFrame.contextLView))[8]}(n)}function al(n,r){let s=null;const a=function bg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===a?Ef(n,d,!0):Tg(a,d))return l}else s=l}return s}function Ep(n){const r=dt()[16][6];if(!r.projection){const a=r.projection=Sn(n?n.length:1,null),l=a.slice();let d=r.child;for(;null!==d;){const _=n?al(d,n):0;null!==_&&(l[_]?l[_].projectionNext=d:a[_]=d,l[_]=d),d=d.next}}}function wp(n,r=0,s){const a=dt(),l=fn(),d=Ru(l,22+n,16,null,s||null);null===d.projection&&(d.projection=r),G(),64!=(64&d.flags)&&function Gp(n,r,s){Sl(r[11],0,r,s,Cl(n,s,r),$p(s.parent||r[6],s,r))}(l,a,d)}function ed(n,r,s){return Xl(n,"",r,"",s),ed}function Xl(n,r,s,a,l){const d=dt(),_=Wl(d,r,s,a);return _!==gr&&fo(fn(),pt(),d,n,_,d[11],l,!1),Xl}function Jl(n,r,s,a,l){const d=n[s+1],_=null===r;let T=a?Zo(d):ga(d),x=!1;for(;0!==T&&(!1===x||_);){const Y=n[T+1];o_(n[T],r)&&(x=!0,n[T+1]=a?Zd(Y):xf(Y)),T=a?Zo(Y):ga(Y)}x&&(n[s+1]=a?xf(d):Zd(d))}function o_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&le(n,r)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function a_(n){return n.substring(ls.key,ls.keyEnd)}function u_(n,r){const s=ls.textEnd;return s===r?-1:(r=ls.keyEnd=function Jv(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,ls.key=r,s),du(n,r,s))}function du(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Ih(n,r,s){return Xo(n,r,s,!1),Ih}function bh(n,r){return Xo(n,r,null,!0),bh}function $a(n,r){for(let s=function bp(n){return function c_(n){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=n.length}(n),u_(n,du(n,0,ls.textEnd))}(r);s>=0;s=u_(r,s))P(n,a_(r),!0)}function Xo(n,r,s,a){const l=dt(),d=fn(),_=Gr(2);d.firstUpdatePass&&ul(d,n,_,a),r!==gr&&Po(l,_,r)&&m_(d,d.data[ye()],l,l[11],n,l[_+1]=function iE(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Me(ka(n)))),n}(r,s),a,_)}function Uu(n,r){return r>=n.expandoStartIndex}function ul(n,r,s,a){const l=n.data;if(null===l[s+1]){const d=l[ye()],_=Uu(n,s);__(d,a)&&null===r&&!_&&(r=!1),r=function Th(n,r,s,a){const l=$s(n);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=oa(s=Tp(null,n,r,s,a),r.attrs,a),d=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=Tp(l,n,r,s,a),null===d){let x=function ec(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ga(a))return n[Zo(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=Tp(null,n,r,x[1],a),x=oa(x,r.attrs,a),function f_(n,r,s,a){n[Zo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else d=function nE(n,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=oa(a,n[d].hostAttrs,s);return oa(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function i_(n,r,s,a,l,d){let _=d?r.classBindings:r.styleBindings,T=Zo(_),x=ga(_);n[a]=s;let Y,V=!1;if(Array.isArray(s)){const oe=s;Y=oe[1],(null===Y||le(oe,Y)>0)&&(V=!0)}else Y=s;if(l)if(0!==x){const xe=Zo(n[T+1]);n[a+1]=Kd(xe,T),0!==xe&&(n[xe+1]=Bl(n[xe+1],a)),n[T+1]=function Mf(n,r){return 131071&n|r<<17}(n[T+1],a)}else n[a+1]=Kd(T,0),0!==T&&(n[T+1]=Bl(n[T+1],a)),T=a;else n[a+1]=Kd(x,0),0===T?T=a:n[x+1]=Bl(n[x+1],a),x=a;V&&(n[a+1]=xf(n[a+1])),Jl(n,Y,a,!0),Jl(n,Y,a,!1),function s_(n,r,s,a,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&le(d,r)>=0&&(s[a+1]=Zd(s[a+1]))}(r,Y,n,a,d),_=Kd(T,x),d?r.classBindings=_:r.styleBindings=_}(l,d,r,s,_,a)}}function Tp(n,r,s,a,l){let d=null;const _=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<_&&(d=r[T],a=oa(a,d.hostAttrs,l),d!==n);)T++;return null!==n&&(s.directiveStylingLast=T),a}function oa(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const _=r[d];"number"==typeof _?l=_:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),P(n,_,!!s||r[++d]))}return void 0===n?null:n}function m_(n,r,s,a,l,d,_,T){if(!(3&r.type))return;const x=n.data,V=x[T+1];Ch(function Yd(n){return 1==(1&n)}(V)?y_(x,r,s,l,ga(V),_):void 0)||(Ch(d)||function Vg(n){return 2==(2&n)}(V)&&(d=y_(x,null,s,l,T,_)),function Wp(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:jo.DashCase;null==l?n.removeStyle(s,a,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=jo.Important),n.setStyle(s,a,l,d))}}(a,_,_i(ye(),s),l,d))}function y_(n,r,s,a,l,d){const _=null===r;let T;for(;l>0;){const x=n[l],V=Array.isArray(x),Y=V?x[1]:x,oe=null===Y;let xe=s[l+1];xe===gr&&(xe=oe?Tt:void 0);let Xe=oe?W(xe,a):Y===a?xe:void 0;if(V&&!Ch(Xe)&&(Xe=W(x,a)),Ch(Xe)&&(T=Xe,_))return T;const Et=n[l+1];l=_?Zo(Et):ga(Et)}if(null!==r){let x=d?r.residualClasses:r.residualStyles;null!=x&&(T=W(x,a))}return T}function Ch(n){return void 0!==n}function __(n,r){return 0!=(n.flags&(r?16:32))}function mm(n,r=""){const s=dt(),a=fn(),l=n+22,d=a.firstCreatePass?Ru(a,l,1,r,null):a.data[l],_=s[l]=function Ed(n,r){return n.createText(r)}(s[11],r);Dd(a,s,_,d),f(d,!1)}function ym(n){return Cp("",n,""),ym}function Cp(n,r,s){const a=dt(),l=Wl(a,n,r,s);return l!==gr&&Ua(a,ye(),l),Cp}function ll(n,r,s,a,l){const d=dt(),_=ql(d,n,r,s,a,l);return _!==gr&&Ua(d,ye(),_),ll}function w_(n,r,s){!function ja(n,r,s,a){const l=fn(),d=Gr(2);l.firstUpdatePass&&ul(l,null,d,a);const _=dt();if(s!==gr&&Po(_,d,s)){const T=l.data[ye()];if(__(T,a)&&!Uu(l,d)){let x=a?T.classesWithoutHost:T.stylesWithoutHost;null!==x&&(s=Ue(x,s||"")),am(l,T,_,s,a)}else!function g_(n,r,s,a,l,d,_,T){l===gr&&(l=Tt);let x=0,V=0,Y=0<l.length?l[0]:null,oe=0<d.length?d[0]:null;for(;null!==Y||null!==oe;){const xe=x<l.length?l[x+1]:void 0,Xe=V<d.length?d[V+1]:void 0;let Wt,Et=null;Y===oe?(x+=2,V+=2,xe!==Xe&&(Et=oe,Wt=Xe)):null===oe||null!==Y&&Y<oe?(x+=2,Et=Y):(V+=2,Et=oe,Wt=Xe),null!==Et&&m_(n,r,s,a,Et,Wt,_,T),Y=x<l.length?l[x]:null,oe=V<d.length?d[V]:null}}(l,T,_,_[11],_[d+1],_[d+1]=function rE(n,r,s){if(null==s||""===s)return Tt;const a=[],l=ka(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)n(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&n(a,d,l[d]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,d)}}(P,$a,Wl(dt(),n,r,s),!0)}function Tm(n,r,s){const a=dt();return Po(a,mr(),r)&&fo(fn(),pt(),a,n,r,a[11],s,!0),Tm}function Cm(n,r,s){const a=dt();if(Po(a,mr(),r)){const d=fn(),_=pt();fo(d,_,a,n,r,ei($s(d.data),_,a),s,!0)}return Cm}const cl=void 0;var pE=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fE(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let od={};function Mp(n){const r=function mE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=k_(r);if(s)return s;const a=r.split("-")[0];if(s=k_(a),s)return s;if("en"===a)return pE;throw new Ke(701,!1)}function O_(n){return Mp(n)[rr.PluralCase]}function k_(n){return n in od||(od[n]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[n]),od[n]}var rr=(()=>((rr=rr||{})[rr.LocaleId=0]="LocaleId",rr[rr.DayPeriodsFormat=1]="DayPeriodsFormat",rr[rr.DayPeriodsStandalone=2]="DayPeriodsStandalone",rr[rr.DaysFormat=3]="DaysFormat",rr[rr.DaysStandalone=4]="DaysStandalone",rr[rr.MonthsFormat=5]="MonthsFormat",rr[rr.MonthsStandalone=6]="MonthsStandalone",rr[rr.Eras=7]="Eras",rr[rr.FirstDayOfWeek=8]="FirstDayOfWeek",rr[rr.WeekendRange=9]="WeekendRange",rr[rr.DateFormat=10]="DateFormat",rr[rr.TimeFormat=11]="TimeFormat",rr[rr.DateTimeFormat=12]="DateTimeFormat",rr[rr.NumberSymbols=13]="NumberSymbols",rr[rr.NumberFormats=14]="NumberFormats",rr[rr.CurrencyCode=15]="CurrencyCode",rr[rr.CurrencySymbol=16]="CurrencySymbol",rr[rr.CurrencyName=17]="CurrencyName",rr[rr.Currencies=18]="Currencies",rr[rr.Directionality=19]="Directionality",rr[rr.PluralCase=20]="PluralCase",rr[rr.ExtraData=21]="ExtraData",rr))();const ad="en-US";let Sm=ad;function Y_(n,r,s,a,l){if(n=be(n),Array.isArray(n))for(let d=0;d<n.length;d++)Y_(n[d],r,s,a,l);else{const d=fn(),_=dt();let T=Su(n)?n:be(n.provide),x=xl(n);const V=Vn(),Y=1048575&V.providerIndexes,oe=V.directiveStart,xe=V.providerIndexes>>20;if(Su(n)||!n.multi){const Xe=new Ms(x,l,Au),Et=Q_(T,r,l?Y:Y+xe,oe);-1===Et?(No(Wo(V,_),d,T),Z_(d,n,r.length),r.push(T),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(Xe),_.push(Xe)):(s[Et]=Xe,_[Et]=Xe)}else{const Xe=Q_(T,r,Y+xe,oe),Et=Q_(T,r,Y,Y+xe),Wt=Xe>=0&&s[Xe],hn=Et>=0&&s[Et];if(l&&!hn||!l&&!Wt){No(Wo(V,_),d,T);const kn=function $w(n,r,s,a,l){const d=new Ms(n,s,Au);return d.multi=[],d.index=r,d.componentProviders=0,VE(d,l,a&&!s),d}(l?Bw:Uw,s.length,l,a,x);!l&&hn&&(s[Et].providerFactory=kn),Z_(d,n,r.length,0),r.push(T),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(kn),_.push(kn)}else Z_(d,n,Xe>-1?Xe:Et,VE(s[l?Et:Xe],x,!l&&a));!l&&a&&hn&&s[Et].componentProviders++}}}function Z_(n,r,s,a){const l=Su(r),d=function df(n){return!!n.useClass}(r);if(l||d){const x=(d?be(r.useClass):r).prototype.ngOnDestroy;if(x){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Y=V.indexOf(s);-1===Y?V.push(s,[a,x]):V[Y+1].push(a,x)}else V.push(s,x)}}}function VE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Q_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function Uw(n,r,s,a){return X_(this.multi,[])}function Bw(n,r,s,a){const l=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=Rt(s,s[1],this.providerFactory.index,a);d=T.slice(0,_),X_(l,d);for(let x=_;x<T.length;x++)d.push(T[x])}else d=[],X_(l,d);return d}function X_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function UE(n,r=[]){return s=>{s.providersResolver=(a,l)=>function Vw(n,r,s){const a=fn();if(a.firstCreatePass){const l=qr(n);Y_(s,a.data,a.blueprint,l,!0),Y_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Ph{}class BE{}function jw(n,r){return new $E(n,r??null)}class $E extends Ph{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sa(this);const a=Yt(r);this._bootstrapComponents=uu(a.bootstrap),this._r3Injector=Ac(r,s,[{provide:Ph,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],Me(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class J_ extends BE{constructor(r){super(),this.moduleType=r}create(r){return new $E(this.moduleType,r)}}class Hw extends Ph{constructor(r,s,a){super(),this.componentFactoryResolver=new sa(this),this.instance=null;const l=new fg([...r,{provide:Ph,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],s||Ml(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function ev(n,r,s=null){return new Hw(n,r,s).injector}let Gw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Cu(0,s.type),l=a.length>0?ev([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zn({token:n,providedIn:"environment",factory:()=>new n(_s(Fa))}),n})();function jE(n){n.getStandaloneInjector=r=>r.get(Gw).getOrCreateStandaloneInjector(n)}function YE(n,r,s){const a=Ft()+n,l=dt();return l[a]===gr?Ba(l,a,s?r.call(s):r()):function Kc(n,r){return n[r]}(l,a)}function ZE(n,r,s,a){return JE(dt(),Ft(),n,r,s,a)}function QE(n,r,s,a,l){return function e0(n,r,s,a,l,d,_){const T=r+s;return ku(n,T,l,d)?Ba(n,T+2,_?a.call(_,l,d):a(l,d)):Pp(n,T+2)}(dt(),Ft(),n,r,s,a,l)}function XE(n,r,s,a,l,d){return function t0(n,r,s,a,l,d,_,T){const x=r+s;return function vh(n,r,s,a,l){const d=ku(n,r,s,a);return Po(n,r+2,l)||d}(n,x,l,d,_)?Ba(n,x+3,T?a.call(T,l,d,_):a(l,d,_)):Pp(n,x+3)}(dt(),Ft(),n,r,s,a,l,d)}function Pp(n,r){const s=n[r];return s===gr?void 0:s}function JE(n,r,s,a,l,d){const _=r+s;return Po(n,_,l)?Ba(n,_+1,d?a.call(d,l):a(l)):Pp(n,_+1)}function s0(n,r){const s=fn();let a;const l=n+22;s.firstCreatePass?(a=function sD(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=si(a.type)),_=cr(Au);try{const T=ua(!1),x=d();return ua(T),function om(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,dt(),l,x),x}finally{cr(_)}}function o0(n,r,s){const a=n+22,l=dt(),d=ui(l,a);return function Np(n,r){return n[1].data[r].pure}(l,a)?JE(l,Ft(),r,d.transform,s,d):d.transform(s)}function nv(n){return r=>{setTimeout(n,void 0,r)}}const Bu=class cD extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,d=s||(()=>null),_=a;if(r&&"object"==typeof r){const x=r;l=x.next?.bind(x),d=x.error?.bind(x),_=x.complete?.bind(x)}this.__isAsync&&(d=nv(d),l&&(l=nv(l)),_&&(_=nv(_)));const T=super.subscribe({next:l,error:d,complete:_});return r instanceof F.w0&&r.add(T),T}};function dD(){return this._results[Nu()]()}class xm{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Nu(),a=xm.prototype;a[s]||(a[s]=dD)}get changes(){return this._changes||(this._changes=new Bu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=wi(r);(this._changesDetected=!function $o(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Op=(()=>{class n{}return n.__NG_ELEMENT_ID__=pD,n})();const hD=Op,fD=class extends hD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=$l(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(a)),jc(a,l,r),new ns(l)}};function pD(){return Rm(Vn(),dt())}function Rm(n,r){return 4&n.type?new fD(r,n,Yo(n,r)):null}let Pm=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();function gD(){return l0(Vn(),dt())}const mD=Pm,a0=class extends mD{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Yo(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=Gn(this._hostTNode,this._hostLView);if(sn(r)){const s=li(r,this._hostLView),a=ot(r);return new ko(s[1].data[a+8],s)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=u0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const _=r.createEmbeddedView(s||{},d);return this.insert(_,l),_}createComponent(r,s,a,l,d){const _=r&&!function os(n){return"function"==typeof n}(r);let T;if(_)T=s;else{const oe=s||{};T=oe.index,a=oe.injector,l=oe.projectableNodes,d=oe.environmentInjector||oe.ngModuleRef}const x=_?r:new gh(se(r)),V=a||this.parentInjector;if(!d&&null==x.ngModule){const xe=(_?V:this.parentInjector).get(Fa,null);xe&&(d=xe)}const Y=x.create(V,l,void 0,d);return this.insert(Y.hostView,T),Y}insert(r,s){const a=r._lView,l=a[1];if(function yo(n){return tn(n[3])}(a)){const Y=this.indexOf(r);if(-1!==Y)this.detach(Y);else{const oe=a[3],xe=new a0(oe,oe[6],oe[3]);xe.detach(xe.indexOf(r))}}const d=this._adjustIndex(s),_=this._lContainer;!function Up(n,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Ia(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function hc(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=64}(l,a,_,d);const T=bd(d,_),x=a[11],V=gc(x,_[7]);return null!==V&&function dc(n,r,s,a,l,d){a[0]=l,a[6]=r,Wu(n,a,s,1,l,d)}(l,_[6],x,a,V,T),r.attachToViewContainerRef(),Ia(rv(_),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=u0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=zh(this._lContainer,s);a&&(zt(rv(this._lContainer),s),Or(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=zh(this._lContainer,s);return a&&null!=zt(rv(this._lContainer),s)?new ns(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function u0(n){return n[8]}function rv(n){return n[8]||(n[8]=[])}function l0(n,r){let s;const a=r[n.index];if(tn(a))s=a;else{let l;if(8&n.type)l=Fr(a);else{const d=r[11];l=d.createComment("");const _=oi(n,r);Du(d,gc(d,_),l,function Gm(n,r){return n.nextSibling(r)}(d,_),!1)}r[n.index]=s=dh(a,r,l,n),hh(r,s)}return new a0(s,n,r)}class iv{constructor(r){this.queryList=r,this.matches=null}clone(){return new iv(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const _=s.getByIndex(d);l.push(this.queries[_.indexInDeclarationView].clone())}return new sv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==_0(r,s).matches&&this.queries[s].setDirty()}}class c0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class ov{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new ov(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class av{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new av(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,vD(s,d)),this.matchTNodeWithReadOption(r,s,mi(s,r,d,!1,!1))}else a===Op?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,mi(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Ol||l===Pm||l===Op&&4&s.type)this.addMatch(s.index,-2);else{const d=mi(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vD(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function wD(n,r,s,a){return-1===s?function ED(n,r){return 11&n.type?Yo(n,r):4&n.type?Rm(n,r):null}(r,n):-2===s?function DD(n,r,s){return s===Ol?Yo(r,n):s===Op?Rm(r,n):s===Pm?l0(r,n):void 0}(n,r,a):Rt(n,n[1],s,r)}function d0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=n.data,_=s.matches,T=[];for(let x=0;x<_.length;x+=2){const V=_[x];T.push(V<0?null:wD(r,d[V],_[x+1],s.metadata.read))}l.matches=T}return l.matches}function uv(n,r,s,a){const l=n.queries.getByIndex(s),d=l.matches;if(null!==d){const _=d0(n,r,l,s);for(let T=0;T<d.length;T+=2){const x=d[T];if(x>0)a.push(_[T/2]);else{const V=d[T+1],Y=r[-x];for(let oe=10;oe<Y.length;oe++){const xe=Y[oe];xe[17]===xe[3]&&uv(xe[1],xe,V,a)}if(null!==Y[9]){const oe=Y[9];for(let xe=0;xe<oe.length;xe++){const Xe=oe[xe];uv(Xe[1],Xe,V,a)}}}}}return a}function h0(n){const r=dt(),s=fn(),a=Ji();fi(a+1);const l=_0(s,a);if(n.dirty&&function ps(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?uv(s,r,a,[]):d0(s,r,l,a);n.reset(d,ay),n.notifyOnChanges()}return!0}return!1}function f0(n,r,s){const a=fn();a.firstCreatePass&&(y0(a,new c0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),m0(a,dt(),r)}function p0(n,r,s,a){const l=fn();if(l.firstCreatePass){const d=Vn();y0(l,new c0(r,s,a),d.index),function bD(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}m0(l,dt(),s)}function g0(){return function ID(n,r){return n[19].queries[r].queryList}(dt(),Ji())}function m0(n,r,s){const a=new xm(4==(4&s));oh(n,r,a,a.destroy),null===r[19]&&(r[19]=new sv),r[19].queries.push(new iv(a))}function y0(n,r,s){null===n.queries&&(n.queries=new ov),n.queries.track(new av(r,s))}function _0(n,r){return n.queries.getByIndex(r)}function Om(...n){}const L0=new Gt("Application Initializer");let km=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Xc(d))s.push(d);else if(gp(d)){const _=new Promise((T,x)=>{d.subscribe({complete:T,error:x})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(_s(L0,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V0=new Gt("AppId",{providedIn:"root",factory:function U0(){return`${fv()}${fv()}${fv()}`}});function fv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const B0=new Gt("Platform Initializer"),zD=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$0=new Gt("appBootstrapListener"),WD=new Gt("AnimationModuleType");let qD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fm=new Gt("LocaleId",{providedIn:"root",factory:()=>Di(Fm,Bt.Optional|Bt.SkipSelf)||function KD(){return typeof $localize<"u"&&$localize.locale||ad}()}),YD=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let QD=(()=>{class n{compileModuleSync(s){return new J_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=uu(Yt(s).declarations).reduce((_,T)=>{const x=se(T);return x&&_.push(new gh(x)),_},[]);return new ZD(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eI=(()=>Promise.resolve(0))();function pv(n){typeof Zone>"u"?eI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ha{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bu(!1),this.onMicrotaskEmpty=new Bu(!1),this.onStable=new Bu(!1),this.onError=new Bu(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function tI(){let n=gn.requestAnimationFrame,r=gn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function iI(n){const r=()=>{!function rI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(gn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,mv(n),n.isCheckStableRunning=!0,gv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),mv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,_,T)=>{try{return G0(n),s.invokeTask(l,d,_,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),z0(n)}},onInvoke:(s,a,l,d,_,T,x)=>{try{return G0(n),s.invoke(l,d,_,T,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),z0(n)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,mv(n),gv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ha.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(Ha.isInAngularZone())throw new Ke(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+l,r,nI,Om,Om);try{return d.runTask(_,s,a)}finally{d.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const nI={};function gv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function G0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function z0(n){n._nesting--,gv(n)}class sI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bu,this.onMicrotaskEmpty=new Bu,this.onStable=new Bu,this.onError=new Bu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const W0=new Gt(""),q0=new Gt("");let yv,oI=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yv||(function aI(n){yv=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ha.assertNotInAngularZone(),pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(_s(Ha),_s(K0),_s(q0))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),K0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return yv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),tc=null;const Y0=new Gt("AllowMultipleToken"),_v=new Gt("PlatformDestroyListeners");class cI{constructor(r,s){this.name=r,this.token=s}}function Q0(n,r,s=[]){const a=`Platform: ${r}`,l=new Gt(a);return(d=[])=>{let _=vv();if(!_||_.injector.get(Y0,!1)){const T=[...s,...d,{provide:l,useValue:!0}];n?n(T):function dI(n){if(tc&&!tc.get(Y0,!1))throw new Ke(400,!1);tc=n;const r=n.get(J0);(function Z0(n){const r=n.get(B0,null);r&&r.forEach(s=>s())})(n)}(function X0(n=[],r){return pa.create({name:r,providers:[{provide:wc,useValue:"platform"},{provide:_v,useValue:new Set([()=>tc=null])},...n]})}(T,a))}return function fI(n){const r=vv();if(!r)throw new Ke(401,!1);return r}()}}function vv(){return tc?.get(J0)??null}let J0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function tw(n,r){let s;return s="noop"===n?new sI:("zone.js"===n?void 0:n)||new Ha(r),s}(a?.ngZone,function ew(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:Ha,useValue:l}];return l.run(()=>{const _=pa.create({providers:d,parent:this.injector,name:s.moduleType.name}),T=s.create(_),x=T.injector.get(kl,null);if(!x)throw new Ke(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:Y=>{x.handleError(Y)}});T.onDestroy(()=>{Vm(this._modules,T),V.unsubscribe()})}),function nw(n,r,s){try{const a=s();return Xc(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(x,l,()=>{const V=T.injector.get(km);return V.runInitializers(),V.donePromise.then(()=>(function F_(n){_n(n,"Expected localeId to be defined"),"string"==typeof n&&(Sm=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Fm,ad)||ad),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,a=[]){const l=rw({},a);return function uI(n,r,s){const a=new J_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Lm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Ke(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(_v,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(_s(pa))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function rw(n,r){return Array.isArray(r)?r.reduce(rw,n):{...n,...r}}let Lm=(()=>{class n{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new ae.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),_=new ae.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ha.assertNotInAngularZone(),pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),V.unsubscribe()}});this.isStable=(0,Ee.T)(d,_.pipe((0,Ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof au;if(!this._injector.get(km).done)throw!l&&Vt(s),new Ke(405,false);let _;_=l?s:this._injector.get(La).resolveComponentFactory(s),this.componentTypes.push(_.componentType);const T=function lI(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Ph),V=_.create(pa.NULL,[],a||_.selector,T),Y=V.location.nativeElement,oe=V.injector.get(W0,null);return oe?.registerApplication(Y),V.onDestroy(()=>{this.detachView(V.hostView),Vm(this.components,V),oe?.unregisterApplication(Y)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Vm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get($0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Vm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ke(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(_s(Ha),_s(Fa),_s(kl))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vm(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let sw=!0,ow=!1;function gI(){return ow=!0,sw}function mI(){if(ow)throw new Error("Cannot enable prod mode after platform setup.");sw=!1}let yI=(()=>{class n{}return n.__NG_ELEMENT_ID__=_I,n})();function _I(n){return function vI(n,r,s){if(kr(n)&&!s){const a=vr(n.index,r);return new ns(a,a)}return 47&n.type?new ns(r[16],r):null}(Vn(),dt(),16==(16&n))}class cw{constructor(){}supports(r){return il(r)}create(r){return new TI(r)}}const bI=(n,r)=>r;class TI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||bI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const _=!a||s&&s.currentIndex<hw(a,l,d)?s:a,T=hw(_,l,d),x=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{d||(d=[]);const V=T-l,Y=x-l;if(V!=Y){for(let xe=0;xe<V;xe++){const Xe=xe<d.length?d[xe]:d[xe]=0,Et=Xe+xe;Y<=Et&&Et<V&&(d[xe]=Xe+1)}d[_.previousIndex]=Y-V}}T!==x&&r(_,T,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!il(r))throw new Ke(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)d=r[T],_=this._trackByFn(T,d),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,d,_,T)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,_,T),a=!0),s=s._next}else l=0,function sm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Nu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,T=>{_=this._trackByFn(l,T),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,T,_,l)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new CI(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new dw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class dw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new SI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hw(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class fw{constructor(){}supports(r){return r instanceof Map||Ou(r)}create(){return new AI}}class AI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Ou(r)))throw new Ke(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,_=l._next;return d&&(d._next=_),_&&(_._prev=d),l._next=null,l._prev=null,l}const a=new MI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class MI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pw(){return new bv([new cw])}let bv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||pw()),deps:[[n,new Ka,new Sa]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Ke(901,!1)}}return n.\u0275prov=zn({token:n,providedIn:"root",factory:pw}),n})();function gw(){return new Tv([new fw])}let Tv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||gw()),deps:[[n,new Ka,new Sa]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Ke(901,!1)}}return n.\u0275prov=zn({token:n,providedIn:"root",factory:gw}),n})();const PI=Q0(null,"core",[]);let NI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(_s(Lm))},n.\u0275mod=An({type:n}),n.\u0275inj=ln({}),n})();function OI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Jt,Ze,U)=>{U.d(Ze,{EJ:()=>hs,F:()=>Rr,Fj:()=>Te,JJ:()=>Bt,JL:()=>vn,JU:()=>Me,Kr:()=>is,NI:()=>ke,On:()=>Ki,UX:()=>vt,Wl:()=>he,YN:()=>Ts,_Y:()=>Ui,a5:()=>Rn,cw:()=>se,kI:()=>Be,oH:()=>rs,qQ:()=>so,qu:()=>fn,sg:()=>Yi,u:()=>ds,u5:()=>et,wV:()=>ki,x0:()=>ci});var m=U(4650),F=U(6895),ae=U(8996),Ee=U(4128),Ie=U(4004);let Pe=(()=>{class k{constructor(f,I){this._renderer=f,this._elementRef=I,this.onChange=G=>{},this.onTouched=()=>{}}setProperty(f,I){this._renderer.setProperty(this._elementRef.nativeElement,f,I)}registerOnTouched(f){this.onTouched=f}registerOnChange(f){this.onChange=f}setDisabledState(f){this.setProperty("disabled",f)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(m.Qsj),m.Y36(m.SBq))},k.\u0275dir=m.lG2({type:k}),k})(),ue=(()=>{class k extends Pe{}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,features:[m.qOj]}),k})();const Me=new m.OlP("NgValueAccessor"),Ue={provide:Me,useExisting:(0,m.Gpc)(()=>he),multi:!0};let he=(()=>{class k extends ue{writeValue(f){this.setProperty("checked",f)}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(f,I){1&f&&m.NdJ("change",function(re){return I.onChange(re.target.checked)})("blur",function(){return I.onTouched()})},features:[m._Bn([Ue]),m.qOj]}),k})();const fe={provide:Me,useExisting:(0,m.Gpc)(()=>Te),multi:!0},Ge=new m.OlP("CompositionEventMode");let Te=(()=>{class k extends Pe{constructor(f,I,G){super(f,I),this._compositionMode=G,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const k=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(f){this.setProperty("value",f??"")}_handleInput(f){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(f)}_compositionStart(){this._composing=!0}_compositionEnd(f){this._composing=!1,this._compositionMode&&this.onChange(f)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ge,8))},k.\u0275dir=m.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,I){1&f&&m.NdJ("input",function(re){return I._handleInput(re.target.value)})("blur",function(){return I.onTouched()})("compositionstart",function(){return I._compositionStart()})("compositionend",function(re){return I._compositionEnd(re.target.value)})},features:[m._Bn([fe]),m.qOj]}),k})();function He(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function gt(k){return null!=k&&"number"==typeof k.length}const st=new m.OlP("NgValidators"),Kt=new m.OlP("NgAsyncValidators"),en=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(O){return Se(O)}static max(O){return function Je(k){return O=>{if(He(O.value)||He(k))return null;const f=parseFloat(O.value);return!isNaN(f)&&f>k?{max:{max:k,actual:O.value}}:null}}(O)}static required(O){return function At(k){return He(k.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Oe(k){return!0===k.value?null:{required:!0}}(O)}static email(O){return function ze(k){return He(k.value)||en.test(k.value)?null:{email:!0}}(O)}static minLength(O){return function at(k){return O=>He(O.value)||!gt(O.value)?null:O.value.length<k?{minlength:{requiredLength:k,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function Re(k){return O=>gt(O.value)&&O.value.length>k?{maxlength:{requiredLength:k,actualLength:O.value.length}}:null}(O)}static pattern(O){return function Le(k){if(!k)return nt;let O,f;return"string"==typeof k?(f="","^"!==k.charAt(0)&&(f+="^"),f+=k,"$"!==k.charAt(k.length-1)&&(f+="$"),O=new RegExp(f)):(f=k.toString(),O=k),I=>{if(He(I.value))return null;const G=I.value;return O.test(G)?null:{pattern:{requiredPattern:f,actualValue:G}}}}(O)}static nullValidator(O){return null}static compose(O){return bt(O)}static composeAsync(O){return er(O)}}function Se(k){return O=>{if(He(O.value)||He(k))return null;const f=parseFloat(O.value);return!isNaN(f)&&f<k?{min:{min:k,actual:O.value}}:null}}function nt(k){return null}function Ve(k){return null!=k}function _t(k){return(0,m.QGY)(k)?(0,ae.D)(k):k}function ct(k){let O={};return k.forEach(f=>{O=null!=f?{...O,...f}:O}),0===Object.keys(O).length?null:O}function qt(k,O){return O.map(f=>f(k))}function _n(k){return k.map(O=>function Bn(k){return!k.validate}(O)?O:f=>O.validate(f))}function bt(k){if(!k)return null;const O=k.filter(Ve);return 0==O.length?null:function(f){return ct(qt(f,O))}}function In(k){return null!=k?bt(_n(k)):null}function er(k){if(!k)return null;const O=k.filter(Ve);return 0==O.length?null:function(f){const I=qt(f,O).map(_t);return(0,Ee.D)(I).pipe((0,Ie.U)(ct))}}function Zn(k){return null!=k?er(_n(k)):null}function zn(k,O){return null===k?[O]:Array.isArray(k)?[...k,O]:[k,O]}function Fn(k){return k._rawValidators}function ln(k){return k._rawAsyncValidators}function on(k){return k?Array.isArray(k)?k:[k]:[]}function Ar(k,O){return Array.isArray(k)?k.includes(O):k===O}function Wr(k,O){const f=on(O);return on(k).forEach(G=>{Ar(f,G)||f.push(G)}),f}function nr(k,O){return on(O).filter(f=>!Ar(k,f))}class lr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=In(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,f){return!!this.control&&this.control.hasError(O,f)}getError(O,f){return this.control?this.control.getError(O,f):null}}class $n extends lr{get formDirective(){return null}get path(){return null}}class Rn extends lr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bt=(()=>{class k extends sr{constructor(f){super(f)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(Rn,2))},k.\u0275dir=m.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,I){2&f&&m.ekj("ng-untouched",I.isUntouched)("ng-touched",I.isTouched)("ng-pristine",I.isPristine)("ng-dirty",I.isDirty)("ng-valid",I.isValid)("ng-invalid",I.isInvalid)("ng-pending",I.isPending)},features:[m.qOj]}),k})(),vn=(()=>{class k extends sr{constructor(f){super(f)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36($n,10))},k.\u0275dir=m.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,I){2&f&&m.ekj("ng-untouched",I.isUntouched)("ng-touched",I.isTouched)("ng-pristine",I.isPristine)("ng-dirty",I.isDirty)("ng-valid",I.isValid)("ng-invalid",I.isInvalid)("ng-pending",I.isPending)("ng-submitted",I.isSubmitted)},features:[m.qOj]}),k})();const tr="VALID",Dr="INVALID",Dt="PENDING",qe="DISABLED";function Ct(k){return(pe(k)?k.validators:k)||null}function cn(k){return Array.isArray(k)?In(k):k||null}function $t(k,O){return(pe(O)?O.asyncValidators:k)||null}function An(k){return Array.isArray(k)?Zn(k):k||null}function pe(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function ce(k,O,f){const I=k.controls;if(!(O?Object.keys(I):I).length)throw new m.vHH(1e3,"");if(!I[f])throw new m.vHH(1001,"")}function K(k,O,f){k._forEachChild((I,G)=>{if(void 0===f[G])throw new m.vHH(1002,"")})}class ge{constructor(O,f){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=f,this._composedValidatorFn=cn(this._rawValidators),this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===tr}get invalid(){return this.status===Dr}get pending(){return this.status==Dt}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=cn(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=An(O)}addValidators(O){this.setValidators(Wr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Wr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(nr(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(nr(O,this._rawAsyncValidators))}hasValidator(O){return Ar(this._rawValidators,O)}hasAsyncValidator(O){return Ar(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(f=>{f.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(f=>{f.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=Dt,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const f=this._parentMarkedDirty(O.onlySelf);this.status=qe,this.errors=null,this._forEachChild(I=>{I.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:f}),this._onDisabledChange.forEach(I=>I(!0))}enable(O={}){const f=this._parentMarkedDirty(O.onlySelf);this.status=tr,this._forEachChild(I=>{I.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:f}),this._onDisabledChange.forEach(I=>I(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tr||this.status===Dt)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(f=>f._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:tr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=Dt,this._hasOwnPendingAsyncValidator=!0;const f=_t(this.asyncValidator(this));this._asyncValidationSubscription=f.subscribe(I=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(I,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,f={}){this.errors=O,this._updateControlsErrors(!1!==f.emitEvent)}get(O){let f=O;return null==f||(Array.isArray(f)||(f=f.split(".")),0===f.length)?null:f.reduce((I,G)=>I&&I._find(G),this)}getError(O,f){const I=f?this.get(f):this;return I&&I.errors?I.errors[O]:null}hasError(O,f){return!!this.getError(O,f)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dt)?Dt:this._anyControlsHaveStatus(Dr)?Dr:tr}_anyControlsHaveStatus(O){return this._anyControls(f=>f.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){pe(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class se extends ge{constructor(O,f,I){super(Ct(f),$t(I,f)),this.controls=O,this._initObservables(),this._setUpdateStrategy(f),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,f){return this.controls[O]?this.controls[O]:(this.controls[O]=f,f.setParent(this),f._registerOnCollectionChange(this._onCollectionChange),f)}addControl(O,f,I={}){this.registerControl(O,f),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}removeControl(O,f={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}setControl(O,f,I={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],f&&this.registerControl(O,f),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,f={}){K(this,0,O),Object.keys(O).forEach(I=>{ce(this,!0,I),this.controls[I].setValue(O[I],{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f)}patchValue(O,f={}){null!=O&&(Object.keys(O).forEach(I=>{const G=this.controls[I];G&&G.patchValue(O[I],{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f))}reset(O={},f={}){this._forEachChild((I,G)=>{I.reset(O[G],{onlySelf:!0,emitEvent:f.emitEvent})}),this._updatePristine(f),this._updateTouched(f),this.updateValueAndValidity(f)}getRawValue(){return this._reduceChildren({},(O,f,I)=>(O[I]=f.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(f,I)=>!!I._syncPendingControls()||f);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(f=>{const I=this.controls[f];I&&O(I,f)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[f,I]of Object.entries(this.controls))if(this.contains(f)&&O(I))return!0;return!1}_reduceValue(){return this._reduceChildren({},(f,I,G)=>((I.enabled||this.disabled)&&(f[G]=I.value),f))}_reduceChildren(O,f){let I=O;return this._forEachChild((G,re)=>{I=f(I,G,re)}),I}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class Vt extends se{}function Zt(k,O){return[...O.path,k]}function ie(k,O){lt(k,O),O.valueAccessor.writeValue(k.value),k.disabled&&O.valueAccessor.setDisabledState?.(!0),function mn(k,O){O.valueAccessor.registerOnChange(f=>{k._pendingValue=f,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Mr(k,O)})}(k,O),function bi(k,O){const f=(I,G)=>{O.valueAccessor.writeValue(I),G&&O.viewToModelUpdate(I)};k.registerOnChange(f),O._registerOnDestroy(()=>{k._unregisterOnChange(f)})}(k,O),function Cn(k,O){O.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Mr(k,O),"submit"!==k.updateOn&&k.markAsTouched()})}(k,O),function Ae(k,O){if(O.valueAccessor.setDisabledState){const f=I=>{O.valueAccessor.setDisabledState(I)};k.registerOnDisabledChange(f),O._registerOnDestroy(()=>{k._unregisterOnDisabledChange(f)})}}(k,O)}function X(k,O,f=!0){const I=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(I),O.valueAccessor.registerOnTouched(I)),Ot(k,O),k&&(O._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function Q(k,O){k.forEach(f=>{f.registerOnValidatorChange&&f.registerOnValidatorChange(O)})}function lt(k,O){const f=Fn(k);null!==O.validator?k.setValidators(zn(f,O.validator)):"function"==typeof f&&k.setValidators([f]);const I=ln(k);null!==O.asyncValidator?k.setAsyncValidators(zn(I,O.asyncValidator)):"function"==typeof I&&k.setAsyncValidators([I]);const G=()=>k.updateValueAndValidity();Q(O._rawValidators,G),Q(O._rawAsyncValidators,G)}function Ot(k,O){let f=!1;if(null!==k){if(null!==O.validator){const G=Fn(k);if(Array.isArray(G)&&G.length>0){const re=G.filter(Ne=>Ne!==O.validator);re.length!==G.length&&(f=!0,k.setValidators(re))}}if(null!==O.asyncValidator){const G=ln(k);if(Array.isArray(G)&&G.length>0){const re=G.filter(Ne=>Ne!==O.asyncValidator);re.length!==G.length&&(f=!0,k.setAsyncValidators(re))}}}const I=()=>{};return Q(O._rawValidators,I),Q(O._rawAsyncValidators,I),f}function Mr(k,O){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function an(k,O){lt(k,O)}function Kn(k,O){if(!k.hasOwnProperty("model"))return!1;const f=k.model;return!!f.isFirstChange()||!Object.is(O,f.currentValue)}function ar(k,O){k._syncPendingControls(),O.forEach(f=>{const I=f.control;"submit"===I.updateOn&&I._pendingChange&&(f.viewToModelUpdate(I._pendingValue),I._pendingChange=!1)})}function Xr(k,O){if(!O)return null;let f,I,G;return Array.isArray(O),O.forEach(re=>{re.constructor===Te?f=re:function xr(k){return Object.getPrototypeOf(k.constructor)===ue}(re)?I=re:G=re}),G||I||f||null}const ws={provide:$n,useExisting:(0,m.Gpc)(()=>Rr)},qi=(()=>Promise.resolve())();let Rr=(()=>{class k extends $n{constructor(f,I){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new se({},In(f),Zn(I))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(f){qi.then(()=>{const I=this._findContainer(f.path);f.control=I.registerControl(f.name,f.control),ie(f.control,f),f.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(f)})}getControl(f){return this.form.get(f.path)}removeControl(f){qi.then(()=>{const I=this._findContainer(f.path);I&&I.removeControl(f.name),this._directives.delete(f)})}addFormGroup(f){qi.then(()=>{const I=this._findContainer(f.path),G=new se({});an(G,f),I.registerControl(f.name,G),G.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(f){qi.then(()=>{const I=this._findContainer(f.path);I&&I.removeControl(f.name)})}getFormGroup(f){return this.form.get(f.path)}updateModel(f,I){qi.then(()=>{this.form.get(f.path).setValue(I)})}setValue(f){this.control.setValue(f)}onSubmit(f){return this.submitted=!0,ar(this.form,this._directives),this.ngSubmit.emit(f),"dialog"===f?.target?.method}onReset(){this.resetForm()}resetForm(f){this.form.reset(f),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(f){return f.pop(),f.length?this.form.get(f):this.form}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(st,10),m.Y36(Kt,10))},k.\u0275dir=m.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(f,I){1&f&&m.NdJ("submit",function(re){return I.onSubmit(re)})("reset",function(){return I.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ws]),m.qOj]}),k})();function Pi(k,O){const f=k.indexOf(O);f>-1&&k.splice(f,1)}function ni(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const ke=class extends ge{constructor(O=null,f,I){super(Ct(f),$t(I,f)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(f),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(f)&&(f.nonNullable||f.initialValueIsDefault)&&(this.defaultValue=ni(O)?O.value:O)}setValue(O,f={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==f.emitModelToViewChange&&this._onChange.forEach(I=>I(this.value,!1!==f.emitViewToModelChange)),this.updateValueAndValidity(f)}patchValue(O,f={}){this.setValue(O,f)}reset(O=this.defaultValue,f={}){this._applyFormState(O),this.markAsPristine(f),this.markAsUntouched(f),this.setValue(this.value,f),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){Pi(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){Pi(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){ni(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}};let ht=(()=>{class k extends $n{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,features:[m.qOj]}),k})();const Ni={provide:Rn,useExisting:(0,m.Gpc)(()=>Ki)},ri=(()=>Promise.resolve())();let Ki=(()=>{class k extends Rn{constructor(f,I,G,re,Ne){super(),this._changeDetectorRef=Ne,this.control=new ke,this._registered=!1,this.update=new m.vpe,this._parent=f,this._setValidators(I),this._setAsyncValidators(G),this.valueAccessor=Xr(0,re)}ngOnChanges(f){if(this._checkForErrors(),!this._registered||"name"in f){if(this._registered&&(this._checkName(),this.formDirective)){const I=f.name.previousValue;this.formDirective.removeControl({name:I,path:this._getPath(I)})}this._setUpControl()}"isDisabled"in f&&this._updateDisabled(f),Kn(f,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ie(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(f){ri.then(()=>{this.control.setValue(f,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(f){const I=f.isDisabled.currentValue,G=0!==I&&(0,m.D6c)(I);ri.then(()=>{G&&!this.control.disabled?this.control.disable():!G&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(f){return this._parent?Zt(f,this._parent):[f]}}return k.\u0275fac=function(f){return new(f||k)(m.Y36($n,9),m.Y36(st,10),m.Y36(Kt,10),m.Y36(Me,10),m.Y36(m.sBO,8))},k.\u0275dir=m.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Ni]),m.qOj,m.TTD]}),k})(),Ui=(()=>{class k{}return k.\u0275fac=function(f){return new(f||k)},k.\u0275dir=m.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const Oi={provide:Me,useExisting:(0,m.Gpc)(()=>ki),multi:!0};let ki=(()=>{class k extends ue{writeValue(f){this.setProperty("value",f??"")}registerOnChange(f){this.onChange=I=>{f(""==I?null:parseFloat(I))}}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(f,I){1&f&&m.NdJ("input",function(re){return I.onChange(re.target.value)})("blur",function(){return I.onTouched()})},features:[m._Bn([Oi]),m.qOj]}),k})(),Ds=(()=>{class k{}return k.\u0275fac=function(f){return new(f||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({}),k})();const ks=new m.OlP("NgModelWithFormControlWarning"),Fi={provide:Rn,useExisting:(0,m.Gpc)(()=>rs)};let rs=(()=>{class k extends Rn{constructor(f,I,G,re){super(),this._ngModelWarningConfig=re,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators(f),this._setAsyncValidators(I),this.valueAccessor=Xr(0,G)}set isDisabled(f){}ngOnChanges(f){if(this._isControlChanged(f)){const I=f.form.previousValue;I&&X(I,this,!1),ie(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Kn(f,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&X(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}_isControlChanged(f){return f.hasOwnProperty("form")}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(f){return new(f||k)(m.Y36(st,10),m.Y36(Kt,10),m.Y36(Me,10),m.Y36(ks,8))},k.\u0275dir=m.lG2({type:k,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([Fi]),m.qOj,m.TTD]}),k})();const Fs={provide:$n,useExisting:(0,m.Gpc)(()=>Yi)};let Yi=(()=>{class k extends $n{constructor(f,I){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(f),this._setAsyncValidators(I)}ngOnChanges(f){this._checkFormPresent(),f.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ot(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(f){const I=this.form.get(f.path);return ie(I,f),I.updateValueAndValidity({emitEvent:!1}),this.directives.push(f),I}getControl(f){return this.form.get(f.path)}removeControl(f){X(f.control||null,f,!1),function Ri(k,O){const f=k.indexOf(O);f>-1&&k.splice(f,1)}(this.directives,f)}addFormGroup(f){this._setUpFormContainer(f)}removeFormGroup(f){this._cleanUpFormContainer(f)}getFormGroup(f){return this.form.get(f.path)}addFormArray(f){this._setUpFormContainer(f)}removeFormArray(f){this._cleanUpFormContainer(f)}getFormArray(f){return this.form.get(f.path)}updateModel(f,I){this.form.get(f.path).setValue(I)}onSubmit(f){return this.submitted=!0,ar(this.form,this.directives),this.ngSubmit.emit(f),"dialog"===f?.target?.method}onReset(){this.resetForm()}resetForm(f){this.form.reset(f),this.submitted=!1}_updateDomValue(){this.directives.forEach(f=>{const I=f.control,G=this.form.get(f.path);I!==G&&(X(I||null,f),(k=>k instanceof ke)(G)&&(ie(G,f),f.control=G))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(f){const I=this.form.get(f.path);an(I,f),I.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(f){if(this.form){const I=this.form.get(f.path);I&&function Fe(k,O){return Ot(k,O)}(I,f)&&I.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lt(this.form,this),this._oldForm&&Ot(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(st,10),m.Y36(Kt,10))},k.\u0275dir=m.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(f,I){1&f&&m.NdJ("submit",function(re){return I.onSubmit(re)})("reset",function(){return I.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Fs]),m.qOj,m.TTD]}),k})();const Ls={provide:$n,useExisting:(0,m.Gpc)(()=>ci)};let ci=(()=>{class k extends ht{constructor(f,I,G){super(),this._parent=f,this._setValidators(I),this._setAsyncValidators(G)}_checkParentType(){bs(this._parent)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36($n,13),m.Y36(st,10),m.Y36(Kt,10))},k.\u0275dir=m.lG2({type:k,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[m._Bn([Ls]),m.qOj]}),k})();const Js={provide:$n,useExisting:(0,m.Gpc)(()=>mo)};let mo=(()=>{class k extends $n{constructor(f,I,G){super(),this._parent=f,this._setValidators(I),this._setAsyncValidators(G)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){bs(this._parent)}}return k.\u0275fac=function(f){return new(f||k)(m.Y36($n,13),m.Y36(st,10),m.Y36(Kt,10))},k.\u0275dir=m.lG2({type:k,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[m._Bn([Js]),m.qOj]}),k})();function bs(k){return!(k instanceof ci||k instanceof Yi||k instanceof mo)}const si={provide:Rn,useExisting:(0,m.Gpc)(()=>ds)};let ds=(()=>{class k extends Rn{constructor(f,I,G,re,Ne){super(),this._ngModelWarningConfig=Ne,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=f,this._setValidators(I),this._setAsyncValidators(G),this.valueAccessor=Xr(0,re)}set isDisabled(f){}ngOnChanges(f){this._added||this._setUpControl(),Kn(f,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(f){return new(f||k)(m.Y36($n,13),m.Y36(st,10),m.Y36(Kt,10),m.Y36(Me,10),m.Y36(ks,8))},k.\u0275dir=m.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([si]),m.qOj,m.TTD]}),k})();const Hi={provide:Me,useExisting:(0,m.Gpc)(()=>hs),multi:!0};function Zi(k,O){return null==k?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${k}: ${O}`.slice(0,50))}let hs=(()=>{class k extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(f){this._compareWith=f}writeValue(f){this.value=f;const G=Zi(this._getOptionId(f),f);this.setProperty("value",G)}registerOnChange(f){this.onChange=I=>{this.value=this._getOptionValue(I),f(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(f){for(const I of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(I),f))return I;return null}_getOptionValue(f){const I=function Vs(k){return k.split(":")[0]}(f);return this._optionMap.has(I)?this._optionMap.get(I):f}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(f,I){1&f&&m.NdJ("change",function(re){return I.onChange(re.target.value)})("blur",function(){return I.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Hi]),m.qOj]}),k})(),Ts=(()=>{class k{constructor(f,I,G){this._element=f,this._renderer=I,this._select=G,this._select&&(this.id=this._select._registerOption())}set ngValue(f){null!=this._select&&(this._select._optionMap.set(this.id,f),this._setElementValue(Zi(this.id,f)),this._select.writeValue(this._select.value))}set value(f){this._setElementValue(f),this._select&&this._select.writeValue(this._select.value)}_setElementValue(f){this._renderer.setProperty(this._element.nativeElement,"value",f)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(hs,9))},k.\u0275dir=m.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();const Br={provide:Me,useExisting:(0,m.Gpc)(()=>di),multi:!0};function Ws(k,O){return null==k?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${k}: ${O}`.slice(0,50))}let di=(()=>{class k extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(f){this._compareWith=f}writeValue(f){let I;if(this.value=f,Array.isArray(f)){const G=f.map(re=>this._getOptionId(re));I=(re,Ne)=>{re._setSelected(G.indexOf(Ne.toString())>-1)}}else I=(G,re)=>{G._setSelected(!1)};this._optionMap.forEach(I)}registerOnChange(f){this.onChange=I=>{const G=[],re=I.selectedOptions;if(void 0!==re){const Ne=re;for(let ft=0;ft<Ne.length;ft++){const Ft=this._getOptionValue(Ne[ft].value);G.push(Ft)}}else{const Ne=I.options;for(let ft=0;ft<Ne.length;ft++){const Mt=Ne[ft];if(Mt.selected){const Ft=this._getOptionValue(Mt.value);G.push(Ft)}}}this.value=G,f(G)}}_registerOption(f){const I=(this._idCounter++).toString();return this._optionMap.set(I,f),I}_getOptionId(f){for(const I of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(I)._value,f))return I;return null}_getOptionValue(f){const I=function Gi(k){return k.split(":")[0]}(f);return this._optionMap.has(I)?this._optionMap.get(I)._value:f}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(f,I){1&f&&m.NdJ("change",function(re){return I.onChange(re.target)})("blur",function(){return I.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Br]),m.qOj]}),k})(),is=(()=>{class k{constructor(f,I,G){this._element=f,this._renderer=I,this._select=G,this._select&&(this.id=this._select._registerOption(this))}set ngValue(f){null!=this._select&&(this._value=f,this._setElementValue(Ws(this.id,f)),this._select.writeValue(this._select.value))}set value(f){this._select?(this._value=f,this._setElementValue(Ws(this.id,f)),this._select.writeValue(this._select.value)):this._setElementValue(f)}_setElementValue(f){this._renderer.setProperty(this._element.nativeElement,"value",f)}_setSelected(f){this._renderer.setProperty(this._element.nativeElement,"selected",f)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(f){return new(f||k)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(di,9))},k.\u0275dir=m.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();let ss=(()=>{class k{constructor(){this._validator=nt}ngOnChanges(f){if(this.inputName in f){const I=this.normalizeInput(f[this.inputName].currentValue);this._enabled=this.enabled(I),this._validator=this._enabled?this.createValidator(I):nt,this._onChange&&this._onChange()}}validate(f){return this._validator(f)}registerOnValidatorChange(f){this._onChange=f}enabled(f){return null!=f}}return k.\u0275fac=function(f){return new(f||k)},k.\u0275dir=m.lG2({type:k,features:[m.TTD]}),k})();const fs={provide:st,useExisting:(0,m.Gpc)(()=>so),multi:!0};let so=(()=>{class k extends ss{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=f=>function qs(k){return"number"==typeof k?k:parseFloat(k)}(f),this.createValidator=f=>Se(f)}}return k.\u0275fac=function(){let O;return function(I){return(O||(O=m.n5z(k)))(I||k)}}(),k.\u0275dir=m.lG2({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(f,I){2&f&&m.uIk("min",I._enabled?I.min:null)},inputs:{min:"min"},features:[m._Bn([fs]),m.qOj]}),k})(),Ce=(()=>{class k{}return k.\u0275fac=function(f){return new(f||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[Ds]}),k})(),et=(()=>{class k{}return k.\u0275fac=function(f){return new(f||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[Ce]}),k})(),vt=(()=>{class k{static withConfig(f){return{ngModule:k,providers:[{provide:ks,useValue:f.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(f){return new(f||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[Ce]}),k})();class kt extends ge{constructor(O,f,I){super(Ct(f),$t(I,f)),this.controls=O,this._initObservables(),this._setUpdateStrategy(f),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,f={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}insert(O,f,I={}){this.controls.splice(O,0,f),this._registerControl(f),this.updateValueAndValidity({emitEvent:I.emitEvent})}removeAt(O,f={}){let I=this._adjustIndex(O);I<0&&(I=0),this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),this.updateValueAndValidity({emitEvent:f.emitEvent})}setControl(O,f,I={}){let G=this._adjustIndex(O);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),f&&(this.controls.splice(G,0,f),this._registerControl(f)),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,f={}){K(this,0,O),O.forEach((I,G)=>{ce(this,!1,G),this.at(G).setValue(I,{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f)}patchValue(O,f={}){null!=O&&(O.forEach((I,G)=>{this.at(G)&&this.at(G).patchValue(I,{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f))}reset(O=[],f={}){this._forEachChild((I,G)=>{I.reset(O[G],{onlySelf:!0,emitEvent:f.emitEvent})}),this._updatePristine(f),this._updateTouched(f),this.updateValueAndValidity(f)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(f=>f._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((f,I)=>!!I._syncPendingControls()||f,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((f,I)=>{O(f,I)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(f=>f.enabled&&O(f))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function dt(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let fn=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const f=new k;return f.useNonNullable=!0,f}group(f,I=null){const G=this._reduceControls(f);let re={};return dt(I)?re=I:null!==I&&(re.validators=I.validator,re.asyncValidators=I.asyncValidator),new se(G,re)}record(f,I=null){const G=this._reduceControls(f);return new Vt(G,I)}control(f,I,G){let re={};return this.useNonNullable?(dt(I)?re=I:(re.validators=I,re.asyncValidators=G),new ke(f,{...re,nonNullable:!0})):new ke(f,I,G)}array(f,I,G){const re=f.map(Ne=>this._createControl(Ne));return new kt(re,I,G)}_reduceControls(f){const I={};return Object.keys(f).forEach(G=>{I[G]=this._createControl(f[G])}),I}_createControl(f){return f instanceof ke||f instanceof ge?f:Array.isArray(f)?this.control(f[0],f.length>1?f[1]:null,f.length>2?f[2]:null):this.control(f)}}return k.\u0275fac=function(f){return new(f||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:vt}),k})()},1481:(Jt,Ze,U)=>{U.d(Ze,{Dx:()=>or,H7:()=>ut,b2:()=>Hr,q6:()=>Vr,se:()=>Ve});var m=U(6895),F=U(4650);class ae extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends ae{static makeCurrent(){(0,m.HT)(new Ee)}onAndCancel(X,Q,Ae){return X.addEventListener(Q,Ae,!1),()=>{X.removeEventListener(Q,Ae,!1)}}dispatchEvent(X,Q){X.dispatchEvent(Q)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,Q){return(Q=Q||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,Q){return"window"===Q?window:"document"===Q?X:"body"===Q?X.body:null}getBaseHref(X){const Q=function Pe(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==Q?null:function Me(ie){ue=ue||document.createElement("a"),ue.setAttribute("href",ie);const X=ue.pathname;return"/"===X.charAt(0)?X:`/${X}`}(Q)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,m.Mx)(document.cookie,X)}}let ue,Ie=null;const Ue=new F.OlP("TRANSITION_ID"),fe=[{provide:F.ip1,useFactory:function he(ie,X,Q){return()=>{Q.get(F.CZH).donePromise.then(()=>{const Ae=(0,m.q)(),lt=X.querySelectorAll(`style[ng-transition="${ie}"]`);for(let Ot=0;Ot<lt.length;Ot++)Ae.remove(lt[Ot])})}},deps:[Ue,m.K0,F.zs3],multi:!0}];let Ge=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(Q){return new(Q||ie)},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Te=new F.OlP("EventManagerPlugins");let Ke=(()=>{class ie{constructor(Q,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,Q.forEach(lt=>lt.manager=this),this._plugins=Q.slice().reverse()}addEventListener(Q,Ae,lt){return this._findPluginFor(Ae).addEventListener(Q,Ae,lt)}addGlobalEventListener(Q,Ae,lt){return this._findPluginFor(Ae).addGlobalEventListener(Q,Ae,lt)}getZone(){return this._zone}_findPluginFor(Q){const Ae=this._eventNameToPlugin.get(Q);if(Ae)return Ae;const lt=this._plugins;for(let Ot=0;Ot<lt.length;Ot++){const mn=lt[Ot];if(mn.supports(Q))return this._eventNameToPlugin.set(Q,mn),mn}throw new Error(`No event manager plugin found for event ${Q}`)}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(Te),F.LFG(F.R0b))},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class He{constructor(X){this._doc=X}addGlobalEventListener(X,Q,Ae){const lt=(0,m.q)().getGlobalEventTarget(this._doc,X);if(!lt)throw new Error(`Unsupported event target ${lt} for event ${Q}`);return this.addEventListener(lt,Q,Ae)}}let gt=(()=>{class ie{constructor(){this._stylesSet=new Set}addStyles(Q){const Ae=new Set;Q.forEach(lt=>{this._stylesSet.has(lt)||(this._stylesSet.add(lt),Ae.add(lt))}),this.onStylesAdded(Ae)}onStylesAdded(Q){}getAllStyles(){return Array.from(this._stylesSet)}}return ie.\u0275fac=function(Q){return new(Q||ie)},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),st=(()=>{class ie extends gt{constructor(Q){super(),this._doc=Q,this._hostNodes=new Map,this._hostNodes.set(Q.head,[])}_addStylesToHost(Q,Ae,lt){Q.forEach(Ot=>{const mn=this._doc.createElement("style");mn.textContent=Ot,lt.push(Ae.appendChild(mn))})}addHost(Q){const Ae=[];this._addStylesToHost(this._stylesSet,Q,Ae),this._hostNodes.set(Q,Ae)}removeHost(Q){const Ae=this._hostNodes.get(Q);Ae&&Ae.forEach(Kt),this._hostNodes.delete(Q)}onStylesAdded(Q){this._hostNodes.forEach((Ae,lt)=>{this._addStylesToHost(Q,lt,Ae)})}ngOnDestroy(){this._hostNodes.forEach(Q=>Q.forEach(Kt))}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(m.K0))},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function Kt(ie){(0,m.q)().remove(ie)}const en={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function Re(ie,X,Q){for(let Ae=0;Ae<X.length;Ae++){let lt=X[Ae];Array.isArray(lt)?Re(ie,lt,Q):(lt=lt.replace(Be,ie),Q.push(lt))}return Q}function Le(ie){return X=>{if("__ngUnwrap__"===X)return ie;!1===ie(X)&&(X.preventDefault(),X.returnValue=!1)}}let Ve=(()=>{class ie{constructor(Q,Ae,lt){this.eventManager=Q,this.sharedStylesHost=Ae,this.appId=lt,this.rendererByCompId=new Map,this.defaultRenderer=new _t(Q)}createRenderer(Q,Ae){if(!Q||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case F.ifc.Emulated:{let lt=this.rendererByCompId.get(Ae.id);return lt||(lt=new _n(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,lt)),lt.applyToHost(Q),lt}case 1:case F.ifc.ShadowDom:return new bt(this.eventManager,this.sharedStylesHost,Q,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const lt=Re(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(lt),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(Ke),F.LFG(st),F.LFG(F.AFp))},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class _t{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,Q){return Q?document.createElementNS(en[Q]||Q,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,Q){(Bn(X)?X.content:X).appendChild(Q)}insertBefore(X,Q,Ae){X&&(Bn(X)?X.content:X).insertBefore(Q,Ae)}removeChild(X,Q){X&&X.removeChild(Q)}selectRootElement(X,Q){let Ae="string"==typeof X?document.querySelector(X):X;if(!Ae)throw new Error(`The selector "${X}" did not match any elements`);return Q||(Ae.textContent=""),Ae}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,Q,Ae,lt){if(lt){Q=lt+":"+Q;const Ot=en[lt];Ot?X.setAttributeNS(Ot,Q,Ae):X.setAttribute(Q,Ae)}else X.setAttribute(Q,Ae)}removeAttribute(X,Q,Ae){if(Ae){const lt=en[Ae];lt?X.removeAttributeNS(lt,Q):X.removeAttribute(`${Ae}:${Q}`)}else X.removeAttribute(Q)}addClass(X,Q){X.classList.add(Q)}removeClass(X,Q){X.classList.remove(Q)}setStyle(X,Q,Ae,lt){lt&(F.JOm.DashCase|F.JOm.Important)?X.style.setProperty(Q,Ae,lt&F.JOm.Important?"important":""):X.style[Q]=Ae}removeStyle(X,Q,Ae){Ae&F.JOm.DashCase?X.style.removeProperty(Q):X.style[Q]=""}setProperty(X,Q,Ae){X[Q]=Ae}setValue(X,Q){X.nodeValue=Q}listen(X,Q,Ae){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,Q,Le(Ae)):this.eventManager.addEventListener(X,Q,Le(Ae))}}function Bn(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class _n extends _t{constructor(X,Q,Ae,lt){super(X),this.component=Ae;const Ot=Re(lt+"-"+Ae.id,Ae.styles,[]);Q.addStyles(Ot),this.contentAttr=function ze(ie){return"_ngcontent-%COMP%".replace(Be,ie)}(lt+"-"+Ae.id),this.hostAttr=function at(ie){return"_nghost-%COMP%".replace(Be,ie)}(lt+"-"+Ae.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,Q){const Ae=super.createElement(X,Q);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class bt extends _t{constructor(X,Q,Ae,lt){super(X),this.sharedStylesHost=Q,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=Re(lt.id,lt.styles,[]);for(let mn=0;mn<Ot.length;mn++){const Cn=document.createElement("style");Cn.textContent=Ot[mn],this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,Q){return super.appendChild(this.nodeOrShadowRoot(X),Q)}insertBefore(X,Q,Ae){return super.insertBefore(this.nodeOrShadowRoot(X),Q,Ae)}removeChild(X,Q){return super.removeChild(this.nodeOrShadowRoot(X),Q)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let In=(()=>{class ie extends He{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,Ae,lt){return Q.addEventListener(Ae,lt,!1),()=>this.removeEventListener(Q,Ae,lt)}removeEventListener(Q,Ae,lt){return Q.removeEventListener(Ae,lt)}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(m.K0))},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const er=["alt","control","meta","shift"],Zn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zn={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Fn=(()=>{class ie extends He{constructor(Q){super(Q)}supports(Q){return null!=ie.parseEventName(Q)}addEventListener(Q,Ae,lt){const Ot=ie.parseEventName(Ae),mn=ie.eventCallback(Ot.fullKey,lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Q,Ot.domEventName,mn))}static parseEventName(Q){const Ae=Q.toLowerCase().split("."),lt=Ae.shift();if(0===Ae.length||"keydown"!==lt&&"keyup"!==lt)return null;const Ot=ie._normalizeKey(Ae.pop());let mn="",Cn=Ae.indexOf("code");if(Cn>-1&&(Ae.splice(Cn,1),mn="code."),er.forEach(bi=>{const an=Ae.indexOf(bi);an>-1&&(Ae.splice(an,1),mn+=bi+".")}),mn+=Ot,0!=Ae.length||0===Ot.length)return null;const Mr={};return Mr.domEventName=lt,Mr.fullKey=mn,Mr}static matchEventFullKeyCode(Q,Ae){let lt=Zn[Q.key]||Q.key,Ot="";return Ae.indexOf("code.")>-1&&(lt=Q.code,Ot="code."),!(null==lt||!lt)&&(lt=lt.toLowerCase()," "===lt?lt="space":"."===lt&&(lt="dot"),er.forEach(mn=>{mn!==lt&&(0,zn[mn])(Q)&&(Ot+=mn+".")}),Ot+=lt,Ot===Ae)}static eventCallback(Q,Ae,lt){return Ot=>{ie.matchEventFullKeyCode(Ot,Q)&&lt.runGuarded(()=>Ae(Ot))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(m.K0))},ie.\u0275prov=F.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Vr=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:m.bD},{provide:F.g9A,useValue:function lr(){Ee.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Rn(){return(0,F.RDi)(document),document},deps:[]}]),Ir=new F.OlP(""),Bt=[{provide:F.rWj,useClass:class be{addToWindow(X){F.dqk.getAngularTestability=(Ae,lt=!0)=>{const Ot=X.findTestabilityInTree(Ae,lt);if(null==Ot)throw new Error("Could not find testability for element.");return Ot},F.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Ae=>{const lt=F.dqk.getAllAngularTestabilities();let Ot=lt.length,mn=!1;const Cn=function(Mr){mn=mn||Mr,Ot--,0==Ot&&Ae(mn)};lt.forEach(function(Mr){Mr.whenStable(Cn)})})}findTestabilityInTree(X,Q,Ae){return null==Q?null:X.getTestability(Q)??(Ae?(0,m.q)().isShadowRoot(Q)?this.findTestabilityInTree(X,Q.host,!0):this.findTestabilityInTree(X,Q.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],vn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function $n(){return new F.qLn},deps:[]},{provide:Te,useClass:In,multi:!0,deps:[m.K0,F.R0b,F.Lbi]},{provide:Te,useClass:Fn,multi:!0,deps:[m.K0]},{provide:Ve,useClass:Ve,deps:[Ke,st,F.AFp]},{provide:F.FYo,useExisting:Ve},{provide:gt,useExisting:st},{provide:st,useClass:st,deps:[m.K0]},{provide:Ke,useClass:Ke,deps:[Te,F.R0b]},{provide:m.JF,useClass:Ge,deps:[]},[]];let Hr=(()=>{class ie{constructor(Q){}static withServerTransition(Q){return{ngModule:ie,providers:[{provide:F.AFp,useValue:Q.appId},{provide:Ue,useExisting:F.AFp},fe]}}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(Ir,12))},ie.\u0275mod=F.oAB({type:ie}),ie.\u0275inj=F.cJS({providers:[...vn,...Bt],imports:[m.ez,F.hGG]}),ie})(),or=(()=>{class ie{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(m.K0))},ie.\u0275prov=F.Yz7({token:ie,factory:function(Q){let Ae=null;return Ae=Q?new Q:function fr(){return new or((0,F.LFG)(m.K0))}(),Ae},providedIn:"root"}),ie})();typeof window<"u"&&window;let ut=(()=>{class ie{}return ie.\u0275fac=function(Q){return new(Q||ie)},ie.\u0275prov=F.Yz7({token:ie,factory:function(Q){let Ae=null;return Ae=Q?new(Q||ie):F.LFG(Yt),Ae},providedIn:"root"}),ie})(),Yt=(()=>{class ie extends ut{constructor(Q){super(),this._doc=Q}sanitize(Q,Ae){if(null==Ae)return null;switch(Q){case F.q3G.NONE:return Ae;case F.q3G.HTML:return(0,F.qzn)(Ae,"HTML")?(0,F.z3N)(Ae):(0,F.EiD)(this._doc,String(Ae)).toString();case F.q3G.STYLE:return(0,F.qzn)(Ae,"Style")?(0,F.z3N)(Ae):Ae;case F.q3G.SCRIPT:if((0,F.qzn)(Ae,"Script"))return(0,F.z3N)(Ae);throw new Error("unsafe value used in a script context");case F.q3G.URL:return(0,F.qzn)(Ae,"URL")?(0,F.z3N)(Ae):(0,F.mCW)(String(Ae));case F.q3G.RESOURCE_URL:if((0,F.qzn)(Ae,"ResourceURL"))return(0,F.z3N)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Q} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Q){return(0,F.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,F.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,F.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,F.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,F.pB0)(Q)}}return ie.\u0275fac=function(Q){return new(Q||ie)(F.LFG(m.K0))},ie.\u0275prov=F.Yz7({token:ie,factory:function(Q){let Ae=null;return Ae=Q?new Q:function Vt(ie){return new Yt(ie.get(m.K0))}(F.LFG(F.zs3)),Ae},providedIn:"root"}),ie})()},3060:(Jt,Ze,U)=>{U.d(Ze,{gz:()=>ci,jw:()=>Ds,F0:()=>Rt,Od:()=>da,yS:()=>ko,Bz:()=>Da,lC:()=>Fr,fw:()=>_i});var m=U(4650),F=U(8996),ae=U(9646),Ee=U(1135);const Pe=(0,U(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var ue=U(9841),Me=U(7272),Ue=U(9770),he=U(9635),fe=U(2843),be=U(9751),Ge=U(515),Te=U(727),Ke=U(4482),He=U(5403);function gt(){return(0,Ke.e)((w,D)=>{let v=null;w._refCount++;const M=(0,He.x)(D,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(v=null);const P=w._connection,W=v;v=null,P&&(!W||P===W)&&P.unsubscribe(),D.unsubscribe()});w.subscribe(M),M.closed||(v=w.connect())})}class st extends be.y{constructor(D,v){super(),this.source=D,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Ke.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Te.w0;const v=this.getSubject();D.add(this.source.subscribe((0,He.x)(v,void 0,()=>{this._teardown(),v.complete()},M=>{this._teardown(),v.error(M)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Te.w0.EMPTY)}return D}refCount(){return gt()(this)}}var Kt=U(7579),en=U(6895),Be=U(4004),Se=U(3900),Je=U(5698),At=U(8675),Oe=U(9300),ze=U(5577);function at(w){return(0,Ke.e)((D,v)=>{let M=!1;D.subscribe((0,He.x)(v,P=>{M=!0,v.next(P)},()=>{M||v.next(w),v.complete()}))})}function Re(w=Le){return(0,Ke.e)((D,v)=>{let M=!1;D.subscribe((0,He.x)(v,P=>{M=!0,v.next(P)},()=>M?v.complete():v.error(w())))})}function Le(){return new Pe}var nt=U(4671);function Ve(w,D){const v=arguments.length>=2;return M=>M.pipe(w?(0,Oe.h)((P,W)=>w(P,W,M)):nt.y,(0,Je.q)(1),v?at(D):Re(()=>new Pe))}var _t=U(4351),ct=U(8505),qt=U(262);function Bn(w,D,v,M,P){return(W,le)=>{let de=v,it=D,Nt=0;W.subscribe((0,He.x)(le,Jn=>{const un=Nt++;it=de?w(it,Jn,un):(de=!0,Jn),M&&le.next(it)},P&&(()=>{de&&le.next(it),le.complete()})))}}function _n(w,D){return(0,Ke.e)(Bn(w,D,arguments.length>=2,!0))}function bt(w){return w<=0?()=>Ge.E:(0,Ke.e)((D,v)=>{let M=[];D.subscribe((0,He.x)(v,P=>{M.push(P),w<M.length&&M.shift()},()=>{for(const P of M)v.next(P);v.complete()},void 0,()=>{M=null}))})}function In(w,D){const v=arguments.length>=2;return M=>M.pipe(w?(0,Oe.h)((P,W)=>w(P,W,M)):nt.y,bt(1),v?at(D):Re(()=>new Pe))}var er=U(2529),Zn=U(9718),zn=U(8746),Fn=U(8189),ln=U(1481);const on="primary",Ar=Symbol("RouteTitle");class Wr{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const v=this.params[D];return Array.isArray(v)?v[0]:v}return null}getAll(D){if(this.has(D)){const v=this.params[D];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function nr(w){return new Wr(w)}function lr(w,D,v){const M=v.path.split("/");if(M.length>w.length||"full"===v.pathMatch&&(D.hasChildren()||M.length<w.length))return null;const P={};for(let W=0;W<M.length;W++){const le=M[W],de=w[W];if(le.startsWith(":"))P[le.substring(1)]=de;else if(le!==de.path)return null}return{consumed:w.slice(0,M.length),posParams:P}}function Rn(w,D){const v=w?Object.keys(w):void 0,M=D?Object.keys(D):void 0;if(!v||!M||v.length!=M.length)return!1;let P;for(let W=0;W<v.length;W++)if(P=v[W],!sr(w[P],D[P]))return!1;return!0}function sr(w,D){if(Array.isArray(w)&&Array.isArray(D)){if(w.length!==D.length)return!1;const v=[...w].sort(),M=[...D].sort();return v.every((P,W)=>M[W]===P)}return w===D}function Vr(w){return Array.prototype.concat.apply([],w)}function Ir(w){return w.length>0?w[w.length-1]:null}function vn(w,D){for(const v in w)w.hasOwnProperty(v)&&D(w[v],v)}function Hr(w){return(0,m.CqO)(w)?w:(0,m.QGY)(w)?(0,F.D)(Promise.resolve(w)):(0,ae.of)(w)}const ti={exact:function rn(w,D,v){if(!Ur(w.segments,D.segments)||!pr(w.segments,D.segments,v)||w.numberOfChildren!==D.numberOfChildren)return!1;for(const M in D.children)if(!w.children[M]||!rn(w.children[M],D.children[M],v))return!1;return!0},subset:gn},fr={exact:function Wn(w,D){return Rn(w,D)},subset:function Ht(w,D){return Object.keys(D).length<=Object.keys(w).length&&Object.keys(D).every(v=>sr(w[v],D[v]))},ignored:()=>!0};function or(w,D,v){return ti[v.paths](w.root,D.root,v.matrixParams)&&fr[v.queryParams](w.queryParams,D.queryParams)&&!("exact"===v.fragment&&w.fragment!==D.fragment)}function gn(w,D,v){return dr(w,D,D.segments,v)}function dr(w,D,v,M){if(w.segments.length>v.length){const P=w.segments.slice(0,v.length);return!(!Ur(P,v)||D.hasChildren()||!pr(P,v,M))}if(w.segments.length===v.length){if(!Ur(w.segments,v)||!pr(w.segments,v,M))return!1;for(const P in D.children)if(!w.children[P]||!gn(w.children[P],D.children[P],M))return!1;return!0}{const P=v.slice(0,w.segments.length),W=v.slice(w.segments.length);return!!(Ur(w.segments,P)&&pr(w.segments,P,M)&&w.children[on])&&dr(w.children[on],D,W,M)}}function pr(w,D,v){return D.every((M,P)=>fr[v](w[P].parameters,M.parameters))}class wr{constructor(D,v,M){this.root=D,this.queryParams=v,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class Tt{constructor(D,v){this.segments=D,this.children=v,this.parent=null,vn(v,(M,P)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qe(this)}}class _r{constructor(D,v){this.path=D,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return ge(this)}}function Ur(w,D){return w.length===D.length&&w.every((v,M)=>v.path===D[M].path)}let tr=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return new Dr},providedIn:"root"}),w})();class Dr{parse(D){const v=new Q(D);return new wr(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(D){const v=`/${Ct(D.root,!0)}`,M=function We(w){const D=Object.keys(w).map(v=>{const M=w[v];return Array.isArray(M)?M.map(P=>`${$t(v)}=${$t(P)}`).join("&"):`${$t(v)}=${$t(M)}`}).filter(v=>!!v);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${v}${M}${"string"==typeof D.fragment?`#${function An(w){return encodeURI(w)}(D.fragment)}`:""}`}}const Dt=new Dr;function qe(w){return w.segments.map(D=>ge(D)).join("/")}function Ct(w,D){if(!w.hasChildren())return qe(w);if(D){const v=w.children[on]?Ct(w.children[on],!1):"",M=[];return vn(w.children,(P,W)=>{W!==on&&M.push(`${W}:${Ct(P,!1)}`)}),M.length>0?`${v}(${M.join("//")})`:v}{const v=function Un(w,D){let v=[];return vn(w.children,(M,P)=>{P===on&&(v=v.concat(D(M,P)))}),vn(w.children,(M,P)=>{P!==on&&(v=v.concat(D(M,P)))}),v}(w,(M,P)=>P===on?[Ct(w.children[on],!1)]:[`${P}:${Ct(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[on]?`${qe(w)}/${v[0]}`:`${qe(w)}/(${v.join("//")})`}}function cn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $t(w){return cn(w).replace(/%3B/gi,";")}function pe(w){return cn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ce(w){return decodeURIComponent(w)}function K(w){return ce(w.replace(/\+/g,"%20"))}function ge(w){return`${pe(w.path)}${function se(w){return Object.keys(w).map(D=>`;${pe(D)}=${pe(w[D])}`).join("")}(w.parameters)}`}const ut=/^[^\/()?;=#]+/;function Vt(w){const D=w.match(ut);return D?D[0]:""}const Yt=/^[^=?&#]+/,ie=/^[^&#]+/;class Q{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(D.length>0||Object.keys(v).length>0)&&(M[on]=new Tt(D,v)),M}parseSegment(){const D=Vt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(D),new _r(ce(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const v=Vt(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const P=Vt(this.remaining);P&&(M=P,this.capture(M))}D[ce(v)]=ce(M)}parseQueryParam(D){const v=function Zt(w){const D=w.match(Yt);return D?D[0]:""}(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const le=function X(w){const D=w.match(ie);return D?D[0]:""}(this.remaining);le&&(M=le,this.capture(M))}const P=K(v),W=K(M);if(D.hasOwnProperty(P)){let le=D[P];Array.isArray(le)||(le=[le],D[P]=le),le.push(W)}else D[P]=W}parseParens(D){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Vt(this.remaining),P=this.remaining[M.length];if("/"!==P&&")"!==P&&";"!==P)throw new m.vHH(4010,!1);let W;M.indexOf(":")>-1?(W=M.slice(0,M.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=on);const le=this.parseChildren();v[W]=1===Object.keys(le).length?le[on]:new Tt([],le),this.consumeOptional("//")}return v}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new m.vHH(4011,!1)}}function Ae(w){return w.segments.length>0?new Tt([],{[on]:w}):w}function lt(w){const D={};for(const M of Object.keys(w.children)){const W=lt(w.children[M]);(W.segments.length>0||W.hasChildren())&&(D[M]=W)}return function Ot(w){if(1===w.numberOfChildren&&w.children[on]){const D=w.children[on];return new Tt(w.segments.concat(D.segments),D.children)}return w}(new Tt(w.segments,D))}function mn(w){return w instanceof wr}function Fe(w,D,v,M,P){if(0===v.length)return Qt(D.root,D.root,D.root,M,P);const W=function xr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Kn(!0,0,w);let D=0,v=!1;const M=w.reduce((P,W,le)=>{if("object"==typeof W&&null!=W){if(W.outlets){const de={};return vn(W.outlets,(it,Nt)=>{de[Nt]="string"==typeof it?it.split("/"):it}),[...P,{outlets:de}]}if(W.segmentPath)return[...P,W.segmentPath]}return"string"!=typeof W?[...P,W]:0===le?(W.split("/").forEach((de,it)=>{0==it&&"."===de||(0==it&&""===de?v=!0:".."===de?D++:""!=de&&P.push(de))}),P):[...P,W]},[]);return new Kn(v,D,M)}(v);return W.toRoot()?Qt(D.root,D.root,new Tt([],{}),M,P):function le(it){const Nt=function Ri(w,D,v,M){if(w.isAbsolute)return new ar(D.root,!0,0);if(-1===M)return new ar(v,v===D.root,0);return function ur(w,D,v){let M=w,P=D,W=v;for(;W>P;){if(W-=P,M=M.parent,!M)throw new m.vHH(4005,!1);P=M.segments.length}return new ar(M,!1,P-W)}(v,M+(tt(w.commands[0])?0:1),w.numberOfDoubleDots)}(W,D,w.snapshot?._urlSegment,it),Jn=Nt.processChildren?Rr(Nt.segmentGroup,Nt.index,W.commands):qi(Nt.segmentGroup,Nt.index,W.commands);return Qt(D.root,Nt.segmentGroup,Jn,M,P)}(w.snapshot?._lastPathIndex)}function tt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function wt(w){return"object"==typeof w&&null!=w&&w.outlets}function Qt(w,D,v,M,P){let le,W={};M&&vn(M,(it,Nt)=>{W[Nt]=Array.isArray(it)?it.map(Jn=>`${Jn}`):`${it}`}),le=w===D?v:Pn(w,D,v);const de=Ae(lt(le));return new wr(de,W,P)}function Pn(w,D,v){const M={};return vn(w.children,(P,W)=>{M[W]=P===D?v:Pn(P,D,v)}),new Tt(w.segments,M)}class Kn{constructor(D,v,M){if(this.isAbsolute=D,this.numberOfDoubleDots=v,this.commands=M,D&&M.length>0&&tt(M[0]))throw new m.vHH(4003,!1);const P=M.find(wt);if(P&&P!==Ir(M))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ar{constructor(D,v,M){this.segmentGroup=D,this.processChildren=v,this.index=M}}function qi(w,D,v){if(w||(w=new Tt([],{})),0===w.segments.length&&w.hasChildren())return Rr(w,D,v);const M=function Pi(w,D,v){let M=0,P=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;P<w.segments.length;){if(M>=v.length)return W;const le=w.segments[P],de=v[M];if(wt(de))break;const it=`${de}`,Nt=M<v.length-1?v[M+1]:null;if(P>0&&void 0===it)break;if(it&&Nt&&"object"==typeof Nt&&void 0===Nt.outlets){if(!$e(it,Nt,le))return W;M+=2}else{if(!$e(it,{},le))return W;M++}P++}return{match:!0,pathIndex:P,commandIndex:M}}(w,D,v),P=v.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const W=new Tt(w.segments.slice(0,M.pathIndex),{});return W.children[on]=new Tt(w.segments.slice(M.pathIndex),w.children),Rr(W,0,P)}return M.match&&0===P.length?new Tt(w.segments,{}):M.match&&!w.hasChildren()?ni(w,D,v):M.match?Rr(w,0,P):ni(w,D,v)}function Rr(w,D,v){if(0===v.length)return new Tt(w.segments,{});{const M=function ws(w){return wt(w[0])?w[0].outlets:{[on]:w}}(v),P={};return vn(M,(W,le)=>{"string"==typeof W&&(W=[W]),null!==W&&(P[le]=qi(w.children[le],D,W))}),vn(w.children,(W,le)=>{void 0===M[le]&&(P[le]=W)}),new Tt(w.segments,P)}}function ni(w,D,v){const M=w.segments.slice(0,D);let P=0;for(;P<v.length;){const W=v[P];if(wt(W)){const it=ke(W.outlets);return new Tt(M,it)}if(0===P&&tt(v[0])){M.push(new _r(w.segments[D].path,De(v[0]))),P++;continue}const le=wt(W)?W.outlets[on]:`${W}`,de=P<v.length-1?v[P+1]:null;le&&de&&tt(de)?(M.push(new _r(le,De(de))),P+=2):(M.push(new _r(le,{})),P++)}return new Tt(M,{})}function ke(w){const D={};return vn(w,(v,M)=>{"string"==typeof v&&(v=[v]),null!==v&&(D[M]=ni(new Tt([],{}),0,v))}),D}function De(w){const D={};return vn(w,(v,M)=>D[M]=`${v}`),D}function $e(w,D,v){return w==v.path&&Rn(D,v.parameters)}class ht{constructor(D,v){this.id=D,this.url=v}}class yt extends ht{constructor(D,v,M="imperative",P=null){super(D,v),this.type=0,this.navigationTrigger=M,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tn extends ht{constructor(D,v,M){super(D,v),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xn extends ht{constructor(D,v,M,P){super(D,v),this.reason=M,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kr extends ht{constructor(D,v,M,P){super(D,v),this.error=M,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends ht{constructor(D,v,M,P){super(D,v),this.urlAfterRedirects=M,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends ht{constructor(D,v,M,P){super(D,v),this.urlAfterRedirects=M,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends ht{constructor(D,v,M,P,W){super(D,v),this.urlAfterRedirects=M,this.state=P,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ri extends ht{constructor(D,v,M,P){super(D,v),this.urlAfterRedirects=M,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends ht{constructor(D,v,M,P){super(D,v),this.urlAfterRedirects=M,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oi{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(D,v,M){this.routerEvent=D,this.position=v,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const v=this.pathFromRoot(D);return v.length>1?v[v.length-2]:null}children(D){const v=Os(D,this._root);return v?v.children.map(M=>M.value):[]}firstChild(D){const v=Os(D,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(D){const v=ks(D,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==D)}pathFromRoot(D){return ks(D,this._root).map(v=>v.value)}}function Os(w,D){if(w===D.value)return D;for(const v of D.children){const M=Os(w,v);if(M)return M}return null}function ks(w,D){if(w===D.value)return[D];for(const v of D.children){const M=ks(w,v);if(M.length)return M.unshift(D),M}return[]}class Fi{constructor(D,v){this.value=D,this.children=v}toString(){return`TreeNode(${this.value})`}}function rs(w){const D={};return w&&w.children.forEach(v=>D[v.value.outlet]=v),D}class Fs extends zs{constructor(D,v){super(D),this.snapshot=v,ds(this,D)}toString(){return this.snapshot.toString()}}function Yi(w,D){const v=function Ls(w,D){const le=new bs([],{},{},"",{},on,D,null,w.root,-1,{});return new si("",new Fi(le,[]))}(w,D),M=new Ee.X([new _r("",{})]),P=new Ee.X({}),W=new Ee.X({}),le=new Ee.X({}),de=new Ee.X(""),it=new ci(M,P,le,de,W,on,D,v.root);return it.snapshot=v.root,new Fs(new Fi(it,[]),v)}class ci{constructor(D,v,M,P,W,le,de,it){this.url=D,this.params=v,this.queryParams=M,this.fragment=P,this.data=W,this.outlet=le,this.component=de,this.title=this.data?.pipe((0,Be.U)(Nt=>Nt[Ar]))??(0,ae.of)(void 0),this._futureSnapshot=it}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(D=>nr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(D=>nr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Js(w,D="emptyOnly"){const v=w.pathFromRoot;let M=0;if("always"!==D)for(M=v.length-1;M>=1;){const P=v[M],W=v[M-1];if(P.routeConfig&&""===P.routeConfig.path)M--;else{if(W.component)break;M--}}return function mo(w){return w.reduce((D,v)=>({params:{...D.params,...v.params},data:{...D.data,...v.data},resolve:{...v.data,...D.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(M))}class bs{constructor(D,v,M,P,W,le,de,it,Nt,Jn,un,Zr){this.url=D,this.params=v,this.queryParams=M,this.fragment=P,this.data=W,this.outlet=le,this.component=de,this.title=this.data?.[Ar],this.routeConfig=it,this._urlSegment=Nt,this._lastPathIndex=Jn,this._correctedLastPathIndex=Zr??Jn,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class si extends zs{constructor(D,v){super(v),this.url=D,ds(this,v)}toString(){return Hi(this._root)}}function ds(w,D){D.value._routerState=w,D.children.forEach(v=>ds(w,v))}function Hi(w){const D=w.children.length>0?` { ${w.children.map(Hi).join(", ")} } `:"";return`${w.value}${D}`}function Zi(w){if(w.snapshot){const D=w.snapshot,v=w._futureSnapshot;w.snapshot=v,Rn(D.queryParams,v.queryParams)||w.queryParams.next(v.queryParams),D.fragment!==v.fragment&&w.fragment.next(v.fragment),Rn(D.params,v.params)||w.params.next(v.params),function $n(w,D){if(w.length!==D.length)return!1;for(let v=0;v<w.length;++v)if(!Rn(w[v],D[v]))return!1;return!0}(D.url,v.url)||w.url.next(v.url),Rn(D.data,v.data)||w.data.next(v.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Vs(w,D){const v=Rn(w.params,D.params)&&function qn(w,D){return Ur(w,D)&&w.every((v,M)=>Rn(v.parameters,D[M].parameters))}(w.url,D.url);return v&&!(!w.parent!=!D.parent)&&(!w.parent||Vs(w.parent,D.parent))}function Ts(w,D,v){if(v&&w.shouldReuseRoute(D.value,v.value.snapshot)){const M=v.value;M._futureSnapshot=D.value;const P=function Br(w,D,v){return D.children.map(M=>{for(const P of v.children)if(w.shouldReuseRoute(M.value,P.value.snapshot))return Ts(w,M,P);return Ts(w,M)})}(w,D,v);return new Fi(M,P)}{if(w.shouldAttach(D.value)){const W=w.retrieve(D.value);if(null!==W){const le=W.route;return le.value._futureSnapshot=D.value,le.children=D.children.map(de=>Ts(w,de)),le}}const M=function Ws(w){return new ci(new Ee.X(w.url),new Ee.X(w.params),new Ee.X(w.queryParams),new Ee.X(w.fragment),new Ee.X(w.data),w.outlet,w.component,w)}(D.value),P=D.children.map(W=>Ts(w,W));return new Fi(M,P)}}const Gi="ngNavigationCancelingError";function Us(w,D){const{redirectTo:v,navigationBehaviorOptions:M}=mn(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,P=di(!1,0,D);return P.url=v,P.navigationBehaviorOptions=M,P}function di(w,D,v){const M=new Error("NavigationCancelingError: "+(w||""));return M[Gi]=!0,M.cancellationCode=D,v&&(M.url=v),M}function is(w){return Ti(w)&&mn(w.url)}function Ti(w){return w&&w[Gi]}class qs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ss,this.attachRef=null}}let ss=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,M){const P=this.getOrCreateContext(v);P.outlet=M,this.contexts.set(v,P)}onChildOutletDestroyed(v){const M=this.getContext(v);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let M=this.getContext(v);return M||(M=new qs,this.contexts.set(v,M)),M}getContext(v){return this.contexts.get(v)||null}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Io=!1;let Fr=(()=>{class w{constructor(v,M,P,W,le){this.parentContexts=v,this.location=M,this.changeDetector=W,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=P||on,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Io);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Io);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Io);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,M){this.activated=v,this._activatedRoute=M,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,M){if(this.isActivated)throw new m.vHH(4013,Io);this._activatedRoute=v;const P=this.location,le=v._futureSnapshot.component,de=this.parentContexts.getOrCreateContext(this.name).children,it=new fs(v,de,P.injector);if(M&&function so(w){return!!w.resolveComponentFactory}(M)){const Nt=M.resolveComponentFactory(le);this.activated=P.createComponent(Nt,P.length,it)}else this.activated=P.createComponent(le,{index:P.length,injector:it,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(v){return new(v||w)(m.Y36(ss),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},w.\u0275dir=m.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class fs{constructor(D,v,M){this.route=D,this.childContexts=v,this.parent=M}get(D,v){return D===ci?this.route:D===ss?this.childContexts:this.parent.get(D,v)}}let _i=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275cmp=m.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(v,M){1&v&&m._UZ(0,"router-outlet")},dependencies:[Fr],encapsulation:2}),w})();function oi(w,D){return w.providers&&!w._injector&&(w._injector=(0,m.MMx)(w.providers,D,`Route: ${w.path}`)),w._injector??D}function Cs(w){const D=w.children&&w.children.map(Cs),v=D?{...w,children:D}:{...w};return!v.component&&!v.loadComponent&&(D||v.loadChildren)&&v.outlet&&v.outlet!==on&&(v.component=_i),v}function ii(w){return w.outlet||on}function jn(w,D){const v=w.filter(M=>ii(M)===D);return v.push(...w.filter(M=>ii(M)!==D)),v}function J(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let D=w.parent;D;D=D.parent){const v=D.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Ce{constructor(D,v,M,P){this.routeReuseStrategy=D,this.futureState=v,this.currState=M,this.forwardEvent=P}activate(D){const v=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,M,D),Zi(this.futureState.root),this.activateChildRoutes(v,M,D)}deactivateChildRoutes(D,v,M){const P=rs(v);D.children.forEach(W=>{const le=W.value.outlet;this.deactivateRoutes(W,P[le],M),delete P[le]}),vn(P,(W,le)=>{this.deactivateRouteAndItsChildren(W,M)})}deactivateRoutes(D,v,M){const P=D.value,W=v?v.value:null;if(P===W)if(P.component){const le=M.getContext(P.outlet);le&&this.deactivateChildRoutes(D,v,le.children)}else this.deactivateChildRoutes(D,v,M);else W&&this.deactivateRouteAndItsChildren(v,M)}deactivateRouteAndItsChildren(D,v){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,v):this.deactivateRouteAndOutlet(D,v)}detachAndStoreRouteSubtree(D,v){const M=v.getContext(D.value.outlet),P=M&&D.value.component?M.children:v,W=rs(D);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],P);if(M&&M.outlet){const le=M.outlet.detach(),de=M.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:le,route:D,contexts:de})}}deactivateRouteAndOutlet(D,v){const M=v.getContext(D.value.outlet),P=M&&D.value.component?M.children:v,W=rs(D);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],P);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(D,v,M){const P=rs(v);D.children.forEach(W=>{this.activateRoutes(W,P[W.value.outlet],M),this.forwardEvent(new Ds(W.value.snapshot))}),D.children.length&&this.forwardEvent(new Vo(D.value.snapshot))}activateRoutes(D,v,M){const P=D.value,W=v?v.value:null;if(Zi(P),P===W)if(P.component){const le=M.getOrCreateContext(P.outlet);this.activateChildRoutes(D,v,le.children)}else this.activateChildRoutes(D,v,M);else if(P.component){const le=M.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const de=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),le.children.onOutletReAttached(de.contexts),le.attachRef=de.componentRef,le.route=de.route.value,le.outlet&&le.outlet.attach(de.componentRef,de.route.value),Zi(de.route.value),this.activateChildRoutes(D,null,le.children)}else{const de=J(P.snapshot),it=de?.get(m._Vd)??null;le.attachRef=null,le.route=P,le.resolver=it,le.injector=de,le.outlet&&le.outlet.activateWith(P,le.injector),this.activateChildRoutes(D,null,le.children)}}else this.activateChildRoutes(D,null,M)}}class et{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class vt{constructor(D,v){this.component=D,this.route=v}}function kt(w,D,v){const M=w._root;return dt(M,D?D._root:null,v,[M.value])}function br(w,D){const v=Symbol(),M=D.get(w,v);return M===v?"function"!=typeof w||(0,m.Z0I)(w)?D.get(w):w:M}function dt(w,D,v,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=rs(D);return w.children.forEach(le=>{(function fn(w,D,v,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=w.value,le=D?D.value:null,de=v?v.getContext(w.value.outlet):null;if(le&&W.routeConfig===le.routeConfig){const it=function Pr(w,D,v){if("function"==typeof v)return v(w,D);switch(v){case"pathParamsChange":return!Ur(w.url,D.url);case"pathParamsOrQueryParamsChange":return!Ur(w.url,D.url)||!Rn(w.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vs(w,D)||!Rn(w.queryParams,D.queryParams);default:return!Vs(w,D)}}(le,W,W.routeConfig.runGuardsAndResolvers);it?P.canActivateChecks.push(new et(M)):(W.data=le.data,W._resolvedData=le._resolvedData),dt(w,D,W.component?de?de.children:null:v,M,P),it&&de&&de.outlet&&de.outlet.isActivated&&P.canDeactivateChecks.push(new vt(de.outlet.component,le))}else le&&Yn(D,de,P),P.canActivateChecks.push(new et(M)),dt(w,null,W.component?de?de.children:null:v,M,P)})(le,W[le.value.outlet],v,M.concat([le.value]),P),delete W[le.value.outlet]}),vn(W,(le,de)=>Yn(le,v.getContext(de),P)),P}function Yn(w,D,v){const M=rs(w),P=w.value;vn(M,(W,le)=>{Yn(W,P.component?D?D.children.getContext(le):null:D,v)}),v.canDeactivateChecks.push(new vt(P.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,P))}function Vn(w){return"function"==typeof w}function Mt(w){return w instanceof Pe||"EmptyError"===w?.name}const Ft=Symbol("INITIAL_VALUE");function nn(){return(0,Se.w)(w=>(0,ue.a)(w.map(D=>D.pipe((0,Je.q)(1),(0,At.O)(Ft)))).pipe((0,Be.U)(D=>{for(const v of D)if(!0!==v){if(v===Ft)return Ft;if(!1===v||v instanceof wr)return v}return!0}),(0,Oe.h)(D=>D!==Ft),(0,Je.q)(1)))}function Ji(w){return(0,he.z)((0,ct.b)(D=>{if(mn(D))throw Us(0,D)}),(0,Be.U)(D=>!0===D))}const pi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _o(w,D,v,M,P){const W=Ss(w,D,v);return W.matched?function fi(w,D,v,M){const P=D.canMatch;if(!P||0===P.length)return(0,ae.of)(!0);const W=P.map(le=>{const de=br(le,w);return Hr(function re(w){return w&&Vn(w.canMatch)}(de)?de.canMatch(D,v):w.runInContext(()=>de(D,v)))});return(0,ae.of)(W).pipe(nn(),Ji())}(M=oi(D,M),D,v).pipe((0,Be.U)(le=>!0===le?W:{...pi})):(0,ae.of)(W)}function Ss(w,D,v){if(""===D.path)return"full"===D.pathMatch&&(w.hasChildren()||v.length>0)?{...pi}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const P=(D.matcher||lr)(v,w,D);if(!P)return{...pi};const W={};vn(P.posParams,(de,it)=>{W[it]=de.path});const le=P.consumed.length>0?{...W,...P.consumed[P.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:P.consumed,remainingSegments:v.slice(P.consumed.length),parameters:le,positionalParamSegments:P.posParams??{}}}function bo(w,D,v,M,P="corrected"){if(v.length>0&&function A(w,D,v){return v.some(M=>R(w,D,M)&&ii(M)!==on)}(w,v,M)){const le=new Tt(D,function To(w,D,v,M){const P={};P[on]=M,M._sourceSegment=w,M._segmentIndexShift=D.length;for(const W of v)if(""===W.path&&ii(W)!==on){const le=new Tt([],{});le._sourceSegment=w,le._segmentIndexShift=D.length,P[ii(W)]=le}return P}(w,D,M,new Tt(v,w.children)));return le._sourceSegment=w,le._segmentIndexShift=D.length,{segmentGroup:le,slicedSegments:[]}}if(0===v.length&&function $(w,D,v){return v.some(M=>R(w,D,M))}(w,v,M)){const le=new Tt(w.segments,function js(w,D,v,M,P,W){const le={};for(const de of M)if(R(w,v,de)&&!P[ii(de)]){const it=new Tt([],{});it._sourceSegment=w,it._segmentIndexShift="legacy"===W?w.segments.length:D.length,le[ii(de)]=it}return{...P,...le}}(w,D,v,M,w.children,P));return le._sourceSegment=w,le._segmentIndexShift=D.length,{segmentGroup:le,slicedSegments:v}}const W=new Tt(w.segments,w.children);return W._sourceSegment=w,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:v}}function R(w,D,v){return(!(w.hasChildren()||D.length>0)||"full"!==v.pathMatch)&&""===v.path}function q(w,D,v,M){return!!(ii(w)===M||M!==on&&R(D,v,w))&&("**"===w.path||Ss(D,w,v).matched)}function ye(w,D,v){return 0===D.length&&!w.children[v]}const rt=!1;class pt{constructor(D){this.segmentGroup=D||null}}class dn{constructor(D){this.urlTree=D}}function Xn(w){return(0,fe._)(new pt(w))}function Nr(w){return(0,fe._)(new dn(w))}class Yr{constructor(D,v,M,P,W){this.injector=D,this.configLoader=v,this.urlSerializer=M,this.urlTree=P,this.config=W,this.allowRedirects=!0}apply(){const D=bo(this.urlTree.root,[],[],this.config).segmentGroup,v=new Tt(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,v,on).pipe((0,Be.U)(W=>this.createUrlTree(lt(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,qt.K)(W=>{if(W instanceof dn)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof pt?this.noMatchError(W):W}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,on).pipe((0,Be.U)(P=>this.createUrlTree(lt(P),D.queryParams,D.fragment))).pipe((0,qt.K)(P=>{throw P instanceof pt?this.noMatchError(P):P}))}noMatchError(D){return new m.vHH(4002,rt)}createUrlTree(D,v,M){const P=Ae(D);return new wr(P,v,M)}expandSegmentGroup(D,v,M,P){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(D,v,M).pipe((0,Be.U)(W=>new Tt([],W))):this.expandSegment(D,M,v,M.segments,P,!0)}expandChildren(D,v,M){const P=[];for(const W of Object.keys(M.children))"primary"===W?P.unshift(W):P.push(W);return(0,F.D)(P).pipe((0,_t.b)(W=>{const le=M.children[W],de=jn(v,W);return this.expandSegmentGroup(D,de,le,W).pipe((0,Be.U)(it=>({segment:it,outlet:W})))}),_n((W,le)=>(W[le.outlet]=le.segment,W),{}),In())}expandSegment(D,v,M,P,W,le){return(0,F.D)(M).pipe((0,_t.b)(de=>this.expandSegmentAgainstRoute(D,v,M,de,P,W,le).pipe((0,qt.K)(Nt=>{if(Nt instanceof pt)return(0,ae.of)(null);throw Nt}))),Ve(de=>!!de),(0,qt.K)((de,it)=>{if(Mt(de))return ye(v,P,W)?(0,ae.of)(new Tt([],{})):Xn(v);throw de}))}expandSegmentAgainstRoute(D,v,M,P,W,le,de){return q(P,v,W,le)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(D,v,P,W,le):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,v,M,P,W,le):Xn(v):Xn(v)}expandSegmentAgainstRouteUsingRedirect(D,v,M,P,W,le){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,M,P,le):this.expandRegularSegmentAgainstRouteUsingRedirect(D,v,M,P,W,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,v,M,P){const W=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Nr(W):this.lineralizeSegments(M,W).pipe((0,ze.z)(le=>{const de=new Tt(le,{});return this.expandSegment(D,de,v,le,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,v,M,P,W,le){const{matched:de,consumedSegments:it,remainingSegments:Nt,positionalParamSegments:Jn}=Ss(v,P,W);if(!de)return Xn(v);const un=this.applyRedirectCommands(it,P.redirectTo,Jn);return P.redirectTo.startsWith("/")?Nr(un):this.lineralizeSegments(P,un).pipe((0,ze.z)(Zr=>this.expandSegment(D,v,M,Zr.concat(Nt),le,!1)))}matchSegmentAgainstRoute(D,v,M,P,W){return"**"===M.path?(D=oi(M,D),M.loadChildren?(M._loadedRoutes?(0,ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(D,M)).pipe((0,Be.U)(de=>(M._loadedRoutes=de.routes,M._loadedInjector=de.injector,new Tt(P,{})))):(0,ae.of)(new Tt(P,{}))):_o(v,M,P,D).pipe((0,Se.w)(({matched:le,consumedSegments:de,remainingSegments:it})=>le?this.getChildConfig(D=M._injector??D,M,P).pipe((0,ze.z)(Jn=>{const un=Jn.injector??D,Zr=Jn.routes,{segmentGroup:ys,slicedSegments:vo}=bo(v,de,it,Zr),no=new Tt(ys.segments,ys.children);if(0===vo.length&&no.hasChildren())return this.expandChildren(un,Zr,no).pipe((0,Be.U)(ha=>new Tt(de,ha)));if(0===Zr.length&&0===vo.length)return(0,ae.of)(new Tt(de,{}));const ro=ii(M)===W;return this.expandSegment(un,no,Zr,vo,ro?on:W,!0).pipe((0,Be.U)(Mo=>new Tt(de.concat(Mo.segments),Mo.children)))})):Xn(v)))}getChildConfig(D,v,M){return v.children?(0,ae.of)({routes:v.children,injector:D}):v.loadChildren?void 0!==v._loadedRoutes?(0,ae.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function $s(w,D,v,M){const P=D.canLoad;if(void 0===P||0===P.length)return(0,ae.of)(!0);const W=P.map(le=>{const de=br(le,w);return Hr(function O(w){return w&&Vn(w.canLoad)}(de)?de.canLoad(D,v):w.runInContext(()=>de(D,v)))});return(0,ae.of)(W).pipe(nn(),Ji())}(D,v,M).pipe((0,ze.z)(P=>P?this.configLoader.loadChildren(D,v).pipe((0,ct.b)(W=>{v._loadedRoutes=W.routes,v._loadedInjector=W.injector})):function Er(w){return(0,fe._)(di(rt,3))}())):(0,ae.of)({routes:[],injector:D})}lineralizeSegments(D,v){let M=[],P=v.root;for(;;){if(M=M.concat(P.segments),0===P.numberOfChildren)return(0,ae.of)(M);if(P.numberOfChildren>1||!P.children[on])return(0,fe._)(new m.vHH(4e3,rt));P=P.children[on]}}applyRedirectCommands(D,v,M){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),D,M)}applyRedirectCreateUrlTree(D,v,M,P){const W=this.createSegmentGroup(D,v.root,M,P);return new wr(W,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(D,v){const M={};return vn(D,(P,W)=>{if("string"==typeof P&&P.startsWith(":")){const de=P.substring(1);M[W]=v[de]}else M[W]=P}),M}createSegmentGroup(D,v,M,P){const W=this.createSegments(D,v.segments,M,P);let le={};return vn(v.children,(de,it)=>{le[it]=this.createSegmentGroup(D,de,M,P)}),new Tt(W,le)}createSegments(D,v,M,P){return v.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,P):this.findOrReturn(W,M))}findPosParam(D,v,M){const P=M[v.path.substring(1)];if(!P)throw new m.vHH(4001,rt);return P}findOrReturn(D,v){let M=0;for(const P of v){if(P.path===D.path)return v.splice(M),P;M++}return D}}class eo{}class Bi{constructor(D,v,M,P,W,le,de,it){this.injector=D,this.rootComponentType=v,this.config=M,this.urlTree=P,this.url=W,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=de,this.urlSerializer=it}recognize(){const D=bo(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,on).pipe((0,Be.U)(v=>{if(null===v)return null;const M=new bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Fi(M,v),W=new si(this.url,P);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(D){const v=D.value,M=Js(v,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data),D.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(D,v,M,P){return 0===M.segments.length&&M.hasChildren()?this.processChildren(D,v,M):this.processSegment(D,v,M,M.segments,P)}processChildren(D,v,M){return(0,F.D)(Object.keys(M.children)).pipe((0,_t.b)(P=>{const W=M.children[P],le=jn(v,P);return this.processSegmentGroup(D,le,W,P)}),_n((P,W)=>P&&W?(P.push(...W),P):null),(0,er.o)(P=>null!==P),at(null),In(),(0,Be.U)(P=>{if(null===P)return null;const W=ao(P);return function Ms(w){w.sort((D,v)=>D.value.outlet===on?-1:v.value.outlet===on?1:D.value.outlet.localeCompare(v.value.outlet))}(W),W}))}processSegment(D,v,M,P,W){return(0,F.D)(v).pipe((0,_t.b)(le=>this.processSegmentAgainstRoute(le._injector??D,le,M,P,W)),Ve(le=>!!le),(0,qt.K)(le=>{if(Mt(le))return ye(M,P,W)?(0,ae.of)([]):(0,ae.of)(null);throw le}))}processSegmentAgainstRoute(D,v,M,P,W){if(v.redirectTo||!q(v,M,P,W))return(0,ae.of)(null);let le;if("**"===v.path){const de=P.length>0?Ir(P).parameters:{},it=za(M)+P.length,Nt=new bs(P,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,es(v),ii(v),v.component??v._loadedComponent??null,v,Ga(M),it,uo(v),it);le=(0,ae.of)({snapshot:Nt,consumedSegments:[],remainingSegments:[]})}else le=_o(M,v,P,D).pipe((0,Be.U)(({matched:de,consumedSegments:it,remainingSegments:Nt,parameters:Jn})=>{if(!de)return null;const un=za(M)+it.length;return{snapshot:new bs(it,Jn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,es(v),ii(v),v.component??v._loadedComponent??null,v,Ga(M),un,uo(v),un),consumedSegments:it,remainingSegments:Nt}}));return le.pipe((0,Se.w)(de=>{if(null===de)return(0,ae.of)(null);const{snapshot:it,consumedSegments:Nt,remainingSegments:Jn}=de;D=v._injector??D;const un=v._loadedInjector??D,Zr=function zo(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(v),{segmentGroup:ys,slicedSegments:vo}=bo(M,Nt,Jn,Zr.filter(ro=>void 0===ro.redirectTo),this.relativeLinkResolution);if(0===vo.length&&ys.hasChildren())return this.processChildren(un,Zr,ys).pipe((0,Be.U)(ro=>null===ro?null:[new Fi(it,ro)]));if(0===Zr.length&&0===vo.length)return(0,ae.of)([new Fi(it,[])]);const no=ii(v)===W;return this.processSegment(un,Zr,ys,vo,no?on:W).pipe((0,Be.U)(ro=>null===ro?null:[new Fi(it,ro)]))}))}}function xs(w){const D=w.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function ao(w){const D=[],v=new Set;for(const M of w){if(!xs(M)){D.push(M);continue}const P=D.find(W=>M.value.routeConfig===W.value.routeConfig);void 0!==P?(P.children.push(...M.children),v.add(P)):D.push(M)}for(const M of v){const P=ao(M.children);D.push(new Fi(M.value,P))}return D.filter(M=>!v.has(M))}function Ga(w){let D=w;for(;D._sourceSegment;)D=D._sourceSegment;return D}function za(w){let D=w,v=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,v+=D._segmentIndexShift??0;return v-1}function es(w){return w.data||{}}function uo(w){return w.resolve||{}}function xt(w){return"string"==typeof w.title||null===w.title}function li(w){return(0,Se.w)(D=>{const v=w(D);return v?(0,F.D)(v).pipe((0,Be.U)(()=>D)):(0,ae.of)(D)})}let ea=(()=>{class w{buildTitle(v){let M,P=v.root;for(;void 0!==P;)M=this.getResolvedTitleForRoute(P)??M,P=P.children.find(W=>W.outlet===on);return M}getResolvedTitleForRoute(v){return v.data[Ar]}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(ua)},providedIn:"root"}),w})(),ua=(()=>{class w extends ea{constructor(v){super(),this.title=v}updateTitle(v){const M=this.buildTitle(v);void 0!==M&&this.title.setTitle(M)}}return w.\u0275fac=function(v){return new(v||w)(m.LFG(ln.Dx))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class fu{}class la extends class Qi{shouldDetach(D){return!1}store(D,v){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,v){return D.routeConfig===v.routeConfig}}{}const Ea=new m.OlP("",{providedIn:"root",factory:()=>({})}),ca=new m.OlP("ROUTES");let ta=(()=>{class w{constructor(v,M){this.injector=v,this.compiler=M,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,ae.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const M=Hr(v.loadComponent()).pipe((0,ct.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=W}),(0,zn.x)(()=>{this.componentLoaders.delete(v)})),P=new st(M,()=>new Kt.x).pipe(gt());return this.componentLoaders.set(v,P),P}loadChildren(v,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const W=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Be.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(M);let it,Nt,Jn=!1;Array.isArray(de)?Nt=de:(it=de.create(v).injector,Nt=Vr(it.get(ca,[],m.XFs.Self|m.XFs.Optional)));return{routes:Nt.map(Cs),injector:it}}),(0,zn.x)(()=>{this.childrenLoaders.delete(M)})),le=new st(W,()=>new Kt.x).pipe(gt());return this.childrenLoaders.set(M,le),le}loadModuleFactoryOrRoutes(v){return Hr(v()).pipe((0,ze.z)(M=>M instanceof m.YKP||Array.isArray(M)?(0,ae.of)(M):(0,F.D)(this.compiler.compileModuleAsync(M))))}}return w.\u0275fac=function(v){return new(v||w)(m.LFG(m.zs3),m.LFG(m.Sil))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Gn{}class No{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,v){return D}}function gi(w){throw w}function bn(w,D,v){return D.parse("/")}const Oo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$r={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function mi(){const w=(0,m.f3M)(tr),D=(0,m.f3M)(ss),v=(0,m.f3M)(en.Ye),M=(0,m.f3M)(m.zs3),P=(0,m.f3M)(m.Sil),W=(0,m.f3M)(ca,{optional:!0})??[],le=(0,m.f3M)(Ea,{optional:!0})??{},de=(0,m.f3M)(ua),it=(0,m.f3M)(ea,{optional:!0}),Nt=(0,m.f3M)(Gn,{optional:!0}),Jn=(0,m.f3M)(fu,{optional:!0}),un=new Rt(null,w,D,v,M,P,Vr(W));return Nt&&(un.urlHandlingStrategy=Nt),Jn&&(un.routeReuseStrategy=Jn),un.titleStrategy=it??de,function Wa(w,D){w.errorHandler&&(D.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(D.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(D.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(D.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(D.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(D.canceledNavigationResolution=w.canceledNavigationResolution)}(le,un),un}let Rt=(()=>{class w{constructor(v,M,P,W,le,de,it){this.rootComponentType=v,this.urlSerializer=M,this.rootContexts=P,this.location=W,this.config=it,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kt.x,this.errorHandler=gi,this.malformedUriErrorHandler=bn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ae.of)(void 0),this.urlHandlingStrategy=new No,this.routeReuseStrategy=new la,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(ta),this.configLoader.onLoadEndListener=Zr=>this.triggerEvent(new Oi(Zr)),this.configLoader.onLoadStartListener=Zr=>this.triggerEvent(new Ui(Zr)),this.ngModule=le.get(m.h0i),this.console=le.get(m.c2e);const un=le.get(m.R0b);this.isNgZoneEnabled=un instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(it),this.currentUrlTree=function Cr(){return new wr(new Tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const M=this.events;return v.pipe((0,Oe.h)(P=>0!==P.id),(0,Be.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Se.w)(P=>{let W=!1,le=!1;return(0,ae.of)(P).pipe((0,ct.b)(de=>{this.currentNavigation={id:de.id,initialUrl:de.rawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Se.w)(de=>{const it=this.browserUrlTree.toString(),Nt=!this.navigated||de.extractedUrl.toString()!==it||it!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Nt)&&this.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return Bo(de.source)&&(this.browserUrlTree=de.extractedUrl),(0,ae.of)(de).pipe((0,Se.w)(un=>{const Zr=this.transitions.getValue();return M.next(new yt(un.id,this.serializeUrl(un.extractedUrl),un.source,un.restoredState)),Zr!==this.transitions.getValue()?Ge.E:Promise.resolve(un)}),function Si(w,D,v,M){return(0,Se.w)(P=>function Wi(w,D,v,M,P){return new Yr(w,D,v,M,P).apply()}(w,D,v,P.extractedUrl,M).pipe((0,Be.U)(W=>({...P,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ct.b)(un=>{this.currentNavigation={...this.currentNavigation,finalUrl:un.urlAfterRedirects},P.urlAfterRedirects=un.urlAfterRedirects}),function aa(w,D,v,M,P,W){return(0,ze.z)(le=>function oo(w,D,v,M,P,W,le="emptyOnly",de="legacy"){return new Bi(w,D,v,M,P,le,de,W).recognize().pipe((0,Se.w)(it=>null===it?function to(w){return new be.y(D=>D.error(w))}(new eo):(0,ae.of)(it)))}(w,D,v,le.urlAfterRedirects,M.serialize(le.urlAfterRedirects),M,P,W).pipe((0,Be.U)(de=>({...le,targetSnapshot:de}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ct.b)(un=>{if(P.targetSnapshot=un.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!un.extras.skipLocationChange){const ys=this.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);this.setBrowserUrl(ys,un)}this.browserUrlTree=un.urlAfterRedirects}const Zr=new hr(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);M.next(Zr)}));if(Nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:ys,source:vo,restoredState:no,extras:ro}=de,ba=new yt(Zr,this.serializeUrl(ys),vo,no);M.next(ba);const Mo=Yi(ys,this.rootComponentType).snapshot;return P={...de,targetSnapshot:Mo,urlAfterRedirects:ys,extras:{...ro,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(P)}return this.rawUrlTree=de.rawUrl,de.resolve(null),Ge.E}),(0,ct.b)(de=>{const it=new qr(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot);this.triggerEvent(it)}),(0,Be.U)(de=>P={...de,guards:kt(de.targetSnapshot,de.currentSnapshot,this.rootContexts)}),function Qn(w,D){return(0,ze.z)(v=>{const{targetSnapshot:M,currentSnapshot:P,guards:{canActivateChecks:W,canDeactivateChecks:le}}=v;return 0===le.length&&0===W.length?(0,ae.of)({...v,guardsResult:!0}):function mr(w,D,v,M){return(0,F.D)(w).pipe((0,ze.z)(P=>function Jr(w,D,v,M,P){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,ae.of)(!0);const le=W.map(de=>{const it=J(D)??P,Nt=br(de,it);return Hr(function G(w){return w&&Vn(w.canDeactivate)}(Nt)?Nt.canDeactivate(w,D,v,M):it.runInContext(()=>Nt(w,D,v,M))).pipe(Ve())});return(0,ae.of)(le).pipe(nn())}(P.component,P.route,v,D,M)),Ve(P=>!0!==P,!0))}(le,M,P,w).pipe((0,ze.z)(de=>de&&function k(w){return"boolean"==typeof w}(de)?function Gr(w,D,v,M){return(0,F.D)(D).pipe((0,_t.b)(P=>(0,Me.z)(function Ci(w,D){return null!==w&&D&&D(new ki(w)),(0,ae.of)(!0)}(P.route.parent,M),function vi(w,D){return null!==w&&D&&D(new Ns(w)),(0,ae.of)(!0)}(P.route,M),function Bs(w,D,v){const M=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(le=>function Tn(w){const D=w.routeConfig?w.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:w,guards:D}:null}(le)).filter(le=>null!==le).map(le=>(0,Ue.P)(()=>{const de=le.guards.map(it=>{const Nt=J(le.node)??v,Jn=br(it,Nt);return Hr(function I(w){return w&&Vn(w.canActivateChild)}(Jn)?Jn.canActivateChild(M,w):Nt.runInContext(()=>Jn(M,w))).pipe(Ve())});return(0,ae.of)(de).pipe(nn())}));return(0,ae.of)(W).pipe(nn())}(w,P.path,v),function hi(w,D,v){const M=D.routeConfig?D.routeConfig.canActivate:null;if(!M||0===M.length)return(0,ae.of)(!0);const P=M.map(W=>(0,Ue.P)(()=>{const le=J(D)??v,de=br(W,le);return Hr(function f(w){return w&&Vn(w.canActivate)}(de)?de.canActivate(D,w):le.runInContext(()=>de(D,w))).pipe(Ve())}));return(0,ae.of)(P).pipe(nn())}(w,P.route,v))),Ve(P=>!0!==P,!0))}(M,W,w,D):(0,ae.of)(de)),(0,Be.U)(de=>({...v,guardsResult:de})))})}(this.ngModule.injector,de=>this.triggerEvent(de)),(0,ct.b)(de=>{if(P.guardsResult=de.guardsResult,mn(de.guardsResult))throw Us(0,de.guardsResult);const it=new Ni(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.triggerEvent(it)}),(0,Oe.h)(de=>!!de.guardsResult||(this.restoreHistory(de),this.cancelNavigationTransition(de,"",3),!1)),li(de=>{if(de.guards.canActivateChecks.length)return(0,ae.of)(de).pipe((0,ct.b)(it=>{const Nt=new ri(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Nt)}),(0,Se.w)(it=>{let Nt=!1;return(0,ae.of)(it).pipe(function En(w,D){return(0,ze.z)(v=>{const{targetSnapshot:M,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,ae.of)(v);let W=0;return(0,F.D)(P).pipe((0,_t.b)(le=>function wn(w,D,v,M){const P=w.routeConfig,W=w._resolve;return void 0!==P?.title&&!xt(P)&&(W[Ar]=P.title),function $u(w,D,v,M){const P=function sn(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===P.length)return(0,ae.of)({});const W={};return(0,F.D)(P).pipe((0,ze.z)(le=>function ot(w,D,v,M){const P=J(D)??M,W=br(w,P);return Hr(W.resolve?W.resolve(D,v):P.runInContext(()=>W(D,v)))}(w[le],D,v,M).pipe(Ve(),(0,ct.b)(de=>{W[le]=de}))),bt(1),(0,Zn.h)(W),(0,qt.K)(le=>Mt(le)?Ge.E:(0,fe._)(le)))}(W,w,D,M).pipe((0,Be.U)(le=>(w._resolvedData=le,w.data=Js(w,v).resolve,P&&xt(P)&&(w.data[Ar]=P.title),null)))}(le.route,M,w,D)),(0,ct.b)(()=>W++),bt(1),(0,ze.z)(le=>W===P.length?(0,ae.of)(v):Ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ct.b)({next:()=>Nt=!0,complete:()=>{Nt||(this.restoreHistory(it),this.cancelNavigationTransition(it,"",2))}}))}),(0,ct.b)(it=>{const Nt=new Ki(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Nt)}))}),li(de=>{const it=Nt=>{const Jn=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&Jn.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,ct.b)(un=>{Nt.component=un}),(0,Be.U)(()=>{})));for(const un of Nt.children)Jn.push(...it(un));return Jn};return(0,ue.a)(it(de.targetSnapshot.root)).pipe(at(),(0,Je.q)(1))}),li(()=>this.afterPreactivation()),(0,Be.U)(de=>{const it=function hs(w,D,v){const M=Ts(w,D._root,v?v._root:void 0);return new Fs(M,D)}(this.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return P={...de,targetRouterState:it}}),(0,ct.b)(de=>{this.currentUrlTree=de.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl),this.routerState=de.targetRouterState,"deferred"===this.urlUpdateStrategy&&(de.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,de),this.browserUrlTree=de.urlAfterRedirects)}),((w,D,v)=>(0,Be.U)(M=>(new Ce(D,M.targetRouterState,M.currentRouterState,v).activate(w),M)))(this.rootContexts,this.routeReuseStrategy,de=>this.triggerEvent(de)),(0,ct.b)({next(){W=!0},complete(){W=!0}}),(0,zn.x)(()=>{W||le||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),(0,qt.K)(de=>{if(le=!0,Ti(de)){is(de)||(this.navigated=!0,this.restoreHistory(P,!0));const it=new xn(P.id,this.serializeUrl(P.extractedUrl),de.message,de.cancellationCode);if(M.next(it),is(de)){const Nt=this.urlHandlingStrategy.merge(de.url,this.rawUrlTree),Jn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bo(P.source)};this.scheduleNavigation(Nt,"imperative",null,Jn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const it=new kr(P.id,this.serializeUrl(P.extractedUrl),de,P.targetSnapshot??void 0);M.next(it);try{P.resolve(this.errorHandler(de))}catch(Nt){P.reject(Nt)}}return Ge.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const M="popstate"===v.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{const P={replaceUrl:!0},W=v.state?.navigationId?v.state:null;if(W){const de={...W};delete de.navigationId,delete de.\u0275routerPageId,0!==Object.keys(de).length&&(P.state=de)}const le=this.parseUrl(v.url);this.scheduleNavigation(le,M,W,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(Cs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,M={}){const{relativeTo:P,queryParams:W,fragment:le,queryParamsHandling:de,preserveFragment:it}=M,Nt=P||this.routerState.root,Jn=it?this.currentUrlTree.fragment:le;let un=null;switch(de){case"merge":un={...this.currentUrlTree.queryParams,...W};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=W||null}return null!==un&&(un=this.removeEmptyProps(un)),Fe(Nt,this.currentUrlTree,v,un,Jn??null)}navigateByUrl(v,M={skipLocationChange:!1}){const P=mn(v)?v:this.parseUrl(v),W=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,M)}navigate(v,M={skipLocationChange:!1}){return function wa(w){for(let D=0;D<w.length;D++){if(null==w[D])throw new m.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,M),M)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let M;try{M=this.urlSerializer.parse(v)}catch(P){M=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return M}isActive(v,M){let P;if(P=!0===M?{...Oo}:!1===M?{...$r}:M,mn(v))return or(this.currentUrlTree,v,P);const W=this.parseUrl(v);return or(this.currentUrlTree,W,P)}removeEmptyProps(v){return Object.keys(v).reduce((M,P)=>{const W=v[P];return null!=W&&(M[P]=W),M},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new tn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,M,P,W,le){if(this.disposed)return Promise.resolve(!1);let de,it,Nt;le?(de=le.resolve,it=le.reject,Nt=le.promise):Nt=new Promise((Zr,ys)=>{de=Zr,it=ys});const Jn=++this.navigationId;let un;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),un=P&&P.\u0275routerPageId?P.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):un=0,this.setTransition({id:Jn,targetPageId:un,source:M,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:W,resolve:de,reject:it,promise:Nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nt.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(v,M){const P=this.urlSerializer.serialize(v),W={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(P)||M.extras.replaceUrl?this.location.replaceState(P,"",W):this.location.go(P,"",W)}restoreHistory(v,M=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,M,P){const W=new xn(v.id,this.serializeUrl(v.extractedUrl),M,P);this.triggerEvent(W),v.resolve(!1)}generateNgRouterState(v,M){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:M}:{navigationId:v}}}return w.\u0275fac=function(v){m.$Z()},w.\u0275prov=m.Yz7({token:w,factory:function(){return mi()},providedIn:"root"}),w})();function Bo(w){return"imperative"!==w}let lo=(()=>{class w{constructor(v,M,P,W,le){this.router=v,this.route=M,this.tabIndexAttribute=P,this.renderer=W,this.el=le,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Kt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,m.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,m.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,m.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const M=this.renderer,P=this.el.nativeElement;null!==v?M.setAttribute(P,"tabindex",v):M.removeAttribute(P,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(v){return new(v||w)(m.Y36(Rt),m.Y36(ci),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},w.\u0275dir=m.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,M){1&v&&m.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),w})(),ko=(()=>{class w{constructor(v,M,P){this.router=v,this.route=M,this.locationStrategy=P,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Kt.x,this.subscription=v.events.subscribe(W=>{W instanceof tn&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,m.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,m.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,m.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,M,P,W,le){return!!(0!==v||M||P||W||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(v){return new(v||w)(m.Y36(Rt),m.Y36(ci),m.Y36(en.S$))},w.\u0275dir=m.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,M){1&v&&m.NdJ("click",function(W){return M.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&v&&m.uIk("target",M.target)("href",M.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),w})(),da=(()=>{class w{constructor(v,M,P,W,le,de){this.router=v,this.element=M,this.renderer=P,this.cdr=W,this.link=le,this.linkWithHref=de,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.vpe,this.routerEventsSubscription=v.events.subscribe(it=>{it instanceof tn&&this.update()})}ngAfterContentInit(){(0,ae.of)(this.links.changes,this.linksWithHrefs.changes,(0,ae.of)(null)).pipe((0,Fn.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const v=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(M=>!!M).map(M=>M.onChanges);this.linkInputChangesSubscription=(0,F.D)(v).pipe((0,Fn.J)()).subscribe(M=>{this.isActive!==this.isLinkActive(this.router)(M)&&this.update()})}set routerLinkActive(v){const M=Array.isArray(v)?v:v.split(" ");this.classes=M.filter(P=>!!P)}ngOnChanges(v){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(M=>{v?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const M=function B(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>!!P.urlTree&&v.isActive(P.urlTree,M)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return w.\u0275fac=function(v){return new(v||w)(m.Y36(Rt),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(lo,8),m.Y36(ko,8))},w.\u0275dir=m.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(v,M,P){if(1&v&&(m.Suo(P,lo,5),m.Suo(P,ko,5)),2&v){let W;m.iGM(W=m.CRH())&&(M.links=W),m.iGM(W=m.CRH())&&(M.linksWithHrefs=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[m.TTD]}),w})();class y{}let j=(()=>{class w{constructor(v,M,P,W,le){this.router=v,this.injector=P,this.preloadingStrategy=W,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.h)(v=>v instanceof tn),(0,_t.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,M){const P=[];for(const W of M){W.providers&&!W._injector&&(W._injector=(0,m.MMx)(W.providers,v,`Route: ${W.path}`));const le=W._injector??v,de=W._loadedInjector??le;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?P.push(this.preloadConfig(le,W)):(W.children||W._loadedRoutes)&&P.push(this.processRoutes(de,W.children??W._loadedRoutes))}return(0,F.D)(P).pipe((0,Fn.J)())}preloadConfig(v,M){return this.preloadingStrategy.preload(M,()=>{let P;P=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(v,M):(0,ae.of)(null);const W=P.pipe((0,ze.z)(le=>null===le?(0,ae.of)(void 0):(M._loadedRoutes=le.routes,M._loadedInjector=le.injector,this.processRoutes(le.injector??v,le.routes))));if(M.loadComponent&&!M._loadedComponent){const le=this.loader.loadComponent(M);return(0,F.D)([W,le]).pipe((0,Fn.J)())}return W})}}return w.\u0275fac=function(v){return new(v||w)(m.LFG(Rt),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(y),m.LFG(ta))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Z=new m.OlP("");let me=(()=>{class w{constructor(v,M,P={}){this.router=v,this.viewportScroller=M,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof tn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Is&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,M){this.router.triggerEvent(new Is(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(v){m.$Z()},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac}),w})();function ve(w,D){return{\u0275kind:w,\u0275providers:D}}function Xt(w){return[{provide:ca,multi:!0,useValue:w}]}function Gt(){const w=(0,m.f3M)(m.zs3);return D=>{const v=w.get(m.z2F);if(D!==v.components[0])return;const M=w.get(Rt),P=w.get(pn);1===w.get(Dn)&&M.initialNavigation(),w.get(ms,null,m.XFs.Optional)?.setUpPreloading(),w.get(Z,null,m.XFs.Optional)?.init(),M.resetRootComponentType(v.componentTypes[0]),P.closed||(P.next(),P.unsubscribe())}}const pn=new m.OlP("",{factory:()=>new Kt.x}),Dn=new m.OlP("",{providedIn:"root",factory:()=>1});const ms=new m.OlP("");function Rs(w){return ve(0,[{provide:ms,useExisting:j},{provide:y,useExisting:w}])}const zr=new m.OlP("ROUTER_FORROOT_GUARD"),Zs=[en.Ye,{provide:tr,useClass:Dr},{provide:Rt,useFactory:mi},ss,{provide:ci,useFactory:function mt(w){return w.routerState.root},deps:[Rt]},ta];function os(){return new m.PXZ("Router",Rt)}let Da=(()=>{class w{constructor(v){}static forRoot(v,M){return{ngModule:w,providers:[Zs,[],Xt(v),{provide:zr,useFactory:Ia,deps:[[Rt,new m.FiY,new m.tp0]]},{provide:Ea,useValue:M||{}},M?.useHash?{provide:en.S$,useClass:en.Do}:{provide:en.S$,useClass:en.b0},{provide:Z,useFactory:()=>{const w=(0,m.f3M)(Rt),D=(0,m.f3M)(en.EM),v=(0,m.f3M)(Ea);return v.scrollOffset&&D.setOffset(v.scrollOffset),new me(w,D,v)}},M?.preloadingStrategy?Rs(M.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:os},M?.initialNavigation?zt(M):[],[{provide:Sn,useFactory:Gt},{provide:m.tb,multi:!0,useExisting:Sn}]]}}static forChild(v){return{ngModule:w,providers:[Xt(v)]}}}return w.\u0275fac=function(v){return new(v||w)(m.LFG(zr,8))},w.\u0275mod=m.oAB({type:w}),w.\u0275inj=m.cJS({imports:[_i]}),w})();function Ia(w){return"guarded"}function zt(w){return["disabled"===w.initialNavigation?ve(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const D=(0,m.f3M)(Rt);return()=>{D.setUpLocationChangeListener()}}},{provide:Dn,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?ve(2,[{provide:Dn,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:D=>{const v=D.get(en.V_,Promise.resolve());let M=!1;return()=>v.then(()=>new Promise(W=>{const le=D.get(Rt),de=D.get(pn);(function P(W){D.get(Rt).events.pipe((0,Oe.h)(de=>de instanceof tn||de instanceof xn||de instanceof kr),(0,Be.U)(de=>de instanceof tn||de instanceof xn&&(0===de.code||1===de.code)&&null),(0,Oe.h)(de=>null!==de),(0,Je.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),M=!0}),le.afterPreactivation=()=>(W(!0),M||de.closed?(0,ae.of)(void 0):de),le.initialNavigation()}))}}]).\u0275providers:[]]}const Sn=new m.OlP("")},9681:(Jt,Ze,U)=>{U.d(Ze,{C6:()=>Vr,Jn:()=>$n,KN:()=>vn,Mq:()=>sr,Xd:()=>Fn,ZF:()=>Rn,qX:()=>ln});var m=U(5861),F=U(4859),ae=U(1877),Ee=U(2090),Ie=U(8766);class Pe{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function ue(Dt){return"VERSION"===Dt.getComponent()?.type}(Ct)){const cn=Ct.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Ct=>Ct).join(" ")}}const Me="@firebase/app",he=new ae.Yd("@firebase/app"),_n="[DEFAULT]",bt={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,er=new Map;function Zn(Dt,qe){try{Dt.container.addComponent(qe)}catch(Ct){he.debug(`Component ${qe.name} failed to register with FirebaseApp ${Dt.name}`,Ct)}}function Fn(Dt){const qe=Dt.name;if(er.has(qe))return he.debug(`There were multiple attempts to register component ${qe}.`),!1;er.set(qe,Dt);for(const Ct of In.values())Zn(Ct,Dt);return!0}function ln(Dt,qe){const Ct=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),Dt.container.getProvider(qe)}const nr=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(qe,Ct,cn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const $n="9.15.0";function Rn(Dt,qe={}){let Ct=Dt;"object"!=typeof qe&&(qe={name:qe});const cn=Object.assign({name:_n,automaticDataCollectionEnabled:!1},qe),$t=cn.name;if("string"!=typeof $t||!$t)throw nr.create("bad-app-name",{appName:String($t)});if(Ct||(Ct=(0,Ee.aH)()),!Ct)throw nr.create("no-options");const An=In.get($t);if(An){if((0,Ee.vZ)(Ct,An.options)&&(0,Ee.vZ)(cn,An.config))return An;throw nr.create("duplicate-app",{appName:$t})}const pe=new F.H0($t);for(const K of er.values())pe.addComponent(K);const ce=new lr(Ct,cn,pe);return In.set($t,ce),ce}function sr(Dt=_n){const qe=In.get(Dt);if(!qe&&Dt===_n)return Rn();if(!qe)throw nr.create("no-app",{appName:Dt});return qe}function Vr(){return Array.from(In.values())}function vn(Dt,qe,Ct){var cn;let $t=null!==(cn=bt[Dt])&&void 0!==cn?cn:Dt;Ct&&($t+=`-${Ct}`);const An=$t.match(/\s|\//),pe=qe.match(/\s|\//);if(An||pe){const ce=[`Unable to register library "${$t}" with version "${qe}":`];return An&&ce.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),An&&pe&&ce.push("and"),pe&&ce.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void he.warn(ce.join(" "))}Fn(new F.wA(`${$t}-version`,()=>({library:$t,version:qe}),"VERSION"))}const fr="firebase-heartbeat-store";let or=null;function Wn(){return or||(or=(0,Ie.X3)("firebase-heartbeat-database",1,{upgrade:(Dt,qe)=>{0===qe&&Dt.createObjectStore(fr)}}).catch(Dt=>{throw nr.create("idb-open",{originalErrorMessage:Dt.message})})),or}function Ht(){return(Ht=(0,m.Z)(function*(Dt){try{return(yield Wn()).transaction(fr).objectStore(fr).get(pr(Dt))}catch(qe){if(qe instanceof Ee.ZR)he.warn(qe.message);else{const Ct=nr.create("idb-get",{originalErrorMessage:qe?.message});he.warn(Ct.message)}}})).apply(this,arguments)}function gn(Dt,qe){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(Dt,qe){try{const cn=(yield Wn()).transaction(fr,"readwrite");return yield cn.objectStore(fr).put(qe,pr(Dt)),cn.done}catch(Ct){if(Ct instanceof Ee.ZR)he.warn(Ct.message);else{const cn=nr.create("idb-set",{originalErrorMessage:Ct?.message});he.warn(cn.message)}}})).apply(this,arguments)}function pr(Dt){return`${Dt.name}!${Dt.options.appId}`}class _r{constructor(qe){this.container=qe,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new Un(Ct),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var qe=this;return(0,m.Z)(function*(){const cn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=qn();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==$t&&!qe._heartbeatsCache.heartbeats.some(An=>An.date===$t))return qe._heartbeatsCache.heartbeats.push({date:$t,agent:cn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(An=>{const pe=new Date(An.date).valueOf();return Date.now()-pe<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,m.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const Ct=qn(),{heartbeatsToSend:cn,unsentEntries:$t}=function Ur(Dt,qe=1024){const Ct=[];let cn=Dt.slice();for(const $t of Dt){const An=Ct.find(pe=>pe.agent===$t.agent);if(An){if(An.dates.push($t.date),tr(Ct)>qe){An.dates.pop();break}}else if(Ct.push({agent:$t.agent,dates:[$t.date]}),tr(Ct)>qe){Ct.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:cn}}(qe._heartbeatsCache.heartbeats),An=(0,Ee.L)(JSON.stringify({version:2,heartbeats:cn}));return qe._heartbeatsCache.lastSentHeartbeatDate=Ct,$t.length>0?(qe._heartbeatsCache.heartbeats=$t,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),An})()}}function qn(){return(new Date).toISOString().substring(0,10)}class Un{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,m.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function rn(Dt){return Ht.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var Ct=this;return(0,m.Z)(function*(){var cn;if(yield Ct._canUseIndexedDBPromise){const An=yield Ct.read();return gn(Ct.app,{lastSentHeartbeatDate:null!==(cn=qe.lastSentHeartbeatDate)&&void 0!==cn?cn:An.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var Ct=this;return(0,m.Z)(function*(){var cn;if(yield Ct._canUseIndexedDBPromise){const An=yield Ct.read();return gn(Ct.app,{lastSentHeartbeatDate:null!==(cn=qe.lastSentHeartbeatDate)&&void 0!==cn?cn:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...qe.heartbeats]})}})()}}function tr(Dt){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Dr(Dt){Fn(new F.wA("platform-logger",qe=>new Pe(qe),"PRIVATE")),Fn(new F.wA("heartbeat",qe=>new _r(qe),"PRIVATE")),vn(Me,"0.9.0",Dt),vn(Me,"0.9.0","esm2017"),vn("fire-js","")}("")},4859:(Jt,Ze,U)=>{U.d(Ze,{H0:()=>Me,wA:()=>ae});var m=U(5861),F=U(2090);class ae{constructor(he,fe,be){this.name=he,this.instanceFactory=fe,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ee="[DEFAULT]";class Ie{constructor(he,fe){this.name=he,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const fe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(fe)){const be=new F.BH;if(this.instancesDeferred.set(fe,be),this.isInitialized(fe)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:fe});Ge&&be.resolve(Ge)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(he){var fe;const be=this.normalizeInstanceIdentifier(he?.identifier),Ge=null!==(fe=he?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Te){if(Ge)return null;throw Te}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function ue(Ue){return"EAGER"===Ue.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[fe,be]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(fe);try{const Te=this.getOrInitializeService({instanceIdentifier:Ge});be.resolve(Te)}catch{}}}}clearInstance(he=Ee){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,m.Z)(function*(){const fe=Array.from(he.instances.values());yield Promise.all([...fe.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...fe.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ee){return this.instances.has(he)}getOptions(he=Ee){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:fe={}}=he,be=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:be,options:fe});for(const[Te,Ke]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Te)&&Ke.resolve(Ge);return Ge}onInit(he,fe){var be;const Ge=this.normalizeInstanceIdentifier(fe),Te=null!==(be=this.onInitCallbacks.get(Ge))&&void 0!==be?be:new Set;Te.add(he),this.onInitCallbacks.set(Ge,Te);const Ke=this.instances.get(Ge);return Ke&&he(Ke,Ge),()=>{Te.delete(he)}}invokeOnInitCallbacks(he,fe){const be=this.onInitCallbacks.get(fe);if(be)for(const Ge of be)try{Ge(he,fe)}catch{}}getOrInitializeService({instanceIdentifier:he,options:fe={}}){let be=this.instances.get(he);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=he,Ue===Ee?void 0:Ue),options:fe}),this.instances.set(he,be),this.instancesOptions.set(he,fe),this.invokeOnInitCallbacks(be,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,be)}catch{}var Ue;return be||null}normalizeInstanceIdentifier(he=Ee){return this.component?this.component.multipleInstances?he:Ee:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const fe=this.getProvider(he.name);if(fe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);fe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const fe=new Ie(he,this);return this.providers.set(he,fe),fe}getProviders(){return Array.from(this.providers.values())}}},2833:(Jt,Ze,U)=>{var m=U(5861),F=U(9681),ae=U(4859),Ee=U(2090),Ie=U(8766);const Pe="@firebase/installations",Ue="w:0.6.0",he="FIS_v2",He=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(Fe){return Fe instanceof Ee.ZR&&Fe.code.includes("request-failed")}function st({projectId:Fe}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Fe}/installations`}function Kt(Fe){return{token:Fe.token,requestStatus:2,expiresIn:ze(Fe.expiresIn),creationTime:Date.now()}}function en(Fe,tt){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(Fe,tt){const Qt=(yield tt.json()).error;return He.create("request-failed",{requestName:Fe,serverCode:Qt.code,serverMessage:Qt.message,serverStatus:Qt.status})})).apply(this,arguments)}function Se({apiKey:Fe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Fe})}function Je(Fe,{refreshToken:tt}){const wt=Se(Fe);return wt.append("Authorization",function at(Fe){return`${he} ${Fe}`}(tt)),wt}function At(Fe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,m.Z)(function*(Fe){const tt=yield Fe();return tt.status>=500&&tt.status<600?Fe():tt})).apply(this,arguments)}function ze(Fe){return Number(Fe.replace("s","000"))}function Re(Fe,tt){return Le.apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*({appConfig:Fe,heartbeatServiceProvider:tt},{fid:wt}){const Qt=st(Fe),Pn=Se(Fe),Kn=tt.getImmediate({optional:!0});if(Kn){const Ri=yield Kn.getHeartbeatsHeader();Ri&&Pn.append("x-firebase-client",Ri)}const ar={method:"POST",headers:Pn,body:JSON.stringify({fid:wt,authVersion:he,appId:Fe.appId,sdkVersion:Ue})},Xr=yield At(()=>fetch(Qt,ar));if(Xr.ok){const Ri=yield Xr.json();return{fid:Ri.fid||wt,registrationStatus:2,refreshToken:Ri.refreshToken,authToken:Kt(Ri.authToken)}}throw yield en("Create Installation",Xr)})).apply(this,arguments)}function nt(Fe){return new Promise(tt=>{setTimeout(tt,Fe)})}const _t=/^[cdef][\w-]{21}$/;function qt(){try{const Fe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Fe),Fe[0]=112+Fe[0]%16;const wt=function Bn(Fe){return function Ve(Fe){return btoa(String.fromCharCode(...Fe)).replace(/\+/g,"-").replace(/\//g,"_")}(Fe).substr(0,22)}(Fe);return _t.test(wt)?wt:""}catch{return""}}function _n(Fe){return`${Fe.appName}!${Fe.appId}`}const bt=new Map;function In(Fe,tt){const wt=_n(Fe);zn(wt,tt),function Fn(Fe,tt){const wt=function on(){return!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=Fe=>{zn(Fe.data.key,Fe.data.fid)}),ln}();wt&&wt.postMessage({key:Fe,fid:tt}),function Ar(){0===bt.size&&ln&&(ln.close(),ln=null)}()}(wt,tt)}function zn(Fe,tt){const wt=bt.get(Fe);if(wt)for(const Qt of wt)Qt(tt)}let ln=null;const lr="firebase-installations-store";let $n=null;function Rn(){return $n||($n=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(Fe,tt)=>{0===tt&&Fe.createObjectStore(lr)}})),$n}function sr(Fe,tt){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(Fe,tt){const wt=_n(Fe),Pn=(yield Rn()).transaction(lr,"readwrite"),Kn=Pn.objectStore(lr),xr=yield Kn.get(wt);return yield Kn.put(tt,wt),yield Pn.done,(!xr||xr.fid!==tt.fid)&&In(Fe,tt.fid),tt})).apply(this,arguments)}function Ir(Fe){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,m.Z)(function*(Fe){const tt=_n(Fe),Qt=(yield Rn()).transaction(lr,"readwrite");yield Qt.objectStore(lr).delete(tt),yield Qt.done})).apply(this,arguments)}function vn(Fe,tt){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(Fe,tt){const wt=_n(Fe),Pn=(yield Rn()).transaction(lr,"readwrite"),Kn=Pn.objectStore(lr),xr=yield Kn.get(wt),ar=tt(xr);return void 0===ar?yield Kn.delete(wt):yield Kn.put(ar,wt),yield Pn.done,ar&&(!xr||xr.fid!==ar.fid)&&In(Fe,ar.fid),ar})).apply(this,arguments)}function cr(Fe){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(Fe){let tt;const wt=yield vn(Fe.appConfig,Qt=>{const Pn=ti(Qt),Kn=fr(Fe,Pn);return tt=Kn.registrationPromise,Kn.installationEntry});return""===wt.fid?{installationEntry:yield tt}:{installationEntry:wt,registrationPromise:tt}})).apply(this,arguments)}function ti(Fe){return dr(Fe||{fid:qt(),registrationStatus:0})}function fr(Fe,tt){if(0===tt.registrationStatus){if(!navigator.onLine)return{installationEntry:tt,registrationPromise:Promise.reject(He.create("app-offline"))};const wt={fid:tt.fid,registrationStatus:1,registrationTime:Date.now()},Qt=function or(Fe,tt){return Wn.apply(this,arguments)}(Fe,wt);return{installationEntry:wt,registrationPromise:Qt}}return 1===tt.registrationStatus?{installationEntry:tt,registrationPromise:rn(Fe)}:{installationEntry:tt}}function Wn(){return(Wn=(0,m.Z)(function*(Fe,tt){try{const wt=yield Re(Fe,tt);return sr(Fe.appConfig,wt)}catch(wt){throw gt(wt)&&409===wt.customData.serverCode?yield Ir(Fe.appConfig):yield sr(Fe.appConfig,{fid:tt.fid,registrationStatus:0}),wt}})).apply(this,arguments)}function rn(Fe){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(Fe){let tt=yield gn(Fe.appConfig);for(;1===tt.registrationStatus;)yield nt(100),tt=yield gn(Fe.appConfig);if(0===tt.registrationStatus){const{installationEntry:wt,registrationPromise:Qt}=yield cr(Fe);return Qt||wt}return tt})).apply(this,arguments)}function gn(Fe){return vn(Fe,tt=>{if(!tt)throw He.create("installation-not-found");return dr(tt)})}function dr(Fe){return function pr(Fe){return 1===Fe.registrationStatus&&Fe.registrationTime+1e4<Date.now()}(Fe)?{fid:Fe.fid,registrationStatus:0}:Fe}function wr(Fe,tt){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,m.Z)(function*({appConfig:Fe,heartbeatServiceProvider:tt},wt){const Qt=_r(Fe,wt),Pn=Je(Fe,wt),Kn=tt.getImmediate({optional:!0});if(Kn){const Ri=yield Kn.getHeartbeatsHeader();Ri&&Pn.append("x-firebase-client",Ri)}const ar={method:"POST",headers:Pn,body:JSON.stringify({installation:{sdkVersion:Ue,appId:Fe.appId}})},Xr=yield At(()=>fetch(Qt,ar));if(Xr.ok)return Kt(yield Xr.json());throw yield en("Generate Auth Token",Xr)})).apply(this,arguments)}function _r(Fe,{fid:tt}){return`${st(Fe)}/${tt}/authTokens:generate`}function qn(Fe){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(function*(Fe,tt=!1){let wt;const Qt=yield vn(Fe.appConfig,Kn=>{if(!Ct(Kn))throw He.create("not-registered");const xr=Kn.authToken;if(!tt&&cn(xr))return Kn;if(1===xr.requestStatus)return wt=Un(Fe,tt),Kn;{if(!navigator.onLine)throw He.create("app-offline");const ar=An(Kn);return wt=Dt(Fe,ar),ar}});return wt?yield wt:Qt.authToken})).apply(this,arguments)}function Un(Fe,tt){return tr.apply(this,arguments)}function tr(){return(tr=(0,m.Z)(function*(Fe,tt){let wt=yield Dr(Fe.appConfig);for(;1===wt.authToken.requestStatus;)yield nt(100),wt=yield Dr(Fe.appConfig);const Qt=wt.authToken;return 0===Qt.requestStatus?qn(Fe,tt):Qt})).apply(this,arguments)}function Dr(Fe){return vn(Fe,tt=>{if(!Ct(tt))throw He.create("not-registered");return function pe(Fe){return 1===Fe.requestStatus&&Fe.requestTime+1e4<Date.now()}(tt.authToken)?Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}}):tt})}function Dt(Fe,tt){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(Fe,tt){try{const wt=yield wr(Fe,tt),Qt=Object.assign(Object.assign({},tt),{authToken:wt});return yield sr(Fe.appConfig,Qt),wt}catch(wt){if(!gt(wt)||401!==wt.customData.serverCode&&404!==wt.customData.serverCode){const Qt=Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}});yield sr(Fe.appConfig,Qt)}else yield Ir(Fe.appConfig);throw wt}})).apply(this,arguments)}function Ct(Fe){return void 0!==Fe&&2===Fe.registrationStatus}function cn(Fe){return 2===Fe.requestStatus&&!function $t(Fe){const tt=Date.now();return tt<Fe.creationTime||Fe.creationTime+Fe.expiresIn<tt+36e5}(Fe)}function An(Fe){const tt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Fe),{authToken:tt})}function K(){return(K=(0,m.Z)(function*(Fe){const tt=Fe,{installationEntry:wt,registrationPromise:Qt}=yield cr(tt);return Qt?Qt.catch(console.error):qn(tt).catch(console.error),wt.fid})).apply(this,arguments)}function se(){return(se=(0,m.Z)(function*(Fe,tt=!1){const wt=Fe;return yield We(wt),(yield qn(wt,tt)).token})).apply(this,arguments)}function We(Fe){return ut.apply(this,arguments)}function ut(){return(ut=(0,m.Z)(function*(Fe){const{registrationPromise:tt}=yield cr(Fe);tt&&(yield tt)})).apply(this,arguments)}function Ot(Fe){return He.create("missing-app-config-values",{valueName:Fe})}const mn="installations",Mr=Fe=>{const tt=Fe.getProvider("app").getImmediate(),wt=function lt(Fe){if(!Fe||!Fe.options)throw Ot("App Configuration");if(!Fe.name)throw Ot("App Name");const tt=["projectId","apiKey","appId"];for(const wt of tt)if(!Fe.options[wt])throw Ot(wt);return{appName:Fe.name,projectId:Fe.options.projectId,apiKey:Fe.options.apiKey,appId:Fe.options.appId}}(tt);return{app:tt,appConfig:wt,heartbeatServiceProvider:(0,F.qX)(tt,"heartbeat"),_delete:()=>Promise.resolve()}},bi=Fe=>{const tt=Fe.getProvider("app").getImmediate(),wt=(0,F.qX)(tt,mn).getImmediate();return{getId:()=>function ce(Fe){return K.apply(this,arguments)}(wt),getToken:Pn=>function ge(Fe){return se.apply(this,arguments)}(wt,Pn)}};(function an(){(0,F.Xd)(new ae.wA(mn,Mr,"PUBLIC")),(0,F.Xd)(new ae.wA("installations-internal",bi,"PRIVATE"))})(),(0,F.KN)(Pe,"0.6.0"),(0,F.KN)(Pe,"0.6.0","esm2017")},1877:(Jt,Ze,U)=>{U.d(Ze,{Yd:()=>ue,in:()=>F});const m=[];var F=(()=>{return(he=F||(F={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",F;var he})();const ae={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},Ee=F.INFO,Ie={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Pe=(he,fe,...be)=>{if(fe<he.logLevel)return;const Ge=(new Date).toISOString(),Te=Ie[fe];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Te](`[${Ge}]  ${he.name}:`,...be)};class ue{constructor(fe){this.name=fe,this._logLevel=Ee,this._logHandler=Pe,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in F))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?ae[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...fe),this._logHandler(this,F.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...fe),this._logHandler(this,F.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,F.INFO,...fe),this._logHandler(this,F.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,F.WARN,...fe),this._logHandler(this,F.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...fe),this._logHandler(this,F.ERROR,...fe)}}},3008:(Jt,Ze,U)=>{U.d(Ze,{IH:()=>_r,Gb:()=>Ur,Kz:()=>cn,Iv:()=>Dr});var m=U(5861),F=U(9681),ae=U(1877),Ee=U(2090),Ie=U(4859);U(2833);const ue="analytics",Me="firebase_id",fe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",be="https://www.googletagmanager.com/gtag/js",Ge=new ae.Yd("@firebase/analytics");function Te(K){return Promise.all(K.map(ge=>ge.catch(se=>se)))}function Ke(K,ge){const se=document.createElement("script");se.src=`${be}?l=${K}&id=${ge}`,se.async=!0,document.head.appendChild(se)}function gt(K,ge,se,We,ut,Vt){return st.apply(this,arguments)}function st(){return(st=(0,m.Z)(function*(K,ge,se,We,ut,Vt){const Yt=We[ut];try{if(Yt)yield ge[Yt];else{const ie=(yield Te(se)).find(X=>X.measurementId===ut);ie&&(yield ge[ie.appId])}}catch(Zt){Ge.error(Zt)}K("config",ut,Vt)})).apply(this,arguments)}function Kt(K,ge,se,We,ut){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(K,ge,se,We,ut){try{let Vt=[];if(ut&&ut.send_to){let Yt=ut.send_to;Array.isArray(Yt)||(Yt=[Yt]);const Zt=yield Te(se);for(const ie of Yt){const X=Zt.find(Ae=>Ae.measurementId===ie),Q=X&&ge[X.appId];if(!Q){Vt=[];break}Vt.push(Q)}}0===Vt.length&&(Vt=Object.values(ge)),yield Promise.all(Vt),K("event",We,ut||{})}catch(Vt){Ge.error(Vt)}})).apply(this,arguments)}function Je(K){const ge=window.document.getElementsByTagName("script");for(const se of Object.values(ge))if(se.src&&se.src.includes(be)&&se.src.includes(K))return se;return null}const Oe=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Le=new class Re{constructor(ge={},se=1e3){this.throttleMetadata=ge,this.intervalMillis=se}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,se){this.throttleMetadata[ge]=se}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function nt(K){return new Headers({Accept:"application/json","x-goog-api-key":K})}function Ve(K){return _t.apply(this,arguments)}function _t(){return(_t=(0,m.Z)(function*(K){var ge;const{appId:se,apiKey:We}=K,ut={method:"GET",headers:nt(We)},Vt=fe.replace("{app-id}",se),Yt=yield fetch(Vt,ut);if(200!==Yt.status&&304!==Yt.status){let Zt="";try{const ie=yield Yt.json();null!==(ge=ie.error)&&void 0!==ge&&ge.message&&(Zt=ie.error.message)}catch{}throw Oe.create("config-fetch-failed",{httpStatus:Yt.status,responseMessage:Zt})}return Yt.json()})).apply(this,arguments)}function ct(K){return qt.apply(this,arguments)}function qt(){return(qt=(0,m.Z)(function*(K,ge=Le,se){const{appId:We,apiKey:ut,measurementId:Vt}=K.options;if(!We)throw Oe.create("no-app-id");if(!ut){if(Vt)return{measurementId:Vt,appId:We};throw Oe.create("no-api-key")}const Yt=ge.getThrottleMetadata(We)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zt=new er;return setTimeout((0,m.Z)(function*(){Zt.abort()}),void 0!==se?se:6e4),Bn({appId:We,apiKey:ut,measurementId:Vt},Yt,Zt,ge)})).apply(this,arguments)}function Bn(K,ge,se){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(K,{throttleEndTimeMillis:ge,backoffCount:se},We,ut=Le){var Vt;const{appId:Yt,measurementId:Zt}=K;try{yield bt(We,ge)}catch(ie){if(Zt)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${ie?.message}]`),{appId:Yt,measurementId:Zt};throw ie}try{const ie=yield Ve(K);return ut.deleteThrottleMetadata(Yt),ie}catch(ie){const X=ie;if(!In(X)){if(ut.deleteThrottleMetadata(Yt),Zt)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${X?.message}]`),{appId:Yt,measurementId:Zt};throw ie}const Q=503===Number(null===(Vt=X?.customData)||void 0===Vt?void 0:Vt.httpStatus)?(0,Ee.$s)(se,ut.intervalMillis,30):(0,Ee.$s)(se,ut.intervalMillis),Ae={throttleEndTimeMillis:Date.now()+Q,backoffCount:se+1};return ut.setThrottleMetadata(Yt,Ae),Ge.debug(`Calling attemptFetch again in ${Q} millis`),Bn(K,Ae,We,ut)}})).apply(this,arguments)}function bt(K,ge){return new Promise((se,We)=>{const ut=Math.max(ge-Date.now(),0),Vt=setTimeout(se,ut);K.addEventListener(()=>{clearTimeout(Vt),We(Oe.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function In(K){if(!(K instanceof Ee.ZR&&K.customData))return!1;const ge=Number(K.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class er{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}let Zn,sr;function Fn(){return(Fn=(0,m.Z)(function*(K,ge,se,We,ut){if(ut&&ut.global)K("event",se,We);else{const Vt=yield ge;K("event",se,Object.assign(Object.assign({},We),{send_to:Vt}))}})).apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(K,ge,se,We){if(We&&We.global)return K("set",{user_id:se}),Promise.resolve();K("config",yield ge,{update:!0,user_id:se})})).apply(this,arguments)}function Vr(K){sr=K}function Ir(K){Zn=K}function Bt(){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(){if(!(0,Ee.hl)())return Ge.warn(Oe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(K){return Ge.warn(Oe.create("indexeddb-unavailable",{errorInfo:K?.toString()}).message),!1}return!0})).apply(this,arguments)}function cr(){return(cr=(0,m.Z)(function*(K,ge,se,We,ut,Vt,Yt){var Zt;const ie=ct(K);ie.then(Ot=>{se[Ot.measurementId]=Ot.appId,K.options.measurementId&&Ot.measurementId!==K.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${K.options.measurementId}) does not match the measurement ID fetched from the server (${Ot.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ot=>Ge.error(Ot)),ge.push(ie);const X=Bt().then(Ot=>{if(Ot)return We.getId()}),[Q,Ae]=yield Promise.all([ie,X]);Je(Vt)||Ke(Vt,Q.measurementId),sr&&(ut("consent","default",sr),Vr(void 0)),ut("js",new Date);const lt=null!==(Zt=Yt?.config)&&void 0!==Zt?Zt:{};return lt.origin="firebase",lt.update=!0,null!=Ae&&(lt[Me]=Ae),ut("config",Q.measurementId,lt),Zn&&(ut("set",Zn),Ir(void 0)),Q.measurementId})).apply(this,arguments)}class Cr{constructor(ge){this.app=ge}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},fr=[];const or={};let Ht,gn,Wn="dataLayer",dr=!1;function Tt(K,ge,se){!function wr(){const K=[];if((0,Ee.ru)()&&K.push("This is a browser extension environment."),(0,Ee.zI)()||K.push("Cookies are not available."),K.length>0){const ge=K.map((We,ut)=>`(${ut+1}) ${We}`).join(" "),se=Oe.create("invalid-analytics-context",{errorInfo:ge});Ge.warn(se.message)}}();const We=K.options.appId;if(!We)throw Oe.create("no-app-id");if(!K.options.apiKey){if(!K.options.measurementId)throw Oe.create("no-api-key");Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${K.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[We])throw Oe.create("already-exists",{id:We});if(!dr){!function He(K){let ge=[];Array.isArray(window[K])?ge=window[K]:window[K]=ge}(Wn);const{wrappedGtag:Vt,gtagCore:Yt}=function Se(K,ge,se,We,ut){let Vt=function(...Yt){window[We].push(arguments)};return window[ut]&&"function"==typeof window[ut]&&(Vt=window[ut]),window[ut]=function Be(K,ge,se,We){function Vt(){return(Vt=(0,m.Z)(function*(Yt,Zt,ie){try{"event"===Yt?yield Kt(K,ge,se,Zt,ie):"config"===Yt?yield gt(K,ge,se,We,Zt,ie):"consent"===Yt?K("consent","update",ie):K("set",Zt)}catch(X){Ge.error(X)}})).apply(this,arguments)}return function ut(Yt,Zt,ie){return Vt.apply(this,arguments)}}(Vt,K,ge,se),{gtagCore:Vt,wrappedGtag:window[ut]}}(ti,fr,or,Wn,"gtag");gn=Vt,Ht=Yt,dr=!0}return ti[We]=function Hr(K,ge,se,We,ut,Vt,Yt){return cr.apply(this,arguments)}(K,fr,or,ge,Ht,Wn,se),new Cr(K)}function _r(K=(0,F.Mq)()){K=(0,Ee.m9)(K);const ge=(0,F.qX)(K,ue);return ge.isInitialized()?ge.getImmediate():function qn(K,ge={}){const se=(0,F.qX)(K,ue);if(se.isInitialized()){const ut=se.getImmediate();if((0,Ee.vZ)(ge,se.getOptions()))return ut;throw Oe.create("already-initialized")}return se.initialize({options:ge})}(K)}function Ur(){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}function Dr(K,ge,se){K=(0,Ee.m9)(K),function Ar(K,ge,se,We){return Wr.apply(this,arguments)}(gn,ti[K.app.options.appId],ge,se).catch(We=>Ge.error(We))}function cn(K,ge,se,We){K=(0,Ee.m9)(K),function zn(K,ge,se,We,ut){return Fn.apply(this,arguments)}(gn,ti[K.app.options.appId],ge,se,We).catch(ut=>Ge.error(ut))}const An="@firebase/analytics";!function ce(){(0,F.Xd)(new Ie.wA(ue,(ge,{options:se})=>Tt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,F.Xd)(new Ie.wA("analytics-internal",function K(ge){try{const se=ge.getProvider(ue).getImmediate();return{logEvent:(We,ut,Vt)=>cn(se,We,ut,Vt)}}catch(se){throw Oe.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,F.KN)(An,"0.9.0"),(0,F.KN)(An,"0.9.0","esm2017")}()},259:(Jt,Ze,U)=>{U.d(Ze,{C6:()=>m.C6,KN:()=>m.KN,Mq:()=>m.Mq,ZF:()=>m.ZF});var m=U(9681);(0,m.KN)("firebase","9.15.0","app")},7946:(Jt,Ze,U)=>{U.d(Ze,{hJ:()=>Vs,Xb:()=>ft,v0:()=>bl,Aj:()=>Si,e5:()=>Ft,rh:()=>Nt,w7:()=>to});var m=U(5861),F=U(2090),ae=U(9681),Ee=U(1877),Ie=U(655),Pe=U(4859);const Ke=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new Ee.Yd("@firebase/auth");function Kt(b,...h){st.logLevel<=Ee.in.ERROR&&st.error(`Auth (${ae.Jn}): ${b}`,...h)}function en(b,...h){throw At(b,...h)}function Be(b,...h){return At(b,...h)}function Se(b,h,p){const S=Object.assign(Object.assign({},Ke()),{[h]:p});return new F.LL("auth","Firebase",S).create(h,{appName:b.name})}function Je(b,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&en(b,"argument-error"),Se(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(b,...h){if("string"!=typeof b){const p=h[0],S=[...h.slice(1)];return S[0]&&(S[0].appName=b.name),b._errorFactory.create(p,...S)}return He.create(b,...h)}function Oe(b,h,...p){if(!b)throw At(h,...p)}function ze(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Kt(h),new Error(h)}function at(b,h){b||ze(h)}const Re=new Map;function Le(b){at(b instanceof Function,"Expected a class definition");let h=Re.get(b);return h?(at(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,Re.set(b,h),h)}function _t(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function qt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class bt{constructor(h,p){this.shortDelay=h,this.longDelay=p,at(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ct(){return"http:"===qt()||"https:"===qt()}()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(b,h){at(b.emulator,"Emulator should always be set here");const{url:p}=b.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class er{static initialize(h,p,S){this.fetchImpl=h,p&&(this.headersImpl=p),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zn=new bt(3e4,6e4);function Fn(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function ln(b,h,p,S){return on.apply(this,arguments)}function on(){return(on=(0,m.Z)(function*(b,h,p,S,z={}){return Ar(b,z,(0,m.Z)(function*(){let ee={},Ye={};S&&("GET"===h?Ye=S:ee={body:JSON.stringify(S)});const St=(0,F.xO)(Object.assign({key:b.config.apiKey},Ye)).slice(1),jt=yield b._getAdditionalHeaders();return jt["Content-Type"]="application/json",b.languageCode&&(jt["X-Firebase-Locale"]=b.languageCode),er.fetch()($n(b,b.config.apiHost,p,St),Object.assign({method:h,headers:jt,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Ar(b,h,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(b,h,p){b._canInitEmulator=!1;const S=Object.assign(Object.assign({},Zn),h);try{const z=new Rn(b),ee=yield Promise.race([p(),z.promise]);z.clearNetworkTimeout();const Ye=yield ee.json();if("needConfirmation"in Ye)throw sr(b,"account-exists-with-different-credential",Ye);if(ee.ok&&!("errorMessage"in Ye))return Ye;{const St=ee.ok?Ye.errorMessage:Ye.error.message,[jt,On]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw sr(b,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===jt)throw sr(b,"email-already-in-use",Ye);if("USER_DISABLED"===jt)throw sr(b,"user-disabled",Ye);const Tr=S[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw Se(b,Tr,On);en(b,Tr)}}catch(z){if(z instanceof F.ZR)throw z;en(b,"network-request-failed")}})).apply(this,arguments)}function nr(b,h,p,S){return lr.apply(this,arguments)}function lr(){return(lr=(0,m.Z)(function*(b,h,p,S,z={}){const ee=yield ln(b,h,p,S,z);return"mfaPendingCredential"in ee&&en(b,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function $n(b,h,p,S){const z=`${h}${p}?${S}`;return b.config.emulator?In(b.config,z):`${b.config.apiScheme}://${z}`}class Rn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,S)=>{this.timer=setTimeout(()=>S(Be(this.auth,"network-request-failed")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(b,h,p){const S={appName:b.name};p.email&&(S.email=p.email),p.phoneNumber&&(S.phoneNumber=p.phoneNumber);const z=Be(b,h,S);return z.customData._tokenResponse=p,z}function Ir(){return(Ir=(0,m.Z)(function*(b,h){return ln(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Hr(b,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,m.Z)(function*(b,h){return ln(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Cr(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function or(){return(or=(0,m.Z)(function*(b,h=!1){const p=(0,F.m9)(b),S=yield p.getIdToken(h),z=rn(S);Oe(z&&z.exp&&z.auth_time&&z.iat,p.auth,"internal-error");const ee="object"==typeof z.firebase?z.firebase:void 0,Ye=ee?.sign_in_provider;return{claims:z,token:S,authTime:Cr(Wn(z.auth_time)),issuedAtTime:Cr(Wn(z.iat)),expirationTime:Cr(Wn(z.exp)),signInProvider:Ye||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Wn(b){return 1e3*Number(b)}function rn(b){const[h,p,S]=b.split(".");if(void 0===h||void 0===p||void 0===S)return Kt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,F.tV)(p);return z?JSON.parse(z):(Kt("Failed to decode base64 JWT payload"),null)}catch(z){return Kt("Caught error parsing JWT payload as JSON",z?.toString()),null}}function gn(b,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(b,h,p=!1){if(p)return h;try{return yield h}catch(S){throw S instanceof F.ZR&&pr(S)&&b.auth.currentUser===b&&(yield b.auth.signOut()),S}})).apply(this,arguments)}function pr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class wr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const z=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const S=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),S)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Tt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(b){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(b){var h;const p=b.auth,S=yield b.getIdToken(),z=yield gn(b,Hr(p,{idToken:S}));Oe(z?.users.length,p,"internal-error");const ee=z.users[0];b._notifyReloadListener(ee);const Ye=null!==(h=ee.providerUserInfo)&&void 0!==h&&h.length?Dr(ee.providerUserInfo):[],St=tr(b.providerData,Ye),Tr=!!b.isAnonymous&&!(b.email&&ee.passwordHash||St?.length),ji={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:St,metadata:new Tt(ee.createdAt,ee.lastLoginAt),isAnonymous:Tr};Object.assign(b,ji)})).apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(b){const h=(0,F.m9)(b);yield _r(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function tr(b,h){return[...b.filter(S=>!h.some(z=>z.providerId===S.providerId)),...h]}function Dr(b){return b.map(h=>{var{providerId:p}=h,S=(0,Ie._T)(h,["providerId"]);return{providerId:p,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function qe(){return(qe=(0,m.Z)(function*(b,h){const p=yield Ar(b,{},(0,m.Z)(function*(){const S=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:z,apiKey:ee}=b.config,Ye=$n(b,z,"/v1/token",`key=${ee}`),St=yield b._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",er.fetch()(Ye,{method:"POST",headers:St,body:S})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Oe(h.idToken,"internal-error"),Oe(typeof h.idToken<"u","internal-error"),Oe(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ht(b){const h=rn(b);return Oe(h,"internal-error"),Oe(typeof h.exp<"u","internal-error"),Oe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var S=this;return(0,m.Z)(function*(){return Oe(!S.accessToken||S.refreshToken,h,"user-token-expired"),p||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(h,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var S=this;return(0,m.Z)(function*(){const{accessToken:z,refreshToken:ee,expiresIn:Ye}=yield function Dt(b,h){return qe.apply(this,arguments)}(h,p);S.updateTokensAndExpiration(z,ee,Number(Ye))})()}updateTokensAndExpiration(h,p,S){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(h,p){const{refreshToken:S,accessToken:z,expirationTime:ee}=p,Ye=new Ct;return S&&(Oe("string"==typeof S,"internal-error",{appName:h}),Ye.refreshToken=S),z&&(Oe("string"==typeof z,"internal-error",{appName:h}),Ye.accessToken=z),ee&&(Oe("number"==typeof ee,"internal-error",{appName:h}),Ye.expirationTime=ee),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return ze("not implemented")}}function cn(b,h){Oe("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class $t{constructor(h){var{uid:p,auth:S,stsTokenManager:z}=h,ee=(0,Ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=S,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Tt(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const S=yield gn(p,p.stsTokenManager.getToken(p.auth,h));return Oe(S,p.auth,"internal-error"),p.accessToken!==S&&(p.accessToken=S,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),S})()}getIdTokenResult(h){return function fr(b){return or.apply(this,arguments)}(this,h)}reload(){return function Ur(b){return Un.apply(this,arguments)}(this)}_assign(h){this!==h&&(Oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new $t(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var S=this;return(0,m.Z)(function*(){let z=!1;h.idToken&&h.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(h),z=!0),p&&(yield _r(S)),yield S.auth._persistUserIfCurrent(S),z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield gn(h,function Vr(b,h){return Ir.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var S,z,ee,Ye,St,jt,On,Tr;const ji=null!==(S=p.displayName)&&void 0!==S?S:void 0,na=null!==(z=p.email)&&void 0!==z?z:void 0,Ho=null!==(ee=p.phoneNumber)&&void 0!==ee?ee:void 0,wu=null!==(Ye=p.photoURL)&&void 0!==Ye?Ye:void 0,Gu=null!==(St=p.tenantId)&&void 0!==St?St:void 0,Ra=null!==(jt=p._redirectEventId)&&void 0!==jt?jt:void 0,Ko=null!==(On=p.createdAt)&&void 0!==On?On:void 0,lc=null!==(Tr=p.lastLoginAt)&&void 0!==Tr?Tr:void 0,{uid:Pa,emailVerified:cc,isAnonymous:Xa,providerData:Ja,stsTokenManager:Tl}=p;Oe(Pa&&Tl,h,"internal-error");const Es=Ct.fromJSON(this.name,Tl);Oe("string"==typeof Pa,h,"internal-error"),cn(ji,h.name),cn(na,h.name),Oe("boolean"==typeof cc,h,"internal-error"),Oe("boolean"==typeof Xa,h,"internal-error"),cn(Ho,h.name),cn(wu,h.name),cn(Gu,h.name),cn(Ra,h.name),cn(Ko,h.name),cn(lc,h.name);const Qr=new $t({uid:Pa,auth:h,email:na,emailVerified:cc,displayName:ji,isAnonymous:Xa,photoURL:wu,phoneNumber:Ho,tenantId:Gu,stsTokenManager:Es,createdAt:Ko,lastLoginAt:lc});return Ja&&Array.isArray(Ja)&&(Qr.providerData=Ja.map(eu=>Object.assign({},eu))),Ra&&(Qr._redirectEventId=Ra),Qr}static _fromIdTokenResponse(h,p,S=!1){return(0,m.Z)(function*(){const z=new Ct;z.updateFromServerResponse(p);const ee=new $t({uid:p.localId,auth:h,stsTokenManager:z,isAnonymous:S});return yield _r(ee),ee})()}}const pe=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,S){var z=this;return(0,m.Z)(function*(){z.storage[p]=S})()}_get(p){var S=this;return(0,m.Z)(function*(){const z=S.storage[p];return void 0===z?null:z})()}_remove(p){var S=this;return(0,m.Z)(function*(){delete S.storage[p]})()}_addListener(p,S){}_removeListener(p,S){}}return b.type="NONE",b})();function ce(b,h,p){return`firebase:${b}:${h}:${p}`}class K{constructor(h,p,S){this.persistence=h,this.auth=p,this.userKey=S;const{config:z,name:ee}=this.auth;this.fullUserKey=ce(this.userKey,z.apiKey,ee),this.fullPersistenceKey=ce("persistence",z.apiKey,ee),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?$t._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const S=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,S?p.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,S="authUser"){return(0,m.Z)(function*(){if(!p.length)return new K(Le(pe),h,S);const z=(yield Promise.all(p.map(function(){var On=(0,m.Z)(function*(Tr){if(yield Tr._isAvailable())return Tr});return function(Tr){return On.apply(this,arguments)}}()))).filter(On=>On);let ee=z[0]||Le(pe);const Ye=ce(S,h.config.apiKey,h.name);let St=null;for(const On of p)try{const Tr=yield On._get(Ye);if(Tr){const ji=$t._fromJSON(h,Tr);On!==ee&&(St=ji),ee=On;break}}catch{}const jt=z.filter(On=>On._shouldAllowMigration);return ee._shouldAllowMigration&&jt.length?(ee=jt[0],St&&(yield ee._set(Ye,St.toJSON())),yield Promise.all(p.map(function(){var On=(0,m.Z)(function*(Tr){if(Tr!==ee)try{yield Tr._remove(Ye)}catch{}});return function(Tr){return On.apply(this,arguments)}}())),new K(ee,h,S)):new K(ee,h,S)})()}}function ge(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Vt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(se(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Zt(h))return"Blackberry";if(ie(h))return"Webos";if(We(h))return"Safari";if((h.includes("chrome/")||ut(h))&&!h.includes("edge/"))return"Chrome";if(Yt(h))return"Android";{const S=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function se(b=(0,F.z$)()){return/firefox\//i.test(b)}function We(b=(0,F.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ut(b=(0,F.z$)()){return/crios\//i.test(b)}function Vt(b=(0,F.z$)()){return/iemobile/i.test(b)}function Yt(b=(0,F.z$)()){return/android/i.test(b)}function Zt(b=(0,F.z$)()){return/blackberry/i.test(b)}function ie(b=(0,F.z$)()){return/webos/i.test(b)}function X(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ot(b=(0,F.z$)()){return X(b)||Yt(b)||ie(b)||Zt(b)||/windows phone/i.test(b)||Vt(b)}function Cn(b,h=[]){let p;switch(b){case"Browser":p=ge((0,F.z$)());break;case"Worker":p=`${ge((0,F.z$)())}-${b}`;break;default:p=b}const S=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.Jn}/${S}`}class Mr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const S=ee=>new Promise((Ye,St)=>{try{Ye(h(ee))}catch(jt){St(jt)}});S.onAbort=p,this.queue.push(S);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===h)return;const S=[];try{for(const z of p.queue)yield z(h),z.onAbort&&S.push(z.onAbort)}catch(z){S.reverse();for(const ee of S)try{ee()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class bi{constructor(h,p,S){this.app=h,this.heartbeatServiceProvider=p,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fe(this),this.idTokenSubscription=new Fe(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(h,p){var S=this;return p&&(this._popupRedirectResolver=Le(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var z,ee;if(!S._deleted&&(S.persistenceManager=yield K.create(S,h),!S._deleted)){if(null!==(z=S._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(p),S.lastNotifiedUid=(null===(ee=S.currentUser)||void 0===ee?void 0:ee.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var S;const z=yield p.assertedPersistence.getCurrentUser();let ee=z,Ye=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const St=null===(S=p.redirectUser)||void 0===S?void 0:S._redirectEventId,jt=ee?._redirectEventId,On=yield p.tryRedirectSignIn(h);(!St||St===jt)&&On?.user&&(ee=On.user,Ye=!0)}if(!ee)return p.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Ye)try{yield p.beforeStateQueue.runMiddleware(ee)}catch(St){ee=z,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(St))}return ee?p.reloadAndSetCurrentUserOrClear(ee):p.directlySetCurrentUser(null)}return Oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ee._redirectEventId?p.directlySetCurrentUser(ee):p.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let S=null;try{S=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield _r(h)}catch(S){if("auth/network-request-failed"!==S?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function _n(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const S=h?(0,F.m9)(h):null;return S&&Oe(S.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(S&&S._clone(p))})()}_updateCurrentUser(h,p=!1){var S=this;return(0,m.Z)(function*(){if(!S._deleted)return h&&Oe(S.tenantId===h.tenantId,S,"tenant-id-mismatch"),p||(yield S.beforeStateQueue.runMiddleware(h)),S.queue((0,m.Z)(function*(){yield S.directlySetCurrentUser(h),S.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(Le(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,p,S){return this.registerStateListener(this.authStateSubscription,h,p,S)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,S){return this.registerStateListener(this.idTokenSubscription,h,p,S)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var S=this;return(0,m.Z)(function*(){const z=yield S.getOrInitRedirectPersistenceManager(p);return null===h?z.removeCurrentUser():z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const S=h&&Le(h)||p._popupRedirectResolver;Oe(S,p,"argument-error"),p.redirectPersistenceManager=yield K.create(p,[Le(S._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var S,z;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(S=p._currentUser)||void 0===S?void 0:S._redirectEventId)===h?p._currentUser:(null===(z=p.redirectUser)||void 0===z?void 0:z._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,S,z){if(this._deleted)return()=>{};const ee="function"==typeof p?p:p.next.bind(p),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(Ye,this,"internal-error"),Ye.then(()=>ee(this.currentUser)),"function"==typeof p?h.addObserver(p,S,z):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const S={"X-Client-Version":h.clientVersion};h.app.options.appId&&(S["X-Firebase-gmpid"]=h.app.options.appId);const z=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return z&&(S["X-Firebase-Client"]=z),S})()}}function an(b){return(0,F.m9)(b)}class Fe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(p=>this.observer=p)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wt(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function Pn(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class xr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return ze("not implemented")}_getIdTokenResponse(h){return ze("not implemented")}_linkToIdToken(h,p){return ze("not implemented")}_getReauthenticationResolver(h){return ze("not implemented")}}function ur(){return(ur=(0,m.Z)(function*(b,h){return ln(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(b,h){return nr(b,"POST","/v1/accounts:signInWithPassword",Fn(b,h))})).apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(b,h){return nr(b,"POST","/v1/accounts:signInWithEmailLink",Fn(b,h))})).apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(b,h){return nr(b,"POST","/v1/accounts:signInWithEmailLink",Fn(b,h))})).apply(this,arguments)}class Ui extends xr{constructor(h,p,S,z=null){super("password",S),this._email=h,this._password=p,this._tenantId=z}static _fromEmailAndPassword(h,p){return new Ui(h,p,"password")}static _fromEmailAndCode(h,p,S=null){return new Ui(h,p,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return function Rr(b,h){return Pi.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function qr(b,h){return Ni.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:en(h,"internal-error")}})()}_linkToIdToken(h,p){var S=this;return(0,m.Z)(function*(){switch(S.signInMethod){case"password":return function Ri(b,h){return ur.apply(this,arguments)}(h,{idToken:p,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function ri(b,h){return Ki.apply(this,arguments)}(h,{idToken:p,email:S._email,oobCode:S._password});default:en(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Oi(b,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(b,h){return nr(b,"POST","/v1/accounts:signInWithIdp",Fn(b,h))})).apply(this,arguments)}class Ns extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ns(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):en("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:S,signInMethod:z}=p,ee=(0,Ie._T)(p,["providerId","signInMethod"]);if(!S||!z)return null;const Ye=new Ns(S,z);return Ye.idToken=ee.idToken||void 0,Ye.accessToken=ee.accessToken||void 0,Ye.secret=ee.secret,Ye.nonce=ee.nonce,Ye.pendingToken=ee.pendingToken||null,Ye}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,p){const S=this.buildRequest();return S.idToken=p,Oi(h,S)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Oi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,F.xO)(p)}return h}}class Js{constructor(h){var p,S,z,ee,Ye,St;const jt=(0,F.zd)((0,F.pd)(h)),On=null!==(p=jt.apiKey)&&void 0!==p?p:null,Tr=null!==(S=jt.oobCode)&&void 0!==S?S:null,ji=function Ls(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=jt.mode)&&void 0!==z?z:null);Oe(On&&Tr&&ji,"argument-error"),this.apiKey=On,this.operation=ji,this.code=Tr,this.continueUrl=null!==(ee=jt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Ye=jt.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(St=jt.tenantId)&&void 0!==St?St:null}static parseLink(h){const p=function ci(b){const h=(0,F.zd)((0,F.pd)(b)).link,p=h?(0,F.zd)((0,F.pd)(h)).deep_link_id:null,S=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(S?(0,F.zd)((0,F.pd)(S)).link:null)||S||p||h||b}(h);try{return new Js(p)}catch{return null}}}let bs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(p,S){return Ui._fromEmailAndPassword(p,S)}static credentialWithLink(p,S){const z=Js.parseLink(S);return Oe(z,"argument-error"),Ui._fromEmailAndCode(p,z.code,z.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class si{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ds extends si{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let Vs=(()=>{class b extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(p,S){return Ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:S})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:S,oauthAccessToken:z}=p;if(!S&&!z)return null;try{return b.credential(S,z)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})();function di(b,h){return is.apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(b,h){return nr(b,"POST","/v1/accounts:signUp",Fn(b,h))})).apply(this,arguments)}class Ti{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,S,z=!1){return(0,m.Z)(function*(){const ee=yield $t._fromIdTokenResponse(h,S,z),Ye=qs(S);return new Ti({user:ee,providerId:Ye,_tokenResponse:S,operationType:p})})()}static _forOperation(h,p,S){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(S,!0);const z=qs(S);return new Ti({user:h,providerId:z,_tokenResponse:S,operationType:p})})()}}function qs(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Fr extends F.ZR{constructor(h,p,S,z){var ee;super(p.code,p.message),this.operationType=S,this.user=z,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:h.name,tenantId:null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:p.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(h,p,S,z){return new Fr(h,p,S,z)}}function fs(b,h,p,S){return("reauthenticate"===h?p._getReauthenticationResolver(b):p._getIdTokenResponse(b)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Fr._fromErrorAndOperation(b,ee,h,S):ee})}function ai(b,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(b,h,p=!1){const S=yield gn(b,h._linkToIdToken(b.auth,yield b.getIdToken()),p);return Ti._forOperation(b,"link",S)})).apply(this,arguments)}function gs(){return(gs=(0,m.Z)(function*(b,h,p=!1){const{auth:S}=b,z="reauthenticate";try{const ee=yield gn(b,fs(S,z,h,b),p);Oe(ee.idToken,S,"internal-error");const Ye=rn(ee.idToken);Oe(Ye,S,"internal-error");const{sub:St}=Ye;return Oe(b.uid===St,S,"user-mismatch"),Ti._forOperation(b,z,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&en(S,"user-mismatch"),ee}})).apply(this,arguments)}function yo(b,h){return zi.apply(this,arguments)}function zi(){return(zi=(0,m.Z)(function*(b,h,p=!1){const S="signIn",z=yield fs(b,S,h),ee=yield Ti._fromIdTokenResponse(b,S,z);return p||(yield b._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(b,h){return yo(an(b),h)})).apply(this,arguments)}function ft(b,h,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(b,h,p){const S=an(b),z=yield di(S,{returnSecureToken:!0,email:h,password:p}),ee=yield Ti._fromIdTokenResponse(S,"signIn",z);return yield S._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function Ft(b,h,p){return function Cs(b,h){return ii.apply(this,arguments)}((0,F.m9)(b),bs.credential(h,p))}function Si(b,h,p,S){return(0,F.m9)(b).onAuthStateChanged(h,p,S)}function to(b){return(0,F.m9)(b).signOut()}const uo="__sak";class aa{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ot=(()=>{class b extends aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,S)=>this.onStorageEvent(p,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function En(){const b=(0,F.z$)();return We(b)||X(b)}()&&function mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ot(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const S of Object.keys(this.listeners)){const z=this.storage.getItem(S),ee=this.localCache[S];z!==ee&&p(S,ee,z)}}onStorageEvent(p,S=!1){if(!p.key)return void this.forAllChangedKeys((St,jt,On)=>{this.notifyListeners(St,On)});const z=p.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem(z);if(p.newValue!==St)null!==p.newValue?this.storage.setItem(z,p.newValue):this.storage.removeItem(z);else if(this.localCache[z]===p.newValue&&!S)return}const ee=()=>{const St=this.storage.getItem(z);!S&&this.localCache[z]===St||this.notifyListeners(z,St)},Ye=this.storage.getItem(z);!function lt(){return(0,F.w1)()&&10===document.documentMode}()||Ye===p.newValue||p.newValue===p.oldValue?ee():setTimeout(ee,10)}notifyListeners(p,S){this.localCache[p]=S;const z=this.listeners[p];if(z)for(const ee of Array.from(z))ee(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,S,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:S,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,S){var z=()=>super._set,ee=this;return(0,m.Z)(function*(){yield z().call(ee,p,S),ee.localCache[p]=JSON.stringify(S)})()}_get(p){var S=()=>super._get,z=this;return(0,m.Z)(function*(){const ee=yield S().call(z,p);return z.localCache[p]=JSON.stringify(ee),ee})()}_remove(p){var S=()=>super._remove,z=this;return(0,m.Z)(function*(){yield S().call(z,p),delete z.localCache[p]})()}}return b.type="LOCAL",b})(),li=(()=>{class b extends aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,S){}_removeListener(p,S){}}return b.type="SESSION",b})();let ua=(()=>{class b{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const S=this.receivers.find(ee=>ee.isListeningto(p));if(S)return S;const z=new b(p);return this.receivers.push(z),z}isListeningto(p){return this.eventTarget===p}handleEvent(p){var S=this;return(0,m.Z)(function*(){const z=p,{eventId:ee,eventType:Ye,data:St}=z.data,jt=S.handlersMap[Ye];if(!jt?.size)return;z.ports[0].postMessage({status:"ack",eventId:ee,eventType:Ye});const On=Array.from(jt).map(function(){var ji=(0,m.Z)(function*(na){return na(z.origin,St)});return function(na){return ji.apply(this,arguments)}}()),Tr=yield function ea(b){return Promise.all(b.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(S){return{fulfilled:!1,reason:S}}});return function(p){return h.apply(this,arguments)}}()))}(On);z.ports[0].postMessage({status:"done",eventId:ee,eventType:Ye,response:Tr})})()}_subscribe(p,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(S)}_unsubscribe(p,S){this.handlersMap[p]&&S&&this.handlersMap[p].delete(S),(!S||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function va(b="",h=10){let p="";for(let S=0;S<h;S++)p+=Math.floor(10*Math.random());return b+p}class fu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,S=50){var z=this;return(0,m.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Ye,St;return new Promise((jt,On)=>{const Tr=va("",20);ee.port1.start();const ji=setTimeout(()=>{On(new Error("unsupported_event"))},S);St={messageChannel:ee,onMessage(na){const Ho=na;if(Ho.data.eventId===Tr)switch(Ho.data.status){case"ack":clearTimeout(ji),Ye=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),jt(Ho.data.response);break;default:clearTimeout(ji),clearTimeout(Ye),On(new Error("invalid_response"))}}},z.handlers.add(St),ee.port1.addEventListener("message",St.onMessage),z.target.postMessage({eventType:h,eventId:Tr,data:p},[ee.port2])}).finally(()=>{St&&z.removeMessageHandler(St)})})()}}function Qi(){return window}function Ys(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function Wo(){return(Wo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gn="firebaseLocalStorageDb",Uo="firebaseLocalStorage",gi="fbase_key";class bn{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Oo(b,h){return b.transaction([Uo],h?"readwrite":"readonly").objectStore(Uo)}function Wa(){const b=indexedDB.open(Gn,1);return new Promise((h,p)=>{b.addEventListener("error",()=>{p(b.error)}),b.addEventListener("upgradeneeded",()=>{const S=b.result;try{S.createObjectStore(Uo,{keyPath:gi})}catch(z){p(z)}}),b.addEventListener("success",(0,m.Z)(function*(){const S=b.result;S.objectStoreNames.contains(Uo)?h(S):(S.close(),yield function $r(){const b=indexedDB.deleteDatabase(Gn);return new bn(b).toPromise()}(),h(yield Wa()))}))})}function mi(b,h,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,m.Z)(function*(b,h,p){const S=Oo(b,!0).put({[gi]:h,value:p});return new bn(S).toPromise()})).apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(b,h){const p=Oo(b,!1).get(h),S=yield new bn(p).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function lo(b,h){const p=Oo(b,!0).delete(h);return new bn(p).toPromise()}const y=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield Wa()),p.db})()}_withRetries(p){var S=this;return(0,m.Z)(function*(){let z=0;for(;;)try{const ee=yield S._openDb();return yield p(ee)}catch(ee){if(z++>3)throw ee;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return Ys()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=ua._getInstance(function ta(){return Ys()?self:null}()),p.receiver._subscribe("keyChanged",function(){var S=(0,m.Z)(function*(z,ee){return{keyProcessed:(yield p._poll()).includes(ee.key)}});return function(z,ee){return S.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var S=(0,m.Z)(function*(z,ee){return["keyChanged"]});return function(z,ee){return S.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var S,z;if(p.activeServiceWorker=yield function Ea(){return Wo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new fu(p.activeServiceWorker);const ee=yield p.sender._send("ping",{},800);!ee||(null===(S=ee[0])||void 0===S?void 0:S.fulfilled)&&(null===(z=ee[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var S=this;return(0,m.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function ca(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:p},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Wa();return yield mi(p,uo,"1"),yield lo(p,uo),!0}catch{}return!1})()}_withPendingWrite(p){var S=this;return(0,m.Z)(function*(){S.pendingWrites++;try{yield p()}finally{S.pendingWrites--}})()}_set(p,S){var z=this;return(0,m.Z)(function*(){return z._withPendingWrite((0,m.Z)(function*(){return yield z._withRetries(ee=>mi(ee,p,S)),z.localCache[p]=S,z.notifyServiceWorker(p)}))})()}_get(p){var S=this;return(0,m.Z)(function*(){const z=yield S._withRetries(ee=>function wa(b,h){return Bo.apply(this,arguments)}(ee,p));return S.localCache[p]=z,z})()}_remove(p){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(z=>lo(z,p)),delete S.localCache[p],S.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const S=yield p._withRetries(Ye=>{const St=Oo(Ye,!1).getAll();return new bn(St).toPromise()});if(!S)return[];if(0!==p.pendingWrites)return[];const z=[],ee=new Set;for(const{fbase_key:Ye,value:St}of S)ee.add(Ye),JSON.stringify(p.localCache[Ye])!==JSON.stringify(St)&&(p.notifyListeners(Ye,St),z.push(Ye));for(const Ye of Object.keys(p.localCache))p.localCache[Ye]&&!ee.has(Ye)&&(p.notifyListeners(Ye,null),z.push(Ye));return z})()}notifyListeners(p,S){this.localCache[p]=S;const z=this.listeners[p];if(z)for(const ee of Array.from(z))ee(S)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function je(b){return`__${b}${Math.floor(1e6*Math.random())}`}function D(b,h){return h?Le(h):(Oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}je("rcb"),new bt(3e4,6e4);class v extends xr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Oi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Oi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Oi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function M(b){return yo(b.auth,new v(b),b.bypassAuthState)}function P(b){const{auth:h,user:p}=b;return Oe(p,h,"internal-error"),function ps(b,h){return gs.apply(this,arguments)}(p,new v(b),b.bypassAuthState)}function W(b){return le.apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(b){const{auth:h,user:p}=b;return Oe(p,h,"internal-error"),ai(p,new v(b),b.bypassAuthState)})).apply(this,arguments)}class de{constructor(h,p,S,z,ee=!1){this.auth=h,this.resolver=S,this.user=z,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(S,z){h.pendingPromise={resolve:S,reject:z};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(S,z){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:S,sessionId:z,postBody:ee,tenantId:Ye,error:St,type:jt}=h;if(St)return void p.reject(St);const On={auth:p.auth,requestUri:S,sessionId:z,tenantId:Ye||void 0,postBody:ee||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(jt)(On))}catch(Tr){p.reject(Tr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return M;case"linkViaPopup":case"linkViaRedirect":return W;case"reauthViaPopup":case"reauthViaRedirect":return P;default:en(this.auth,"internal-error")}}resolve(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const it=new bt(2e3,1e4);function Nt(b,h,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,m.Z)(function*(b,h,p){const S=an(b);Je(b,h,si);const z=D(S,p);return new no(S,"signInViaPopup",h,z).executeNotNull()})).apply(this,arguments)}let no=(()=>{class b extends de{constructor(p,S,z,ee,Ye){super(p,S,ee,Ye),this.provider=z,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const S=yield p.execute();return Oe(S,p.auth,"internal-error"),S})()}onExecution(){var p=this;return(0,m.Z)(function*(){at(1===p.filter.length,"Popup operations only handle one event");const S=va();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],S),p.authWindow.associatedEvent=S,p.resolver._originValidation(p.auth).catch(z=>{p.reject(z)}),p.resolver._isIframeWebStorageSupported(p.auth,z=>{z||p.reject(Be(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const p=()=>{var S,z;this.pollId=null!==(z=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,it.get())};p()}}return b.currentPopupAction=null,b})();const ba=new Map;class Mo extends de{constructor(h,p,S=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,S),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let S=ba.get(p.auth._key());if(!S){try{const ee=(yield function ha(b,h){return qa.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;S=()=>Promise.resolve(ee)}catch(z){S=()=>Promise.reject(z)}ba.set(p.auth._key(),S)}return p.bypassAuthState||ba.set(p.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,S=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(S,h);if("unknown"!==h.type){if(h.eventId){const z=yield S.auth._redirectUserForId(h.eventId);if(z)return S.user=z,p().call(S,h);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function qa(){return(qa=(0,m.Z)(function*(b,h){const p=Ta(h),S=Fo(b);if(!(yield S._isAvailable()))return!1;const z="true"===(yield S._get(p));return yield S._remove(p),z})).apply(this,arguments)}function ic(b,h){ba.set(b._key(),h)}function Fo(b){return Le(b._redirectPersistence)}function Ta(b){return ce("pendingRedirect",b.config.apiKey,b.name)}function fl(b,h){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,m.Z)(function*(b,h,p=!1){const S=an(b),z=D(S,h),Ye=yield new Mo(S,z,p).execute();return Ye&&!p&&(delete Ye.user._redirectEventId,yield S._persistUserIfCurrent(Ye.user),yield S._setRedirectUser(null,h)),Ye})).apply(this,arguments)}class gl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(h,S)&&(p=!0,this.sendToConsumer(h,S),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Vh(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fd(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var S;if(h.error&&!fd(h)){const z=(null===(S=h.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";p.onError(Be(this.auth,z))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const S=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&S}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ml(h))}saveEventToCache(h){this.cachedEventUids.add(ml(h)),this.lastProcessedEventTime=Date.now()}}function ml(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function fd({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function qo(b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,m.Z)(function*(b,h={}){return ln(b,"GET","/v1/projects",h)})).apply(this,arguments)}const as=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oc=/^https?/;function yi(){return(yi=(0,m.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield qo(b);for(const p of h)try{if(Uh(p))return}catch{}en(b,"unauthorized-domain")})).apply(this,arguments)}function Uh(b){const h=_t(),{protocol:p,hostname:S}=new URL(h);if(b.startsWith("chrome-extension://")){const Ye=new URL(b);return""===Ye.hostname&&""===S?"chrome-extension:"===p&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ye.hostname===S}if(!oc.test(p))return!1;if(as.test(b))return S===b;const z=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(S)}const gu=new bt(3e4,6e4);function xo(){const b=Qi().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let p=0;p<b.CP.length;p++)b.CP[p]=null}let Aa=null;function $i(b){return Aa=Aa||function io(b){return new Promise((h,p)=>{var S,z,ee;function Ye(){xo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{xo(),p(Be(b,"network-request-failed"))},timeout:gu.get()})}if(null!==(z=null===(S=Qi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==z&&z.Iframe)h(gapi.iframes.getContext());else{if(null===(ee=Qi().gapi)||void 0===ee||!ee.load){const St=je("iframefcb");return Qi()[St]=()=>{gapi.load?Ye():p(Be(b,"network-request-failed"))},function _e(b){return new Promise((h,p)=>{const S=document.createElement("script");S.setAttribute("src",b),S.onload=h,S.onerror=z=>{const ee=Be("internal-error");ee.customData=z,p(ee)},S.type="text/javascript",S.charset="UTF-8",function me(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(S)})}(`https://apis.google.com/js/api.js?onload=${St}`).catch(jt=>p(jt))}Ye()}}).catch(h=>{throw Aa=null,h})}(b),Aa}const Bh=new bt(5e3,15e3),yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _l(b){const h=b.config;Oe(h.authDomain,b,"auth-domain-config-required");const p=h.emulator?In(h,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,S={apiKey:h.apiKey,appName:b.name,v:ae.Jn},z=ac.get(b.config.apiHost);z&&(S.eid=z);const ee=b._getFrameworks();return ee.length&&(S.fw=ee.join(",")),`${p}?${(0,F.xO)(S).slice(1)}`}function _u(){return _u=(0,m.Z)(function*(b){const h=yield $i(b),p=Qi().gapi;return Oe(p,b,"internal-error"),h.open({where:document.body,url:_l(b),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yu,dontclear:!0},S=>new Promise(function(){var z=(0,m.Z)(function*(ee,Ye){yield S.restyle({setHideOnLeave:!1});const St=Be(b,"network-request-failed"),jt=Qi().setTimeout(()=>{Ye(St)},Bh.get());function On(){Qi().clearTimeout(jt),ee(S)}S.ping(On).then(On,()=>{Ye(St)})});return function(ee,Ye){return z.apply(this,arguments)}}()))}),_u.apply(this,arguments)}const Ma={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Za(b,h,p,S,z,ee){Oe(b.config.authDomain,b,"auth-domain-config-required"),Oe(b.config.apiKey,b,"invalid-api-key");const Ye={apiKey:b.config.apiKey,appName:b.name,authType:p,redirectUrl:S,v:ae.Jn,eventId:z};if(h instanceof si){h.setDefaultLanguage(b.languageCode),Ye.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(Ye.customParameters=JSON.stringify(h.getCustomParameters()));for(const[jt,On]of Object.entries(ee||{}))Ye[jt]=On}if(h instanceof ds){const jt=h.getScopes().filter(On=>""!==On);jt.length>0&&(Ye.scopes=jt.join(","))}b.tenantId&&(Ye.tid=b.tenantId);const St=Ye;for(const jt of Object.keys(St))void 0===St[jt]&&delete St[jt];return`${function Eu({config:b}){return b.emulator?In(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(St).slice(1)}`}const ju="webStorageSupport",jo=class wl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=li,this._completeRedirectFn=fl,this._overrideRedirectResult=ic}_openPopup(h,p,S,z){var ee=this;return(0,m.Z)(function*(){var Ye;at(null===(Ye=ee.eventManagers[h._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const St=Za(h,p,S,_t(),z);return function md(b,h,p,S=500,z=600){const ee=Math.max((window.screen.availHeight-z)/2,0).toString(),Ye=Math.max((window.screen.availWidth-S)/2,0).toString();let St="";const jt=Object.assign(Object.assign({},Ma),{width:S.toString(),height:z.toString(),top:ee,left:Ye}),On=(0,F.z$)().toLowerCase();p&&(St=ut(On)?"_blank":p),se(On)&&(h=h||"http://localhost",jt.scrollbars="yes");const Tr=Object.entries(jt).reduce((na,[Ho,wu])=>`${na}${Ho}=${wu},`,"");if(function Ae(b=(0,F.z$)()){var h;return X(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(On)&&"_self"!==St)return function vu(b,h){const p=document.createElement("a");p.href=b,p.target=h;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(S)}(h||"",St),new vl(null);const ji=window.open(h||"",St,Tr);Oe(ji,b,"popup-blocked");try{ji.focus()}catch{}return new vl(ji)}(h,St,va())})()}_openRedirect(h,p,S,z){var ee=this;return(0,m.Z)(function*(){return yield ee._originValidation(h),function la(b){Qi().location.href=b}(Za(h,p,S,_t(),z)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:z,promise:ee}=this.eventManagers[p];return z?Promise.resolve(z):(at(ee,"If manager is not set, promise should be"),ee)}const S=this.initAndGetManager(h);return this.eventManagers[p]={promise:S},S.catch(()=>{delete this.eventManagers[p]}),S}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const S=yield function pd(b){return _u.apply(this,arguments)}(h),z=new gl(h);return S.register("authEvent",ee=>(Oe(ee?.authEvent,h,"invalid-auth-event"),{status:z.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:z},p.iframes[h._key()]=S,z})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(ju,{type:ju},z=>{var ee;const Ye=null===(ee=z?.[0])||void 0===ee?void 0:ee[ju];void 0!==Ye&&p(!!Ye),en(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qs(b){return yi.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ot()||We()||X()}};var Dl="@firebase/auth";class yd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(S=>{h(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vd=(0,F.Pz)("authIdTokenMaxAge")||300;let Qa=null;const vs=b=>function(){var h=(0,m.Z)(function*(p){const S=p&&(yield p.getIdTokenResult()),z=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(z&&z>vd)return;const ee=S?.token;Qa!==ee&&(Qa=ee,yield fetch(b,{method:ee?"POST":"DELETE",headers:ee?{Authorization:`Bearer ${ee}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function bl(b=(0,ae.Mq)()){const h=(0,ae.qX)(b,"auth");if(h.isInitialized())return h.getImmediate();const p=function nt(b,h){const p=(0,ae.qX)(b,"auth");if(p.isInitialized()){const z=p.getImmediate(),ee=p.getOptions();if((0,F.vZ)(ee,h??{}))return z;en(z,"already-initialized")}return p.initialize({options:h})}(b,{popupRedirectResolver:jo,persistence:[y,ot,li]}),S=(0,F.Pz)("authTokenSyncURL");if(S){const ee=vs(S);(function Yr(b,h,p){(0,F.m9)(b).beforeAuthStateChanged(h,p)})(p,ee,()=>ee(p.currentUser)),function Wi(b,h,p,S){(0,F.m9)(b).onIdTokenChanged(h,p,S)}(p,Ye=>ee(Ye))}const z=(0,F.q4)("auth");return z&&function tt(b,h,p){const S=an(b);Oe(S._canInitEmulator,S,"emulator-config-failed"),Oe(/^https?:\/\//.test(h),S,"invalid-emulator-scheme");const z=!!p?.disableWarnings,ee=wt(h),{host:Ye,port:St}=function Qt(b){const h=wt(b),p=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!p)return{host:"",port:null};const S=p[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(S);if(z){const ee=z[1];return{host:ee,port:Pn(S.substr(ee.length+1))}}{const[ee,Ye]=S.split(":");return{host:ee,port:Pn(Ye)}}}(h);S.config.emulator={url:`${ee}//${Ye}${null===St?"":`:${St}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ye,port:St,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Kn(){function b(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(p,`http://${z}`),p}!function Gh(b){(0,ae.Xd)(new Pe.wA("auth",(h,{options:p})=>{const S=h.getProvider("app").getImmediate(),z=h.getProvider("heartbeat"),{apiKey:ee,authDomain:Ye}=S.options;return((St,jt)=>{Oe(ee&&!ee.includes(":"),"invalid-api-key",{appName:St.name}),Oe(!Ye?.includes(":"),"argument-error",{appName:St.name});const On={apiKey:ee,authDomain:Ye,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cn(b)},Tr=new bi(St,jt,On);return function Ve(b,h){const p=h?.persistence||[],S=(Array.isArray(p)?p:[p]).map(Le);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(S,h?.popupRedirectResolver)}(Tr,p),Tr})(S,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,S)=>{h.getProvider("auth-internal").initialize()})),(0,ae.Xd)(new Pe.wA("auth-internal",h=>{const p=an(h.getProvider("auth").getImmediate());return new yd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.KN)(Dl,"0.21.0",function Il(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,ae.KN)(Dl,"0.21.0","esm2017")}("Browser")},8766:(Jt,Ze,U)=>{U.d(Ze,{Lj:()=>Be,X3:()=>en});var m=U(5861);let ae,Ee;const ue=new WeakMap,Me=new WeakMap,Ue=new WeakMap,he=new WeakMap,fe=new WeakMap;let Te={get(ze,at,Re){if(ze instanceof IDBTransaction){if("done"===at)return Me.get(ze);if("objectStoreNames"===at)return ze.objectStoreNames||Ue.get(ze);if("store"===at)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return st(ze[at])},set:(ze,at,Re)=>(ze[at]=Re,!0),has:(ze,at)=>ze instanceof IDBTransaction&&("done"===at||"store"===at)||at in ze};function gt(ze){return"function"==typeof ze?function He(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...at){return ze.apply(Kt(this),at),st(ue.get(this))}:function(...at){return st(ze.apply(Kt(this),at))}:function(at,...Re){const Le=ze.call(Kt(this),at,...Re);return Ue.set(Le,at.sort?at.sort():[at]),st(Le)}}(ze):(ze instanceof IDBTransaction&&function Ge(ze){if(Me.has(ze))return;const at=new Promise((Re,Le)=>{const nt=()=>{ze.removeEventListener("complete",Ve),ze.removeEventListener("error",_t),ze.removeEventListener("abort",_t)},Ve=()=>{Re(),nt()},_t=()=>{Le(ze.error||new DOMException("AbortError","AbortError")),nt()};ze.addEventListener("complete",Ve),ze.addEventListener("error",_t),ze.addEventListener("abort",_t)});Me.set(ze,at)}(ze),((ze,at)=>at.some(Re=>ze instanceof Re))(ze,function Ie(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,Te):ze)}function st(ze){if(ze instanceof IDBRequest)return function be(ze){const at=new Promise((Re,Le)=>{const nt=()=>{ze.removeEventListener("success",Ve),ze.removeEventListener("error",_t)},Ve=()=>{Re(st(ze.result)),nt()},_t=()=>{Le(ze.error),nt()};ze.addEventListener("success",Ve),ze.addEventListener("error",_t)});return at.then(Re=>{Re instanceof IDBCursor&&ue.set(Re,ze)}).catch(()=>{}),fe.set(at,ze),at}(ze);if(he.has(ze))return he.get(ze);const at=gt(ze);return at!==ze&&(he.set(ze,at),fe.set(at,ze)),at}const Kt=ze=>fe.get(ze);function en(ze,at,{blocked:Re,upgrade:Le,blocking:nt,terminated:Ve}={}){const _t=indexedDB.open(ze,at),ct=st(_t);return Le&&_t.addEventListener("upgradeneeded",qt=>{Le(st(_t.result),qt.oldVersion,qt.newVersion,st(_t.transaction))}),Re&&_t.addEventListener("blocked",()=>Re()),ct.then(qt=>{Ve&&qt.addEventListener("close",()=>Ve()),nt&&qt.addEventListener("versionchange",()=>nt())}).catch(()=>{}),ct}function Be(ze,{blocked:at}={}){const Re=indexedDB.deleteDatabase(ze);return at&&Re.addEventListener("blocked",()=>at()),st(Re).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],At=new Map;function Oe(ze,at){if(!(ze instanceof IDBDatabase)||at in ze||"string"!=typeof at)return;if(At.get(at))return At.get(at);const Re=at.replace(/FromIndex$/,""),Le=at!==Re,nt=Je.includes(Re);if(!(Re in(Le?IDBIndex:IDBObjectStore).prototype)||!nt&&!Se.includes(Re))return;const Ve=function(){var _t=(0,m.Z)(function*(ct,...qt){const Bn=this.transaction(ct,nt?"readwrite":"readonly");let _n=Bn.store;return Le&&(_n=_n.index(qt.shift())),(yield Promise.all([_n[Re](...qt),nt&&Bn.done]))[0]});return function(qt){return _t.apply(this,arguments)}}();return At.set(at,Ve),Ve}!function Ke(ze){Te=ze(Te)}(ze=>({...ze,get:(at,Re,Le)=>Oe(at,Re)||ze.get(at,Re,Le),has:(at,Re)=>!!Oe(at,Re)||ze.has(at,Re)}))},5861:(Jt,Ze,U)=>{function m(ae,Ee,Ie,Pe,ue,Me,Ue){try{var he=ae[Me](Ue),fe=he.value}catch(be){return void Ie(be)}he.done?Ee(fe):Promise.resolve(fe).then(Pe,ue)}function F(ae){return function(){var Ee=this,Ie=arguments;return new Promise(function(Pe,ue){var Me=ae.apply(Ee,Ie);function Ue(fe){m(Me,Pe,ue,Ue,he,"next",fe)}function he(fe){m(Me,Pe,ue,Ue,he,"throw",fe)}Ue(void 0)})}}U.d(Ze,{Z:()=>F})}},Jt=>{Jt(Jt.s=74)}]);